(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9155],{3346:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(92068).A)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]])},25133:(e,a,t)=>{Promise.resolve().then(t.bind(t,52848))},26862:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(92068).A)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},27541:(e,a,t)=>{"use strict";var s=t(43041);t.o(s,"useRouter")&&t.d(a,{useRouter:function(){return s.useRouter}}),t.o(s,"useSearchParams")&&t.d(a,{useSearchParams:function(){return s.useSearchParams}})},43199:(e,a,t)=>{"use strict";t.d(a,{x:()=>c});var s=t(71620),r=t(50848),l=t(56489),i=t(90011);let c=(0,s.v)()((0,r.Zr)((e,a)=>({items:[],isOpen:!1,total:0,itemCount:0,addItem:async t=>{try{let{items:s}=a(),r=s.findIndex(e=>e.id===t.id&&e.variant?.id===t.variant?.id);if(r>-1){let a=[...s];a[r].quantity+=t.quantity||1,e({items:a})}else{let a={...t,quantity:t.quantity||1};e({items:[...s,a]})}a().calculateTotal();try{(await l.Ay.addToCart(t.id,t.quantity||1,t.variant?{id:t.variant.id,attributes:t.attributes||{}}:void 0)).success}catch(e){}}catch(e){throw console.error("❌ Error adding item to cart:",e),e}},removeItem:async(t,s)=>{try{let{items:r}=a();if(r.find(e=>e.id===t&&(!s||e.variant?.id===s))){let l=r.filter(e=>!(e.id===t&&(!s||e.variant?.id===s)));e({items:l}),a().calculateTotal()}}catch(l){console.error("Error removing item from cart:",l);let{items:r}=a();e({items:r.filter(e=>!(e.id===t&&(!s||e.variant?.id===s)))}),a().calculateTotal()}},updateQuantity:async(t,s,r)=>{if(s<=0)return void await a().removeItem(t,r);try{let{items:l}=a(),i=l.map(e=>e.id!==t||r&&e.variant?.id!==r?e:{...e,quantity:s});e({items:i}),a().calculateTotal()}catch(i){console.error("Error updating item quantity:",i);let{items:l}=a();e({items:l.map(e=>e.id!==t||r&&e.variant?.id!==r?e:{...e,quantity:s})}),a().calculateTotal()}},clearCart:()=>{e({items:[],total:0,itemCount:0})},toggleCart:()=>{e(e=>({isOpen:!e.isOpen}))},openCart:()=>{e({isOpen:!0})},closeCart:()=>{e({isOpen:!1})},calculateTotal:()=>{let{items:t}=a();e({total:t.reduce((e,a)=>{let t=a.sale_price||a.price;return e+(0,i.FP)(t)*a.quantity},0),itemCount:t.reduce((e,a)=>e+a.quantity,0)})}}),{name:"filler-cart-storage",partialize:e=>({items:e.items,total:e.total,itemCount:e.itemCount}),onRehydrateStorage:()=>e=>{e?.items&&e.items.length>0&&e.calculateTotal()}}))},52848:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>v});var s=t(54568),r=t(7620),l=t(27541),i=t(86660),c=t(65202),n=t(3346);let d=(0,t(92068).A)("arrow-up-narrow-wide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]);var o=t(26862),m=t(70415),x=t(91762),h=t(56489),u=t(90011),p=t(43199),g=t(32536),y=t(19664),b=t.n(y);function j(){let e=(0,l.useSearchParams)().get("q")||"",[a,t]=(0,r.useState)([]),[y,j]=(0,r.useState)(!1),[v,N]=(0,r.useState)(0),[f,w]=(0,r.useState)(1),[k,z]=(0,r.useState)(0),[_,C]=(0,r.useState)(0),[A,S]=(0,r.useState)({}),[P,F]=(0,r.useState)("relevance"),[q,M]=(0,r.useState)(!1),{addItem:E}=(0,p.x)(),[O,T]=(0,r.useState)(null);(0,r.useEffect)(()=>{try{T(new h.Of)}catch(e){console.error("Error initializing WooCommerceService:",e)}},[]),(0,r.useEffect)(()=>{e&&O&&L()},[e,A,P,f,O]);let L=async()=>{if(e&&O){j(!0);try{let a=await O.getProducts({search:e,page:f,per_page:20,orderby:"price_asc"===P||"price_desc"===P?"price":"relevance",order:"price_desc"===P?"desc":"asc"});t(a.data||[]),N(a.total||0),z(a.totalPages||1),C(100)}catch(e){console.error("Search error:",e),t([]),N(0)}finally{j(!1)}}},W=(e,a)=>{S(t=>({...t,[e]:a})),w(1)},$=()=>{S({}),w(1)},{categories:I,priceRanges:R,ratingOptions:D}={categories:Array.from(new Set(a.map(e=>e.categories&&e.categories.length>0?e.categories[0].name:"Produkt"))),priceRanges:[{label:"0 - 50 zł",min:0,max:5e3},{label:"50 - 100 zł",min:5e3,max:1e4},{label:"100 - 200 zł",min:1e4,max:2e4},{label:"200+ zł",min:2e4,max:999999}],ratingOptions:[{label:"4+ gwiazdki",value:4},{label:"4.5+ gwiazdki",value:4.5},{label:"5 gwiazdek",value:5}]};return e?(0,s.jsxs)("div",{className:"max-w-[95vw] mx-auto px-6 py-8",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsxs)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:['Wyniki wyszukiwania dla "',e,'"']}),(0,s.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[(0,s.jsxs)("span",{children:["Znaleziono ",v," produkt\xf3w",_>0&&` w ${_}ms`]}),(0,s.jsxs)("button",{onClick:()=>M(!q),className:"lg:hidden flex items-center space-x-2 text-gray-700 hover:text-black transition-colors",children:[(0,s.jsx)(n.A,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:"Filtry"})]})]})]}),(0,s.jsxs)("div",{className:"flex flex-col lg:flex-row gap-8",children:[(0,s.jsx)("div",{className:`lg:w-64 lg:block ${q?"block":"hidden"}`,children:(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 sticky top-8",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Filtry"}),(0,s.jsx)("button",{onClick:$,className:"text-sm text-gray-500 hover:text-black transition-colors",children:"Wyczyść"})]}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Kategorie"}),(0,s.jsx)("div",{className:"space-y-2",children:I.map(e=>(0,s.jsxs)("label",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"checkbox",checked:A.category===e,onChange:a=>W("category",a.target.checked?e:""),className:"mr-2"}),(0,s.jsx)("span",{className:"text-sm text-gray-700",children:e})]},e))})]}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Cena"}),(0,s.jsx)("div",{className:"space-y-2",children:R.map(e=>(0,s.jsxs)("label",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"checkbox",checked:A.price_min===e.min&&A.price_max===e.max,onChange:a=>{a.target.checked?(W("price_min",e.min),W("price_max",e.max)):(W("price_min",""),W("price_max",""))},className:"mr-2"}),(0,s.jsx)("span",{className:"text-sm text-gray-700",children:e.label})]},e.label))})]}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Dostępność"}),(0,s.jsxs)("label",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"checkbox",checked:!0===A.in_stock,onChange:e=>W("in_stock",!!e.target.checked),className:"mr-2"}),(0,s.jsx)("span",{className:"text-sm text-gray-700",children:"W magazynie"})]})]}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Ocena"}),(0,s.jsx)("div",{className:"space-y-2",children:D.map(e=>(0,s.jsxs)("label",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"checkbox",checked:A.rating_min===e.value,onChange:a=>W("rating_min",a.target.checked?e.value:0),className:"mr-2"}),(0,s.jsx)("span",{className:"text-sm text-gray-700",children:e.label})]},e.value))})]})]})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsxs)("span",{className:"text-sm text-gray-600",children:[v," produkt\xf3w"]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("select",{value:P,onChange:e=>{F(e.target.value),w(1)},className:"appearance-none bg-white border border-gray-300 rounded-lg px-4 py-2 pr-8 text-sm focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent",children:[(0,s.jsx)("option",{value:"relevance",children:"Najlepsze dopasowanie"}),(0,s.jsx)("option",{value:"price_asc",children:"Cena: od najniższej"}),(0,s.jsx)("option",{value:"price_desc",children:"Cena: od najwyższej"}),(0,s.jsx)("option",{value:"rating",children:"Najwyżej oceniane"}),(0,s.jsx)("option",{value:"newest",children:"Najnowsze"})]}),(0,s.jsx)(d,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none"})]})]})}),y&&(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-black mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Wyszukiwanie produkt\xf3w..."})]}),!y&&a.length>0&&(0,s.jsx)("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-4 lg:gap-6",children:a.map(e=>(0,s.jsx)(b(),{href:`/produkt/${e.slug}`,children:(0,s.jsxs)(i.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-3xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow cursor-pointer",children:[(0,s.jsxs)("div",{className:"aspect-square bg-gray-200 relative",children:[e.images&&e.images.length>0?(0,s.jsx)(g.default,{src:e.images[0].src,alt:e.images[0].alt||e.name,width:300,height:300,className:"w-full h-full object-cover"}):(0,s.jsx)("div",{className:"w-full h-full bg-gray-300"}),e.sale_price&&(0,s.jsx)("div",{className:"absolute top-2 left-2 bg-red-600 text-white text-xs px-2 py-1 rounded-full font-medium",children:"Promocja"}),"instock"!==e.stock_status&&(0,s.jsx)("div",{className:"absolute top-2 right-2 bg-gray-600 text-white text-xs px-2 py-1 rounded-full font-medium",children:"Brak w magazynie"})]}),(0,s.jsxs)("div",{className:"p-4",children:[(0,s.jsx)("h3",{className:"font-medium text-gray-900 mb-2 line-clamp-2",children:e.name}),(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:e.short_description||e.description}),(0,s.jsxs)("div",{className:"flex items-center mb-3",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(o.A,{className:"w-4 h-4 text-yellow-400 fill-current"}),(0,s.jsx)("span",{className:"text-sm text-gray-600 ml-1",children:parseFloat(e.average_rating)||0})]}),(0,s.jsx)("span",{className:"text-xs text-gray-400 mx-2",children:"•"}),(0,s.jsxs)("span",{className:"text-xs text-gray-600",children:[e.review_count||0," opinii"]})]}),(0,s.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-lg font-bold text-gray-900",children:(0,u.$g)(parseFloat(e.sale_price||e.price))}),e.sale_price&&(0,s.jsx)("span",{className:"text-sm text-gray-500 line-through ml-2",children:(0,u.$g)(parseFloat(e.price))})]})}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsxs)("button",{onClick:()=>{E({id:e.id,name:e.name,price:parseFloat(e.sale_price||e.price),sale_price:e.sale_price?parseFloat(e.sale_price):void 0,image:e.images&&e.images.length>0?e.images[0].src:"/images/placeholder-product.jpg"})},disabled:"instock"!==e.stock_status,className:"flex-1 bg-black text-white py-2 px-4 rounded-lg text-sm font-medium hover:bg-gray-800 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center justify-center",children:[(0,s.jsx)(m.A,{className:"w-4 h-4 mr-2"}),"Dodaj do koszyka"]}),(0,s.jsx)("button",{className:"p-2 text-gray-400 hover:text-red-500 transition-colors border border-gray-300 rounded-lg hover:border-red-300",children:(0,s.jsx)(x.A,{className:"w-4 h-4"})})]})]})]})},e.id))}),!y&&0===a.length&&0===v&&(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)(c.A,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,s.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Nie znaleziono produkt\xf3w"}),(0,s.jsxs)("p",{className:"text-gray-600 mb-4",children:['Nie znaleziono produkt\xf3w dla "',e,'". Spr\xf3buj inne słowa kluczowe lub zmień filtry.']}),(0,s.jsx)("button",{onClick:$,className:"bg-black text-white px-6 py-2 rounded-lg hover:bg-gray-800 transition-colors",children:"Wyczyść filtry"})]}),!y&&k>1&&(0,s.jsx)("div",{className:"flex items-center justify-center mt-8",children:(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsx)("button",{onClick:()=>w(e=>Math.max(1,e-1)),disabled:1===f,className:"px-3 py-2 text-sm border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Poprzednia"}),Array.from({length:Math.min(5,k)},(e,a)=>{let t=a+1;return(0,s.jsx)("button",{onClick:()=>w(t),className:`px-3 py-2 text-sm border rounded-lg ${f===t?"bg-black text-white border-black":"border-gray-300 hover:bg-gray-50"}`,children:t},t)}),(0,s.jsx)("button",{onClick:()=>w(e=>Math.min(k,e+1)),disabled:f===k,className:"px-3 py-2 text-sm border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Następna"})]})})]})]})]}):(0,s.jsx)("div",{className:"max-w-[95vw] mx-auto px-6 py-8",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)(c.A,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Wprowadź wyszukiwanie"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Użyj wyszukiwarki w g\xf3rnej części strony, aby znaleźć produkty"})]})})}function v(){return(0,s.jsx)(r.Suspense,{fallback:(0,s.jsx)("div",{children:"Loading..."}),children:(0,s.jsx)(j,{})})}},65202:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(92068).A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},70415:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(92068).A)("shopping-cart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]])},90011:(e,a,t)=>{"use strict";function s(e){return new Intl.NumberFormat("pl-PL",{style:"currency",currency:"PLN",minimumFractionDigits:2,maximumFractionDigits:2}).format(e)}function r(e){return 1.23*e}function l(e){return s(r(e))+" (z VAT)"}t.d(a,{$g:()=>s,FP:()=>r,mF:()=>l})},91762:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(92068).A)("heart",[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]])}},e=>{e.O(0,[9391,9775,6489,587,18,7358],()=>e(e.s=25133)),_N_E=e.O()}]);