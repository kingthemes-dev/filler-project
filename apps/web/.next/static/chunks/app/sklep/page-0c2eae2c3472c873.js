(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[14],{3346:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(92068).A)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]])},14486:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(92068).A)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},19760:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(92068).A)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},25575:(e,a,t)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return r}});let s=t(84931)._(t(97007));function r(e,a){var t;let r={};"function"==typeof e&&(r.loader=e);let l={...r,...a};return(0,s.default)({...l,modules:null==(t=l.loadableGenerated)?void 0:t.modules})}("function"==typeof a.default||"object"==typeof a.default&&null!==a.default)&&void 0===a.default.__esModule&&(Object.defineProperty(a.default,"__esModule",{value:!0}),Object.assign(a.default,a),e.exports=a.default)},43232:(e,a,t)=>{"use strict";t.d(a,{default:()=>w});var s=t(54568),r=t(7620),l=t(65202),i=t(72116),n=t(92068);let o=(0,n.A)("grid-3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),d=(0,n.A)("list",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);var c=t(12598),u=t(3346),m=t(25575),g=t.n(m),p=t(58119),h=t(86660),x=t(39109),y=t(19760),b=t(14486);let f=[{id:"mezoterapia",name:"Mezoterapia",slug:"mezoterapia",subcategories:[{id:"cellulit",name:"Cellulit",slug:"cellulit"},{id:"lipoliza",name:"Lipoliza",slug:"lipoliza"},{id:"rewitalizacja",name:"Rewitalizacja",slug:"rewitalizacja"},{id:"zmarszczki",name:"Zmarszczki",slug:"zmarszczki"}]},{id:"peelingi",name:"Peelingi",slug:"peelingi",subcategories:[{id:"post-peel",name:"Post peel (pielęgnacja pozabiegowa)",slug:"post-peel"}]},{id:"stymulatory",name:"Stymulatory",slug:"stymulatory",subcategories:[{id:"egzosomy",name:"Egzosomy",slug:"egzosomy"},{id:"hydroksyapatyt",name:"Hydroksyapatyt wapnia (CaHA)",slug:"hydroksyapatyt-wapnia"},{id:"kolagen",name:"Kolagen",slug:"kolagen"},{id:"kwas-bursztynowy",name:"Kwas bursztynowy",slug:"kwas-bursztynowy"},{id:"kwas-hialuronowy",name:"Kwas hialuronowy",slug:"kwas-hialuronowy"},{id:"kwas-polimlekowy",name:"Kwas polimlekowy (PLLA)",slug:"kwas-polimlekowy"},{id:"polikaprolakton",name:"Polikaprolakton (PCL)",slug:"polikaprolakton"},{id:"polinukleotydy",name:"Polinukleotydy",slug:"polinukleotydy"}]},{id:"wypelniacze",name:"Wypełniacze",slug:"wypelniacze",subcategories:[{id:"korekcja-nosa",name:"Korekcja nosa",slug:"korekcja-nosa"},{id:"wypelniacze-ha",name:"Wypełniacze HA (og\xf3lne)",slug:"wypelniacze-ha"},{id:"zmarszczki-srednie",name:"Zmarszczki średnie",slug:"zmarszczki-srednie"}]}];function j({onCategoryChange:e,selectedCategory:a,selectedSubcategory:t}){let[l,i]=(0,r.useState)(new Set),n=(a,t)=>{e(a,t)},o=e=>l.has(e);return(0,s.jsxs)("div",{className:"w-full max-w-6xl mx-auto px-6",children:[(0,s.jsx)(h.P.button,{onClick:()=>n(""),className:`w-full mb-4 px-6 py-4 rounded-2xl text-left font-semibold text-lg transition-all duration-300 ${!a?"bg-gradient-to-r from-purple-600 to-pink-600 text-white shadow-xl":"bg-white text-gray-700 border-2 border-gray-200 hover:border-purple-300 hover:shadow-lg"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{children:"Wszystkie kategorie"}),!a&&(0,s.jsx)(h.P.div,{initial:{scale:0},animate:{scale:1},className:"w-6 h-6 bg-white/20 rounded-full flex items-center justify-center",children:(0,s.jsx)(y.A,{className:"w-4 h-4"})})]})}),(0,s.jsx)("div",{className:"space-y-3",children:f.map(e=>(0,s.jsxs)(h.P.div,{className:"bg-white rounded-2xl border-2 border-gray-100 overflow-hidden shadow-sm hover:shadow-lg transition-all duration-300",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[(0,s.jsx)(h.P.button,{onClick:()=>{var a;a=e.id,i(e=>{let t=new Set(e);return t.has(a)?t.delete(a):t.add(a),t}),n(e.id)},className:`w-full px-6 py-4 text-left transition-all duration-300 ${a===e.id?"bg-gradient-to-r from-purple-600 to-pink-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,whileHover:{scale:1.01},whileTap:{scale:.99},children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(h.P.div,{animate:{rotate:90*!!o(e.id)},transition:{duration:.2},children:(0,s.jsx)(b.A,{className:"w-5 h-5"})}),(0,s.jsx)("span",{className:"font-semibold text-lg",children:e.name})]}),(0,s.jsx)("div",{className:"flex items-center gap-2",children:a===e.id&&(0,s.jsx)(h.P.div,{initial:{scale:0},animate:{scale:1},className:"w-6 h-6 bg-white/20 rounded-full flex items-center justify-center",children:(0,s.jsx)(y.A,{className:"w-4 h-4"})})})]})}),(0,s.jsx)(x.N,{children:o(e.id)&&(0,s.jsx)(h.P.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:"overflow-hidden",children:(0,s.jsx)("div",{className:"border-t border-gray-100 bg-gray-50/50",children:e.subcategories.map((a,r)=>(0,s.jsxs)(h.P.button,{onClick:()=>n(e.id,a.id),className:`w-full px-6 py-3 text-left transition-all duration-200 flex items-center gap-3 ${t===a.id?"bg-purple-100 text-purple-700 border-l-4 border-purple-500":"text-gray-600 hover:bg-white hover:text-gray-800"}`,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.05*r},whileHover:{x:4},children:[(0,s.jsx)("div",{className:"w-2 h-2 rounded-full bg-gray-300 flex-shrink-0"}),(0,s.jsx)("span",{className:"font-medium",children:a.name}),t===a.id&&(0,s.jsx)(h.P.div,{initial:{scale:0},animate:{scale:1},className:"ml-auto w-5 h-5 bg-purple-500 rounded-full flex items-center justify-center",children:(0,s.jsx)(y.A,{className:"w-3 h-3 text-white"})})]},a.id))})})})]},e.id))}),(0,s.jsx)(h.P.div,{className:"mt-6 p-4 bg-gradient-to-r from-gray-50 to-gray-100 rounded-2xl",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:(0,s.jsxs)("p",{className:"text-sm text-gray-500 text-center",children:["\uD83D\uDCA1 ",(0,s.jsx)("strong",{children:"Wskaz\xf3wka:"})," Kliknij na kategorię, aby zobaczyć podkategorie"]})})]})}t(56489);let k=g()(()=>t.e(3091).then(t.bind(t,33091)),{loadableGenerated:{webpack:()=>[33091]},loading:()=>(0,s.jsx)("div",{className:"animate-pulse bg-gray-200 rounded-2xl h-96"})});function w({initialShopData:e}){let[a,t]=(0,r.useState)(e?.products||[]),[n,m]=(0,r.useState)(e?.categories||[]),[g,p]=(0,r.useState)(!1),[h,x]=(0,r.useState)(e?.total||0),[y,b]=(0,r.useState)(1),[f]=(0,r.useState)(12),[w,N]=(0,r.useState)(!1),[z,P]=(0,r.useState)("grid"),[S,A]=(0,r.useState)(!1),[C,M]=(0,r.useState)(!1),[_,O]=(0,r.useState)({search:"",categories:[],minPrice:0,maxPrice:1e4,inStock:!1,onSale:!1,sortBy:"date",sortOrder:"desc"}),[E,W]=(0,r.useState)(_.search);(0,r.useEffect)(()=>{let e=setTimeout(()=>{O(e=>({...e,search:E}))},300);return()=>clearTimeout(e)},[E]);let L=(0,r.useCallback)(async()=>{a.length>0?M(!0):A(!0),p(!0);try{let e=new URLSearchParams;e.append("endpoint","shop"),e.append("page",y.toString()),e.append("per_page",f.toString()),_.categories.length>0&&e.append("category",_.categories.join(",")),_.search&&e.append("search",_.search),e.append("orderby","name"===_.sortBy?"title":_.sortBy),e.append("order",_.sortOrder),_.onSale&&e.append("on_sale","true"),_.minPrice>=0&&e.append("min_price",_.minPrice.toString()),_.maxPrice<1e4&&e.append("max_price",_.maxPrice.toString()),Object.keys(_).forEach(a=>{a.startsWith("pa_")&&Array.isArray(_[a])&&_[a].length>0&&e.append(a,_[a].join(","))});let a=`/api/woocommerce?${e.toString()}`,s=await fetch(a),r=await s.json();if(r.success&&r.products){let e=r.products.filter((e,a,t)=>a===t.findIndex(a=>a.id===e.id));t(e),x(r.total||0),1===y&&r.categories&&r.categories.length>0&&m(r.categories)}else console.error("❌ API call failed or no products:",r),t([]),x(0)}catch(e){console.error("❌ Error fetching products:",e),t([]),x(0)}finally{p(!1),A(!1),M(!1)}},[_,y,f]);(0,r.useEffect)(()=>{L()},[]),(0,r.useEffect)(()=>{b(1);let e=setTimeout(()=>{L()},500);return()=>clearTimeout(e)},[_,L]),(0,r.useEffect)(()=>{y>1&&L()},[y,L]);let $=(e,a)=>{"categories"===e?O(t=>{let s=t[e],r=s.includes(a)?s.filter(e=>e!==a):[...s,a];return{...t,[e]:r}}):e.startsWith("pa_")?O(t=>{let s=a.split(",").filter(e=>e.trim());return{...t,[e]:s}}):O(t=>({...t,[e]:a}))},T=(e,a)=>{O(t=>{let s=a||e;if(""===s)return{...t,categories:[]};let r=t.categories,l=r.includes(s)?r.filter(e=>e!==s):[...r,s];return{...t,categories:l}})},q=()=>{O({search:"",categories:[],minPrice:0,maxPrice:1e4,inStock:!1,onSale:!1,sortBy:"date",sortOrder:"desc"}),W("")};return(0,s.jsx)("div",{className:"min-h-screen bg-white",children:(0,s.jsxs)("div",{className:"max-w-[95vw] mx-auto px-6 py-8 pb-16",children:[(0,s.jsxs)("div",{className:"bg-gray-50 py-8 rounded-3xl",children:[(0,s.jsxs)("div",{className:"text-center mb-6",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Sklep"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Odkryj nasze najlepsze produkty"})]}),(0,s.jsx)(j,{onCategoryChange:T,selectedCategory:_.categories[0],selectedSubcategory:_.categories[1]})]}),(0,s.jsx)("div",{className:"h-6"}),(0,s.jsx)("div",{className:"bg-white rounded-2xl border border-gray-200 p-4 sm:p-6 mb-6 sm:mb-8",children:(0,s.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,s.jsxs)("div",{className:"relative group",children:[(0,s.jsx)(l.A,{className:"absolute left-3 sm:left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4 sm:w-5 sm:h-5 group-focus-within:text-black transition-colors"}),(0,s.jsx)("input",{type:"text",placeholder:"Szukaj produkt\xf3w...",value:E,onChange:e=>W(e.target.value),className:"w-full pl-10 sm:pl-12 pr-4 py-3 sm:py-4 border border-gray-200 rounded-xl focus:ring-2 focus:ring-black/10 focus:border-black transition-all duration-200 bg-gray-50 text-sm sm:text-base"})]}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 items-stretch sm:items-center",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 bg-gray-50 rounded-xl p-1 border border-gray-200 flex-1 sm:flex-none",children:[(0,s.jsxs)("select",{value:_.sortBy,onChange:e=>$("sortBy",e.target.value),className:"px-3 sm:px-4 py-2 sm:py-3 border-0 bg-transparent focus:ring-0 focus:outline-none text-sm font-medium text-gray-700 cursor-pointer flex-1",children:[(0,s.jsx)("option",{value:"date",children:"Data dodania"}),(0,s.jsx)("option",{value:"price",children:"Cena"}),(0,s.jsx)("option",{value:"name",children:"Nazwa"}),(0,s.jsx)("option",{value:"popularity",children:"Popularność"})]}),(0,s.jsx)("button",{onClick:()=>$("sortOrder","asc"===_.sortOrder?"desc":"asc"),className:"p-2 rounded-lg hover:bg-gray-100 transition-colors group",title:"asc"===_.sortOrder?"Sortuj malejąco":"Sortuj rosnąco",children:(0,s.jsx)(i.A,{className:`w-4 h-4 text-gray-600 group-hover:text-black transition-colors ${"asc"===_.sortOrder?"rotate-180":""}`})})]}),(0,s.jsxs)("div",{className:"flex items-center gap-1 bg-gray-50 rounded-xl p-1 border border-gray-200",children:[(0,s.jsx)("button",{onClick:()=>P("grid"),className:`p-2 rounded-lg transition-all duration-200 ${"grid"===z?"bg-black text-white":"text-gray-600 hover:text-black hover:bg-gray-100"}`,title:"Widok siatki",children:(0,s.jsx)(o,{className:"w-4 h-4"})}),(0,s.jsx)("button",{onClick:()=>P("list"),className:`p-2 rounded-lg transition-all duration-200 ${"list"===z?"bg-black text-white":"text-gray-600 hover:text-black hover:bg-gray-100"}`,title:"Widok listy",children:(0,s.jsx)(d,{className:"w-4 h-4"})})]}),(0,s.jsxs)("button",{onClick:q,className:"px-4 py-2 sm:py-3 text-sm font-medium text-gray-600 hover:text-black hover:bg-gray-100 rounded-xl transition-all duration-200 flex items-center justify-center gap-2 border border-gray-200",children:[(0,s.jsx)(c.A,{className:"w-4 h-4"}),"Wyczyść"]}),(0,s.jsxs)("button",{onClick:()=>N(!w),className:"sm:hidden px-4 py-2 sm:py-3 bg-black text-white rounded-xl flex items-center justify-center gap-2 hover:bg-gray-800 transition-all duration-200 font-medium",children:[(0,s.jsx)(u.A,{className:"w-4 h-4"}),"Filtry"]})]})]})}),(0,s.jsxs)("div",{className:"flex flex-col lg:flex-row gap-8",children:[(0,s.jsx)(k,{categories:n.map(e=>({...e,count:e.count||0})),filters:_,onFilterChange:$,onCategoryChange:T,onClearFilters:q,showFilters:w,onToggleFilters:()=>N(!w),totalProducts:h,attributesLoading:!1,wooCommerceCategories:n.map(e=>({id:e.id,name:e.name,slug:e.slug,parent:0,count:e.count||0})),products:a}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("div",{className:"mb-6",children:(0,s.jsxs)("p",{className:"text-gray-600",children:["Znaleziono ",(0,s.jsx)("span",{className:"font-semibold",children:h})," produkt\xf3w"]})}),g||S?(0,s.jsx)("div",{className:"grid gap-4 lg:gap-6 grid-cols-2 lg:grid-cols-3",children:Array.from({length:6}).map((e,a)=>(0,s.jsxs)("div",{className:"animate-pulse",children:[(0,s.jsx)("div",{className:"bg-gray-200 rounded-lg aspect-square mb-4"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),(0,s.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})]},a))}):(0,s.jsxs)("div",{className:`grid gap-4 lg:gap-6 ${"grid"===z?"grid-cols-2 lg:grid-cols-3":"grid-cols-1"} relative`,children:[C&&(0,s.jsx)("div",{className:"absolute top-0 right-0 z-10 bg-white/80 backdrop-blur-sm rounded-lg p-2",children:(0,s.jsx)("div",{className:"w-4 h-4 border-2 border-gray-300 border-t-black rounded-full animate-spin"})}),a.map(e=>(0,s.jsx)(v,{product:e,variant:"list"===z?"list":"default"},e.id))]}),!S&&a.length>0&&h>f&&(0,s.jsxs)("div",{className:"flex justify-center items-center space-x-2 py-8",children:[(0,s.jsx)("button",{onClick:()=>b(e=>Math.max(1,e-1)),disabled:1===y,className:"px-4 py-2 border border-gray-300 rounded-lg font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Poprzednia"}),(0,s.jsx)("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.ceil(h/f)},(e,a)=>a+1).filter(e=>{let a=Math.ceil(h/f);return 1===e||e===a||e>=y-1&&e<=y+1}).map((e,a,t)=>{let r=t[a-1],l=r&&e-r>1;return(0,s.jsxs)("div",{className:"flex items-center",children:[l&&(0,s.jsx)("span",{className:"px-2 text-gray-500",children:"..."}),(0,s.jsx)("button",{onClick:()=>b(e),className:`min-w-[40px] h-10 rounded-lg font-medium transition-colors ${y===e?"bg-black text-white":"text-gray-700 hover:bg-gray-100"}`,children:e})]},e)})}),(0,s.jsx)("button",{onClick:()=>b(e=>Math.min(Math.ceil(h/f),e+1)),disabled:y>=Math.ceil(h/f),className:"px-4 py-2 border border-gray-300 rounded-lg font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Następna"})]}),!g&&0===a.length&&(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)("div",{className:"text-gray-400 mb-4",children:(0,s.jsx)(l.A,{className:"w-16 h-16 mx-auto"})}),(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nie znaleziono produkt\xf3w"}),(0,s.jsx)("p",{className:"text-gray-500 mb-4",children:"Spr\xf3buj zmienić kryteria wyszukiwania"}),(0,s.jsx)("button",{onClick:q,className:"px-6 py-3 bg-black text-white rounded-xl hover:bg-gray-800 transition-colors",children:"Wyczyść filtry"})]})]})]})]})})}let v=(0,r.memo)(p.A)},65202:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(92068).A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},72116:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(92068).A)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},97007:(e,a,t)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return o}});let s=t(54568),r=t(7620),l=t(56452);function i(e){return{default:e&&"default"in e?e.default:e}}t(3625);let n={loader:()=>Promise.resolve(i(()=>null)),loading:null,ssr:!0},o=function(e){let a={...n,...e},t=(0,r.lazy)(()=>a.loader().then(i)),o=a.loading;function d(e){let i=o?(0,s.jsx)(o,{isLoading:!0,pastDelay:!0,error:null}):null,n=!a.ssr||!!a.loading,d=n?r.Suspense:r.Fragment,c=a.ssr?(0,s.jsxs)(s.Fragment,{children:[null,(0,s.jsx)(t,{...e})]}):(0,s.jsx)(l.BailoutToCSR,{reason:"next/dynamic",children:(0,s.jsx)(t,{...e})});return(0,s.jsx)(d,{...n?{fallback:i}:{},children:c})}return d.displayName="LoadableComponent",d}},99574:(e,a,t)=>{Promise.resolve().then(t.bind(t,43232))}},e=>{e.O(0,[9391,9775,6102,3583,6489,4321,4294,8119,587,18,7358],()=>e(e.s=99574)),_N_E=e.O()}]);