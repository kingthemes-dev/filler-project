(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3194],{10614:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(92068).A)("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]])},12494:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(92068).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},19760:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(92068).A)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},26862:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(92068).A)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},29304:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(92068).A)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]])},39109:(e,s,a)=>{"use strict";a.d(s,{N:()=>j});var t=a(54568),r=a(7620),i=a(95971),l=a(23847),n=a(85176),c=a(42015),d=a(83449),o=a(39070);class x extends r.Component{getSnapshotBeforeUpdate(e){let s=this.props.childRef.current;if(s&&e.isPresent&&!this.props.isPresent){let e=s.offsetParent,a=(0,d.s)(e)&&e.offsetWidth||0,t=this.props.sizeRef.current;t.height=s.offsetHeight||0,t.width=s.offsetWidth||0,t.top=s.offsetTop,t.left=s.offsetLeft,t.right=a-t.width-t.left}return null}componentDidUpdate(){}render(){return this.props.children}}function m({children:e,isPresent:s,anchorX:a,root:i}){let l=(0,r.useId)(),n=(0,r.useRef)(null),c=(0,r.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=(0,r.useContext)(o.Q);return(0,r.useInsertionEffect)(()=>{let{width:e,height:t,top:r,left:o,right:x}=c.current;if(s||!n.current||!e||!t)return;let m="left"===a?`left: ${o}`:`right: ${x}`;n.current.dataset.motionPopId=l;let h=document.createElement("style");d&&(h.nonce=d);let u=i??document.head;return u.appendChild(h),h.sheet&&h.sheet.insertRule(`
          [data-motion-pop-id="${l}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${t}px !important;
            ${m}px !important;
            top: ${r}px !important;
          }
        `),()=>{u.contains(h)&&u.removeChild(h)}},[s]),(0,t.jsx)(x,{isPresent:s,childRef:n,sizeRef:c,children:r.cloneElement(e,{ref:n})})}let h=({children:e,initial:s,isPresent:a,onExitComplete:i,custom:n,presenceAffectsLayout:d,mode:o,anchorX:x,root:h})=>{let p=(0,l.M)(u),g=(0,r.useId)(),f=!0,j=(0,r.useMemo)(()=>(f=!1,{id:g,initial:s,isPresent:a,custom:n,onExitComplete:e=>{for(let s of(p.set(e,!0),p.values()))if(!s)return;i&&i()},register:e=>(p.set(e,!1),()=>p.delete(e))}),[a,p,i]);return d&&f&&(j={...j}),(0,r.useMemo)(()=>{p.forEach((e,s)=>p.set(s,!1))},[a]),r.useEffect(()=>{a||p.size||!i||i()},[a]),"popLayout"===o&&(e=(0,t.jsx)(m,{isPresent:a,anchorX:x,root:h,children:e})),(0,t.jsx)(c.t.Provider,{value:j,children:e})};function u(){return new Map}var p=a(26472);let g=e=>e.key||"";function f(e){let s=[];return r.Children.forEach(e,e=>{(0,r.isValidElement)(e)&&s.push(e)}),s}let j=({children:e,custom:s,initial:a=!0,onExitComplete:c,presenceAffectsLayout:d=!0,mode:o="sync",propagate:x=!1,anchorX:m="left",root:u})=>{let[j,y]=(0,p.xQ)(x),b=(0,r.useMemo)(()=>f(e),[e]),v=x&&!j?[]:b.map(g),w=(0,r.useRef)(!0),N=(0,r.useRef)(b),k=(0,l.M)(()=>new Map),[_,z]=(0,r.useState)(b),[A,P]=(0,r.useState)(b);(0,n.E)(()=>{w.current=!1,N.current=b;for(let e=0;e<A.length;e++){let s=g(A[e]);v.includes(s)?k.delete(s):!0!==k.get(s)&&k.set(s,!1)}},[A,v.length,v.join("-")]);let $=[];if(b!==_){let e=[...b];for(let s=0;s<A.length;s++){let a=A[s],t=g(a);v.includes(t)||(e.splice(s,0,a),$.push(a))}return"wait"===o&&$.length&&(e=$),P(f(e)),z(b),null}let{forceRender:S}=(0,r.useContext)(i.L);return(0,t.jsx)(t.Fragment,{children:A.map(e=>{let r=g(e),i=(!x||!!j)&&(b===A||v.includes(r));return(0,t.jsx)(h,{isPresent:i,initial:(!w.current||!!a)&&void 0,custom:s,presenceAffectsLayout:d,mode:o,root:u,onExitComplete:i?void 0:()=>{if(!k.has(r))return;k.set(r,!0);let e=!0;k.forEach(s=>{s||(e=!1)}),e&&(S?.(),P(N.current),x&&y?.(),c&&c())},anchorX:m,children:e},r)})})}},45801:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(92068).A)("truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]])},64751:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(92068).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},65198:(e,s,a)=>{Promise.resolve().then(a.bind(a,74104))},70419:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(92068).A)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},74104:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>A});var t=a(54568),r=a(7620),i=a(86660),l=a(26862),n=a(70415),c=a(91762),d=a(45801),o=a(70419),x=a(43199),m=a(67550),h=a(90011),u=a(56489);function p({productId:e}){let[s,a]=(0,r.useState)([]),[i,n]=(0,r.useState)(!0),[c,d]=(0,r.useState)(null);return((0,r.useEffect)(()=>{(async()=>{try{n(!0);let s=await fetch(`/api/reviews?product_id=${e}`);if(!s.ok)throw Error(`HTTP error! status: ${s.status}`);let t=await s.json();a(t)}catch(e){d(e instanceof Error?e.message:"Błąd ładowania opinii"),console.error("Error fetching reviews:",e)}finally{n(!1)}})()},[e]),i)?(0,t.jsx)("div",{className:"space-y-4",children:[void 0,void 0,void 0].map((e,s)=>(0,t.jsxs)("div",{className:"animate-pulse",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-gray-200 rounded-full"}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("div",{className:"h-4 bg-gray-200 rounded w-24"}),(0,t.jsx)("div",{className:"h-3 bg-gray-200 rounded w-16"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("div",{className:"h-4 bg-gray-200 rounded w-full"}),(0,t.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4"})]})]},s))}):c?(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsxs)("p",{className:"text-red-600",children:["Błąd ładowania opinii: ",c]}),(0,t.jsx)("button",{onClick:()=>window.location.reload(),className:"mt-2 text-blue-600 hover:underline",children:"Spr\xf3buj ponownie"})]}):0===s.length?(0,t.jsx)("div",{className:"text-center py-8",children:(0,t.jsx)("p",{className:"text-gray-600",children:"Brak szczeg\xf3łowych opinii."})}):(0,t.jsx)("div",{className:"space-y-6",children:s.map(e=>{let s;return(0,t.jsx)("div",{className:"border-b border-gray-200 pb-6 last:border-b-0",children:(0,t.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-gray-600 font-medium text-sm",children:e.reviewer.charAt(0).toUpperCase()})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,t.jsx)("h5",{className:"font-medium text-gray-900",children:e.reviewer}),(0,t.jsx)("div",{className:"flex items-center space-x-1",children:(s=e.rating,Array.from({length:5},(e,a)=>(0,t.jsx)(l.A,{className:`w-4 h-4 ${a<s?"text-yellow-400 fill-current":"text-gray-300"}`},a)))}),(0,t.jsx)("span",{className:"text-sm text-gray-500",children:new Date(e.date_created).toLocaleDateString("pl-PL",{year:"numeric",month:"long",day:"numeric"})})]}),(0,t.jsx)("p",{className:"text-gray-700 leading-relaxed",children:e.review})]})]})},e.id)})})}var g=a(32536),f=a(29304);function j({productId:e,onReviewSubmitted:s}){let[a,i]=(0,r.useState)({reviewer:"",reviewer_email:"",review:"",rating:0}),[n,c]=(0,r.useState)(!1),[d,o]=(0,r.useState)("idle"),[x,m]=(0,r.useState)(""),h=e=>{let{name:s,value:a}=e.target;i(e=>({...e,[s]:a}))},p=async t=>{if(t.preventDefault(),!a.reviewer||!a.reviewer_email||!a.review||0===a.rating){m("Wszystkie pola są wymagane"),o("error");return}c(!0),o("idle"),m("");try{await u.Ay.createProductReview({product_id:e,review:a.review,reviewer:a.reviewer,reviewer_email:a.reviewer_email,rating:a.rating}),o("success"),i({reviewer:"",reviewer_email:"",review:"",rating:0}),s&&s()}catch(e){console.error("Error submitting review:",e),o("error"),m("Wystąpił błąd podczas dodawania opinii. Spr\xf3buj ponownie.")}finally{c(!1)}};return"success"===d?(0,t.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6 text-center",children:[(0,t.jsx)("div",{className:"text-green-600 text-lg font-semibold mb-2",children:"Dziękujemy za opinię!"}),(0,t.jsx)("p",{className:"text-green-700",children:"Twoja opinia została dodana i będzie widoczna po zatwierdzeniu."}),(0,t.jsx)("button",{onClick:()=>o("idle"),className:"mt-4 text-green-600 hover:text-green-800 underline",children:"Dodaj kolejną opinię"})]}):(0,t.jsx)("form",{onSubmit:p,className:"space-y-6",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Dodaj swoją opinię"}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ocena *"}),(0,t.jsx)("div",{className:"flex space-x-1",children:[1,2,3,4,5].map(e=>(0,t.jsx)("button",{type:"button",onClick:()=>{i(s=>({...s,rating:e}))},className:`p-1 transition-colors ${e<=a.rating?"text-yellow-400":"text-gray-300 hover:text-yellow-300"}`,children:(0,t.jsx)(l.A,{className:`w-6 h-6 ${e<=a.rating?"fill-current":""}`})},e))}),a.rating>0&&(0,t.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:[1===a.rating&&"Bardzo słaba",2===a.rating&&"Słaba",3===a.rating&&"Średnia",4===a.rating&&"Dobra",5===a.rating&&"Bardzo dobra"]})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{htmlFor:"reviewer",className:"block text-sm font-medium text-gray-700 mb-2",children:"Imię i nazwisko *"}),(0,t.jsx)("input",{type:"text",id:"reviewer",name:"reviewer",value:a.reviewer,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-black focus:border-transparent",placeholder:"Twoje imię i nazwisko",required:!0})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{htmlFor:"reviewer_email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Adres e-mail *"}),(0,t.jsx)("input",{type:"email",id:"reviewer_email",name:"reviewer_email",value:a.reviewer_email,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-black focus:border-transparent",placeholder:"twoj@email.com",required:!0})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{htmlFor:"review",className:"block text-sm font-medium text-gray-700 mb-2",children:"Twoja opinia *"}),(0,t.jsx)("textarea",{id:"review",name:"review",value:a.review,onChange:h,rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-black focus:border-transparent",placeholder:"Podziel się swoją opinią o tym produkcie...",required:!0})]}),"error"===d&&(0,t.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:(0,t.jsx)("p",{className:"text-red-600 text-sm",children:x})}),(0,t.jsx)("button",{type:"submit",disabled:n||0===a.rating,className:"w-full bg-black text-white py-3 px-6 rounded-lg font-medium hover:bg-gray-800 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:n?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,t.jsx)("span",{children:"Dodawanie opinii..."})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(f.A,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"Dodaj opinię"})]})})]})})}var y=a(19664),b=a.n(y),v=a(64751),w=a(19760),N=a(58119),k=a(25703);function _({className:e,...s}){return(0,t.jsx)("div",{className:(0,k.cn)("animate-pulse rounded-md bg-muted",e),...s})}function z({productId:e,crossSellIds:s=[],relatedIds:a=[],categoryId:l,limit:n=4}){let[c,d]=(0,r.useState)([]),[o,x]=(0,r.useState)(!0),[m,h]=(0,r.useState)(0);return((0,r.useEffect)(()=>{let t=async()=>{try{x(!0);let t=[],r=e=>e&&e.price&&""!==String(e.price).trim()&&e.name&&"Produkt"!==e.name,i=Array.from(new Set([...(s||[]).slice(0,n),...(a||[]).slice(0,n)])).slice(0,n);if(i.length>0)try{let e=await fetch(`/api/woocommerce?endpoint=products&include=${i.join(",")}&_fields=id,name,slug,price,regular_price,sale_price,on_sale,featured,images,stock_status,average_rating,rating_count`);if(e.ok){let s=await e.json();Array.isArray(s)&&(t=s.filter(r))}else throw Error("Batch fetch failed, falling back to individual calls")}catch(e){t=(await Promise.all(i.map(async e=>{try{let s=await u.Ay.getProduct(e);return s&&r(s)?s:null}catch(s){return console.error(`Error fetching product ${e}:`,s),null}}))).filter(Boolean)}if(t.length<n&&l)try{let s=await fetch(`/api/woocommerce?endpoint=shop&category=${l}&per_page=${n-t.length+1}&orderby=date&order=desc&_fields=id,name,slug,price,regular_price,sale_price,on_sale,featured,images,stock_status,average_rating,rating_count,categories,attributes`);if(s.ok){let a=await s.json();if(a.success&&a.products){let s=a.products.filter(s=>s.id!==e&&r(s)).slice(0,n-t.length);t=[...t,...s]}}}catch(e){console.error("❌ Category fallback error:",e)}if(t.length<n)try{let s=await fetch(`/api/woocommerce?endpoint=shop&per_page=${n-t.length+2}&orderby=date&order=desc&_fields=id,name,slug,price,regular_price,sale_price,on_sale,featured,images,stock_status,average_rating,rating_count,categories,attributes`);if(s.ok){let a=await s.json();if(a.success&&a.products){let s=a.products.filter(s=>s.id!==e&&r(s)).slice(0,n-t.length);t=[...t,...s]}}}catch(e){console.error("❌ Latest fallback error:",e)}let c=t.filter((e,s,a)=>s===a.findIndex(s=>s.id===e.id));d(c.slice(0,n))}catch(e){console.error("Error fetching similar products:",e),d([])}finally{x(!1)}};e&&t()},[e,s,a,l,n]),o)?(0,t.jsx)("section",{className:"py-16 bg-white",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,t.jsxs)("div",{className:"text-center mb-12",children:[(0,t.jsx)(_,{className:"h-8 w-64 mx-auto mb-4"}),(0,t.jsx)(_,{className:"h-4 w-96 mx-auto"})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[void 0,void 0,void 0,void 0].map((e,s)=>(0,t.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden",children:[(0,t.jsx)(_,{className:"aspect-square w-full"}),(0,t.jsxs)("div",{className:"p-4 space-y-3",children:[(0,t.jsx)(_,{className:"h-4 w-full"}),(0,t.jsx)(_,{className:"h-4 w-3/4"}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)(_,{className:"h-6 w-20"}),(0,t.jsx)(_,{className:"h-8 w-24"})]})]})]},s))})]})}):0===c.length?null:(0,t.jsx)("section",{className:"py-16 bg-white",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,t.jsxs)(i.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-12",children:[(0,t.jsx)("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-4",children:"Produkty podobne"}),(0,t.jsx)("p",{className:"text-gray-600 text-lg",children:"Klienci, kt\xf3rzy oglądali ten produkt, oglądali r\xf3wnież"})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"hidden lg:grid lg:grid-cols-4 gap-6",children:c.map((e,s)=>(0,t.jsx)(i.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1*s},children:(0,t.jsx)(N.A,{product:e,showActions:!0,variant:"default"},`similar-${e.id}`)},e.id))}),(0,t.jsx)("div",{className:"lg:hidden",children:(0,t.jsxs)("div",{className:"relative overflow-hidden",children:[(0,t.jsx)(i.P.div,{className:"flex transition-transform duration-300 ease-in-out",style:{transform:`translateX(-${100*m}%)`},children:c.map(e=>(0,t.jsx)("div",{className:"w-full flex-shrink-0 px-2",children:(0,t.jsx)(N.A,{product:e,showActions:!0,variant:"default"},`similar-mobile-${e.id}`)},e.id))}),c.length>1&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("button",{onClick:()=>{h(e=>e-1>=0?e-1:c.length-1)},className:"absolute left-2 top-1/2 -translate-y-1/2 bg-white/90 hover:bg-white text-gray-900 rounded-full p-2 shadow-lg transition-all duration-200 hover:scale-110 z-10","aria-label":"Poprzedni produkt",children:(0,t.jsx)(v.A,{className:"w-5 h-5"})}),(0,t.jsx)("button",{onClick:()=>{h(e=>e+1<=c.length-1?e+1:0)},className:"absolute right-2 top-1/2 -translate-y-1/2 bg-white/90 hover:bg-white text-gray-900 rounded-full p-2 shadow-lg transition-all duration-200 hover:scale-110 z-10","aria-label":"Następny produkt",children:(0,t.jsx)(w.A,{className:"w-5 h-5"})})]}),c.length>1&&(0,t.jsx)("div",{className:"flex justify-center mt-6 space-x-2",children:c.map((e,s)=>(0,t.jsx)("button",{onClick:()=>h(s),className:`w-2 h-2 rounded-full transition-all duration-200 ${s===m?"bg-gray-900 w-8":"bg-gray-300 hover:bg-gray-400"}`,"aria-label":`Przejdź do slajdu ${s+1}`},s))})]})})]})]})})}function A({params:e}){let[s,a]=(0,r.useState)(null),[f,y]=(0,r.useState)([]),[v,w]=(0,r.useState)(!0),[N,k]=(0,r.useState)(""),[_,A]=(0,r.useState)(1),[P,$]=(0,r.useState)("description"),[S,C]=(0,r.useState)(0),[F,E]=(0,r.useState)(""),{addItem:M,openCart:B}=(0,x.x)(),{toggleFavorite:D,isFavorite:I}=(0,m.I)();if((0,r.useEffect)(()=>{e.then(e=>{E(e.slug)})},[e]),(0,r.useEffect)(()=>{F&&(async()=>{try{w(!0);let e=await u.Ay.getProductBySlug(F);if(!e){console.error("❌ Product not found:",F),a(null);return}let s=[];if(e.variations&&e.variations.length>0){let a=e.variations.map(e=>u.Ay.getProductById(e));s=await Promise.all(a)}let t={id:e.id,name:e.name,price:e.price||"0",regular_price:e.regular_price||"0",sale_price:e.sale_price||"0",description:e.description||"Brak opisu produktu.",short_description:e.short_description||"",images:e.images?.map(e=>({src:e.src})).filter(e=>e.src&&""!==e.src.trim())||[{src:"/images/placeholder-product.jpg"}],attributes:e.attributes||[],on_sale:e.on_sale||!1,featured:e.featured||!1,stock_quantity:e.stock_quantity||0,stock_status:e.stock_status||"instock",permalink:`/produkt/${F}`,categories:e.categories||[],cross_sell_ids:e.cross_sell_ids||[],related_ids:e.related_ids||[]};a(t),y(s)}catch(e){console.error("❌ Error fetching product:",e),a(null)}finally{w(!1)}})()},[F]),v)return(0,t.jsx)("div",{className:"min-h-screen bg-white flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-black mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Ładowanie produktu..."})]})});if(!s)return(0,t.jsx)("div",{className:"min-h-screen bg-white flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Produkt nie został znaleziony"}),(0,t.jsx)(b(),{href:"/",className:"text-blue-600 hover:underline",children:"Wr\xf3ć do strony gł\xf3wnej"})]})});let L=s.on_sale&&parseFloat(s.sale_price)<parseFloat(s.regular_price),R=L?Math.round((parseFloat(s.regular_price)-parseFloat(s.sale_price))/parseFloat(s.regular_price)*100):0;return(0,t.jsx)("div",{className:"min-h-screen bg-white py-8 pb-16",children:(0,t.jsxs)("div",{className:"max-w-[95vw] mx-auto px-6",children:[(0,t.jsx)("div",{className:"mb-8",children:(0,t.jsxs)("nav",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[(0,t.jsx)(b(),{href:"/",className:"hover:text-gray-900 transition-colors",children:"Strona gł\xf3wna"}),(0,t.jsx)("span",{children:"/"}),(0,t.jsx)(b(),{href:"/sklep",className:"hover:text-gray-900 transition-colors",children:"Sklep"}),(0,t.jsx)("span",{children:"/"}),(0,t.jsx)("span",{className:"text-gray-900 font-medium",children:s?.name})]})}),(0,t.jsxs)("div",{className:"max-w-[95vw] mx-auto px-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[(0,t.jsxs)(i.P.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},className:"flex gap-4",children:[(0,t.jsx)("div",{className:"flex flex-col gap-3",children:s.images.map((e,a)=>(0,t.jsx)("button",{onClick:()=>C(a),className:`w-20 h-20 bg-white rounded-lg overflow-hidden shadow-sm transition-all duration-200 ${S===a?"ring-2 ring-black ring-offset-1":"hover:shadow-md hover:scale-105"}`,children:e.src?(0,t.jsx)(g.default,{src:e.src,alt:`${s.name} ${a+1}`,width:100,height:100,className:"w-full h-full object-cover"}):(0,t.jsx)("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-xs text-gray-500",children:"?"})})},a))}),(0,t.jsx)("div",{className:"flex-1 aspect-square bg-white rounded-lg overflow-hidden shadow-sm relative",children:s.images[S]?.src?(0,t.jsx)(g.default,{src:s.images[S].src,alt:s.name,width:500,height:500,className:"w-full h-full object-cover"}):(0,t.jsx)("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-gray-500",children:"Brak obrazka"})})})]}),(0,t.jsxs)(i.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-900",children:s.name}),(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"flex items-center space-x-1",children:Array.from({length:5},(e,a)=>(0,t.jsx)(l.A,{className:`w-5 h-5 ${s.average_rating&&parseFloat(s.average_rating)>0&&a<Math.floor(parseFloat(s.average_rating))?"text-yellow-400 fill-current":"text-gray-300"}`},a))}),(0,t.jsx)("div",{className:"flex items-center space-x-2",children:s.average_rating&&parseFloat(s.average_rating)>0?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"text-lg font-semibold text-gray-900",children:parseFloat(s.average_rating).toFixed(1)}),(0,t.jsxs)("span",{className:"text-sm text-gray-600",children:["(",s.rating_count," ",1===s.rating_count?"opinia":"opinii",")"]})]}):(0,t.jsx)("span",{className:"text-sm text-gray-500",children:"Brak opinii"})})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[L&&(0,t.jsxs)("span",{className:"bg-red-100 text-red-800 text-sm font-medium px-3 py-1 rounded-full",children:["-",R,"%"]}),s.featured&&(0,t.jsx)("span",{className:"bg-blue-100 text-blue-800 text-sm font-medium px-3 py-1 rounded-full",children:"Polecany"}),"instock"===s.stock_status?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"bg-green-100 text-green-800 text-sm font-medium px-3 py-1 rounded-full",children:"W magazynie"}),(0,t.jsx)("span",{className:"bg-blue-100 text-blue-800 text-sm font-medium px-3 py-1 rounded-full",children:"Wysyłka w 24h"})]}):"onbackorder"===s.stock_status?(0,t.jsx)("span",{className:"bg-yellow-100 text-yellow-800 text-sm font-medium px-3 py-1 rounded-full",children:"Na zam\xf3wienie"}):(0,t.jsx)("span",{className:"bg-gray-100 text-gray-800 text-sm font-medium px-3 py-1 rounded-full",children:"Brak w magazynie"})]}),s.attributes&&s.attributes.length>0&&(0,t.jsx)("div",{className:"flex flex-wrap gap-2 mt-4",children:s.attributes.map((e,s)=>e.options&&Array.isArray(e.options)?e.options.map((e,a)=>e?(0,t.jsx)("span",{className:"bg-gray-100 text-gray-700 text-xs font-medium px-2 py-1 rounded-full",children:e},`${s}-${a}`):null):null)})]}),0===f.length&&(0,t.jsx)("div",{className:"space-y-2",children:L?(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("span",{className:"text-3xl font-bold text-red-600",children:(0,h.$g)(parseFloat(s.sale_price))}),(0,t.jsx)("span",{className:"text-xl text-gray-500 line-through",children:(0,h.$g)(parseFloat(s.regular_price))})]}):(0,t.jsx)("span",{className:"text-3xl font-bold text-gray-900",children:(0,h.$g)(parseFloat(s.price))})}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)("div",{className:"flex items-center border border-gray-300 rounded-lg bg-white h-[56px]",children:[(0,t.jsx)("button",{onClick:()=>A(Math.max(1,_-1)),className:"p-3 hover:bg-gray-100 transition-colors text-gray-700 font-medium h-full flex items-center justify-center",children:"-"}),(0,t.jsx)("span",{className:"px-4 py-3 min-w-[60px] text-center font-medium text-gray-900 border-x border-gray-300 h-full flex items-center justify-center",children:_}),(0,t.jsx)("button",{onClick:()=>A(_+1),className:"p-3 hover:bg-gray-100 transition-colors text-gray-700 font-medium h-full flex items-center justify-center",children:"+"})]}),(0,t.jsxs)("div",{className:"flex space-x-3 flex-1",children:[(0,t.jsxs)("button",{onClick:()=>{if(!s)return;let e=s.price,a=s.id,t=s.name;if(N&&f.length>0){let s=f.find(e=>e.attributes&&e.attributes.some(e=>e.name.toLowerCase().includes("pojemność")&&e.option===N));s&&(e=s.price,a=s.id,t=s.name)}else N&&f.length;M({id:a,name:t,price:parseFloat(e),regular_price:parseFloat(s.regular_price),sale_price:s.sale_price?parseFloat(s.sale_price):void 0,image:s.images[0]?.src,permalink:s.permalink,variant:N?{id:0,name:"Pojemność",value:N}:void 0}),B()},disabled:"outofstock"===s.stock_status||"onbackorder"===s.stock_status||f.length>0&&!N,className:"flex-1 bg-black text-white py-4 px-6 rounded-lg font-medium hover:bg-gray-800 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:[(0,t.jsx)(n.A,{className:"w-5 h-5"}),(0,t.jsx)("span",{children:"outofstock"===s.stock_status?"Brak w magazynie":"onbackorder"===s.stock_status?"Na zam\xf3wienie":f.length>0&&!N?"Wybierz pojemność":"Dodaj do koszyka"})]}),(0,t.jsx)("button",{onClick:()=>D(s),className:`p-4 border border-gray-300 transition-colors rounded-lg ${I(s.id)?"text-red-500 border-red-500 hover:bg-red-50":"text-gray-700 hover:bg-gray-50"}`,children:(0,t.jsx)(c.A,{className:`w-5 h-5 ${I(s.id)?"fill-current":""}`})})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 pt-6 border-t border-gray-200",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)(d.A,{className:"w-5 h-5 text-gray-600"}),(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Darmowa dostawa od 200 zł"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)(o.A,{className:"w-5 h-5 text-gray-600"}),(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Bezpieczne płatności"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)(l.A,{className:"w-5 h-5 text-gray-600"}),(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Najwyższa jakość"})]})]})]})]}),(0,t.jsx)(i.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"mt-16",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[(0,t.jsx)("div",{className:"p-4",children:(0,t.jsxs)("nav",{className:"flex space-x-2",children:[(0,t.jsx)("button",{onClick:()=>$("description"),className:`px-4 py-2 text-sm font-medium transition-all duration-200 rounded-lg ${"description"===P?"bg-black text-white shadow-sm":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:"Opis produktu"}),(0,t.jsxs)("button",{onClick:()=>$("reviews"),className:`px-4 py-2 text-sm font-medium transition-all duration-200 rounded-lg ${"reviews"===P?"bg-black text-white shadow-sm":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:["Opinie (",s.rating_count||0,")"]}),(0,t.jsx)("button",{onClick:()=>$("shipping"),className:`px-4 py-2 text-sm font-medium transition-all duration-200 rounded-lg ${"shipping"===P?"bg-black text-white shadow-sm":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:"Dostawa i zwroty"})]})}),(0,t.jsxs)("div",{className:"p-8",children:["description"===P&&(0,t.jsx)("div",{className:"prose prose-gray max-w-none",children:(0,t.jsx)("div",{className:"text-gray-700 leading-relaxed",dangerouslySetInnerHTML:{__html:s.description}})}),"reviews"===P&&(0,t.jsxs)("div",{className:"space-y-6",children:[s.average_rating&&parseFloat(s.average_rating)>0?(0,t.jsx)("div",{className:"flex items-center space-x-6",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-4xl font-bold text-gray-900",children:parseFloat(s.average_rating).toFixed(1)}),(0,t.jsx)("div",{className:"flex items-center justify-center space-x-1 mt-1",children:Array.from({length:5},(e,a)=>(0,t.jsx)(l.A,{className:`w-5 h-5 ${a<Math.floor(parseFloat(s.average_rating))?"text-yellow-400 fill-current":"text-gray-300"}`},a))}),(0,t.jsxs)("div",{className:"text-sm text-gray-600 mt-1",children:[s.rating_count," ",1===s.rating_count?"opinia":"opinii"]})]})}):(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)(l.A,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Brak opinii"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Ten produkt nie ma jeszcze żadnych opinii."})]}),s.rating_count>0&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h4",{className:"text-lg font-semibold text-gray-900",children:"Opinie klient\xf3w"}),(0,t.jsx)(p,{productId:s.id})]}),(0,t.jsx)("div",{className:"border-t border-gray-200 pt-6",children:(0,t.jsx)(j,{productId:s.id,onReviewSubmitted:()=>{window.location.reload()}})})]}),"shipping"===P&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Dostawa"}),(0,t.jsxs)("div",{className:"space-y-3 text-gray-700",children:[(0,t.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-black rounded-full mt-2 flex-shrink-0"}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Darmowa dostawa"})," od 200 zł na terenie Polski"]})]}),(0,t.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-black rounded-full mt-2 flex-shrink-0"}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Kurier DPD"})," - dostawa w 1-2 dni robocze (15 zł)"]})]}),(0,t.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-black rounded-full mt-2 flex-shrink-0"}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Paczkomat InPost"})," - dostawa w 1-2 dni robocze (12 zł)"]})]}),(0,t.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-black rounded-full mt-2 flex-shrink-0"}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Odbi\xf3r osobisty"})," - Gdańsk, ul. Partyzant\xf3w 8/101 (bezpłatnie)"]})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Zwroty"}),(0,t.jsxs)("div",{className:"space-y-3 text-gray-700",children:[(0,t.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-black rounded-full mt-2 flex-shrink-0"}),(0,t.jsxs)("p",{children:["Możliwość zwrotu produkt\xf3w w ciągu ",(0,t.jsx)("strong",{children:"14 dni"})," od zakupu"]})]}),(0,t.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-black rounded-full mt-2 flex-shrink-0"}),(0,t.jsxs)("p",{children:["Produkty muszą być w ",(0,t.jsx)("strong",{children:"oryginalnym opakowaniu"})," i nienaruszone"]})]}),(0,t.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-black rounded-full mt-2 flex-shrink-0"}),(0,t.jsxs)("p",{children:["Zwrot koszt\xf3w wysyłki pokrywa ",(0,t.jsx)("strong",{children:"klient"})]})]})]})]})]})]})]})}),s&&(0,t.jsx)(z,{productId:s.id,crossSellIds:s.cross_sell_ids||[],relatedIds:s.related_ids||[],categoryId:s.categories?.[0]?.id||0,limit:4})]})]})})}}},e=>{e.O(0,[9391,9775,6102,6489,4321,4294,8119,587,18,7358],()=>e(e.s=65198)),_N_E=e.O()}]);