"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8930],{38930:(e,s,a)=>{a.d(s,{A:()=>h});var r=a(54568),t=a(7620),i=a(39109),l=a(86660),n=a(12598),o=a(56005),d=a(28653),c=a(48517),m=a(53135),u=a(38391),x=a(13719),p=a(84243);function h({isOpen:e,onClose:s,onSwitchToLogin:a,onRegistrationSuccess:h}){let{register:g,isLoading:b,error:f,isAuthenticated:j}=(0,x.n)(),[w,y]=(0,t.useState)({firstName:"",lastName:"",email:"",phone:"",password:"",confirmPassword:"",company:"",nip:"",invoiceRequest:!1}),[N,v]=(0,t.useState)(!1),[k,z]=(0,t.useState)(!1),[V,$]=(0,t.useState)({}),[P,C]=(0,t.useState)(!1),[A,H]=(0,t.useState)(!1);(0,t.useEffect)(()=>{e&&(y({firstName:"",lastName:"",email:"",phone:"",password:"",confirmPassword:"",company:"",nip:"",invoiceRequest:!1}),$({}),C(!1),H(!1))},[e]);let R=(e,s)=>{let a="";switch(e){case"email":let r=(0,p.DT)(s);r.isValid||(a=r.message);break;case"password":let t=(0,p.Oj)(s);t.isValid||(a=t.message);break;case"confirmPassword":let i=(0,p.C_)(w.password,s);i.isValid||(a=i.message)}$(s=>({...s,[e]:a}))},S=(e,s)=>{y(a=>({...a,[e]:s})),R(e,s),"password"===e&&R("confirmPassword",w.confirmPassword)};(0,t.useEffect)(()=>{e&&j&&s()},[e,j,s]);let _=async e=>{if(e.preventDefault(),(()=>{let e={},s=(0,p.DT)(w.email);s.isValid||(e.email=s.message);let a=(0,p.Oj)(w.password);a.isValid||(e.password=a.message);let r=(0,p.C_)(w.password,w.confirmPassword);return r.isValid||(e.confirmPassword=r.message),P||(e.terms="Musisz zaakceptować regulamin"),$(e),0===Object.keys(e).length})())try{let e=await g({email:w.email,password:w.password,marketingConsent:A});h&&e&&h(e)}catch(e){console.error("Registration error:",e)}};return e?(0,r.jsx)(i.N,{children:(0,r.jsxs)(l.P.div,{className:"fixed inset-0 z-50 flex items-center justify-center p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[(0,r.jsx)(l.P.div,{className:"absolute inset-0 bg-black/50 backdrop-blur-[2px]",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:s}),(0,r.jsxs)(l.P.div,{className:"relative bg-white rounded-2xl shadow-xl w-full max-w-2xl mx-auto max-h-[90vh] overflow-y-auto",initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},transition:{duration:.2},children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 sticky top-0 bg-white",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Zarejestruj się"}),(0,r.jsx)("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,r.jsx)(n.A,{className:"w-6 h-6"})})]}),(0,r.jsxs)("form",{onSubmit:_,className:"p-6 space-y-6",children:[(0,r.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:(0,r.jsxs)("div",{className:"flex items-start",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("svg",{className:"w-5 h-5 text-blue-400 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),(0,r.jsxs)("div",{className:"ml-3",children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-blue-800",children:"Szybka rejestracja"}),(0,r.jsx)("p",{className:"mt-1 text-sm text-blue-700",children:"Dane osobowe wypełnisz p\xf3źniej przy składaniu zam\xf3wienia i zostaną zapisane na stałe."})]})]})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(o.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,r.jsx)("input",{id:"email",type:"email",value:w.email,onChange:e=>S("email",e.target.value),className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-black focus:border-transparent ${V.email?"border-red-300":"border-gray-300"}`,placeholder:"twoj@email.com",disabled:b})]}),V.email&&(0,r.jsxs)("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[(0,r.jsx)(d.A,{className:"w-4 h-4 mr-1"}),V.email]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Hasło"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(c.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,r.jsx)("input",{id:"password",type:N?"text":"password",value:w.password,onChange:e=>S("password",e.target.value),className:`w-full pl-10 pr-12 py-3 border rounded-lg focus:ring-2 focus:ring-black focus:border-transparent ${V.password?"border-red-300":"border-gray-300"}`,placeholder:"••••••••",disabled:b}),(0,r.jsx)("button",{type:"button",onClick:()=>v(!N),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:N?(0,r.jsx)(m.A,{className:"w-5 h-5"}):(0,r.jsx)(u.A,{className:"w-5 h-5"})})]}),V.password&&(0,r.jsxs)("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[(0,r.jsx)(d.A,{className:"w-4 h-4 mr-1"}),V.password]}),!V.password&&w.password&&(0,r.jsx)("p",{className:"mt-1 text-xs text-green-600",children:"✓ Hasło spełnia wymagania"}),!w.password&&(0,r.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Minimum 8 znak\xf3w, mała i wielka litera, cyfra, znak specjalny"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Potwierdź hasło"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(c.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,r.jsx)("input",{id:"confirmPassword",type:k?"text":"password",value:w.confirmPassword,onChange:e=>S("confirmPassword",e.target.value),className:`w-full pl-10 pr-12 py-3 border rounded-lg focus:ring-2 focus:ring-black focus:border-transparent ${V.confirmPassword?"border-red-300":"border-gray-300"}`,placeholder:"••••••••",disabled:b}),(0,r.jsx)("button",{type:"button",onClick:()=>z(!k),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:k?(0,r.jsx)(m.A,{className:"w-5 h-5"}):(0,r.jsx)(u.A,{className:"w-5 h-5"})})]}),V.confirmPassword&&(0,r.jsxs)("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[(0,r.jsx)(d.A,{className:"w-4 h-4 mr-1"}),V.confirmPassword]})]})]}),(0,r.jsxs)("div",{className:"mb-6 relative overflow-hidden",children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-500/10 via-pink-500/10 to-orange-500/10 rounded-xl"}),(0,r.jsx)("div",{className:"relative p-4 border border-purple-200/50 rounded-xl bg-white/80 backdrop-blur-sm",children:(0,r.jsxs)("label",{className:"cursor-pointer group",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{type:"checkbox",checked:A,onChange:e=>H(e.target.checked),className:"sr-only"}),(0,r.jsx)("div",{className:`w-5 h-5 rounded border-2 transition-all duration-200 flex items-center justify-center ${A?"bg-gradient-to-r from-purple-500 to-pink-500 border-transparent":"border-gray-300 group-hover:border-purple-400"}`,children:A&&(0,r.jsx)("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),(0,r.jsx)("span",{className:"font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-pink-600",children:"Odbierz 10% rabatu!"})]}),(0,r.jsx)("p",{className:"text-sm text-gray-600 leading-relaxed ml-7",children:"Wyrażam zgodę na otrzymywanie ofert marketingowych i odbieram kod rabatowy 10% na pierwsze zakupy."})]})})]}),(0,r.jsxs)("div",{className:"mb-6 relative overflow-hidden",children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-500/10 via-gray-600/10 to-gray-700/10 rounded-xl"}),(0,r.jsx)("div",{className:"relative p-4 border border-gray-200/50 rounded-xl bg-white/80 backdrop-blur-sm",children:(0,r.jsx)("label",{className:"cursor-pointer group",children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{type:"checkbox",checked:P,onChange:e=>C(e.target.checked),className:"sr-only"}),(0,r.jsx)("div",{className:`w-5 h-5 rounded border-2 transition-all duration-200 flex items-center justify-center ${P?"bg-gradient-to-r from-gray-700 to-gray-900 border-transparent":"border-gray-300 group-hover:border-gray-400"}`,children:P&&(0,r.jsx)("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),(0,r.jsxs)("span",{className:"text-sm text-gray-700",children:[(0,r.jsx)("span",{className:"font-medium",children:"Akceptuję"})," ",(0,r.jsx)("a",{href:"/regulamin",className:"text-black underline hover:no-underline font-medium hover:text-gray-800 transition-colors",target:"_blank",rel:"noopener noreferrer",children:"regulamin"})," ",(0,r.jsx)("span",{className:"font-medium",children:"oraz"})," ",(0,r.jsx)("a",{href:"/polityka-prywatnosci",className:"text-black underline hover:no-underline font-medium hover:text-gray-800 transition-colors",target:"_blank",rel:"noopener noreferrer",children:"politykę prywatności"})]})]})})}),V.terms&&(0,r.jsx)("div",{className:"mt-2 p-3 bg-red-50 border border-red-200 rounded-lg",children:(0,r.jsxs)("p",{className:"text-sm text-red-600 flex items-center",children:[(0,r.jsx)(d.A,{className:"w-4 h-4 mr-2 flex-shrink-0"}),V.terms]})})]}),f&&(0,r.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[(0,r.jsxs)("p",{className:"text-sm text-red-600 flex items-center mb-3",children:[(0,r.jsx)(d.A,{className:"w-4 h-4 mr-2"}),f]}),f.includes("jest już zarejestrowany")&&(0,r.jsx)("button",{onClick:a,className:"text-sm text-blue-600 hover:text-blue-800 underline font-medium",children:"Przejdź do logowania"})]}),(0,r.jsx)("button",{type:"submit",disabled:b,className:"w-full bg-black text-white py-3 px-6 rounded-lg font-medium hover:bg-gray-800 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center justify-center",children:b?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Rejestracja..."]}):"Zarejestruj się"}),(0,r.jsx)("div",{className:"text-center",children:(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:["Masz już konto?"," ",(0,r.jsx)("button",{type:"button",onClick:a,className:"text-black font-medium hover:underline transition-colors",children:"Zaloguj się"})]})})]})]})]})}):null}},84243:(e,s,a)=>{function r(e){if(!e)return{isValid:!0};let s=e.replace(/[\s-]/g,"");if(!/^\d{10}$/.test(s))return{isValid:!1,message:"NIP musi składać się z 10 cyfr"};let a=[6,5,7,2,3,4,5,6,7],r=0;for(let e=0;e<9;e++)r+=parseInt(s[e])*a[e];return r%11!==parseInt(s[9])?{isValid:!1,message:"Nieprawidłowy NIP - błąd w sumie kontrolnej"}:{isValid:!0}}function t(e,s=!0){if(!e||!e.trim())return s?{isValid:!1,message:"Numer telefonu jest wymagany"}:{isValid:!0};let a=e.replace(/[\s\-\(\)]/g,"");return[/^\+48\d{9}$/,/^48\d{9}$/,/^0\d{9}$/,/^\d{9}$/].some(e=>e.test(a))?{isValid:!0}:{isValid:!1,message:"Nieprawidłowy numer telefonu (format: +48 123 456 789 lub 123 456 789)"}}function i(e){return e?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)?{isValid:!0}:{isValid:!1,message:"Nieprawidłowy format adresu email"}:{isValid:!1,message:"Email jest wymagany"}}function l(e,s){return!e||e.trim().length<2?{isValid:!1,message:`${s} musi mieć co najmniej 2 znaki`}:e.trim().length>50?{isValid:!1,message:`${s} może mieć maksymalnie 50 znak\xf3w`}:{isValid:!0}}function n(e){return e?e.trim().length<2?{isValid:!1,message:"Nazwa firmy musi mieć co najmniej 2 znaki"}:e.trim().length>100?{isValid:!1,message:"Nazwa firmy może mieć maksymalnie 100 znak\xf3w"}:{isValid:!0}:{isValid:!0}}function o(e,s,a=!0){return e&&e.trim()?e.trim().length<5?{isValid:!1,message:`${s} musi mieć co najmniej 5 znak\xf3w`}:e.trim().length>200?{isValid:!1,message:`${s} może mieć maksymalnie 200 znak\xf3w`}:{isValid:!0}:a?{isValid:!1,message:`${s} jest wymagany`}:{isValid:!0}}function d(e,s=!0){if(!e||!e.trim())return s?{isValid:!1,message:"Kod pocztowy jest wymagany"}:{isValid:!0};let a=e.replace(/\s/g,"");return/^\d{2}-\d{3}$/.test(a)?{isValid:!0}:{isValid:!1,message:"Nieprawidłowy kod pocztowy (format: XX-XXX)"}}function c(e){return e?e.length<8?{isValid:!1,message:"Hasło musi mieć co najmniej 8 znak\xf3w"}:/(?=.*[a-z])/.test(e)?/(?=.*[A-Z])/.test(e)?/(?=.*\d)/.test(e)?/(?=.*[@$!%*?&])/.test(e)?{isValid:!0}:{isValid:!1,message:"Hasło musi zawierać znak specjalny (@$!%*?&)"}:{isValid:!1,message:"Hasło musi zawierać cyfrę"}:{isValid:!1,message:"Hasło musi zawierać wielką literę"}:{isValid:!1,message:"Hasło musi zawierać małą literę"}:{isValid:!1,message:"Hasło jest wymagane"}}function m(e,s){return s?e!==s?{isValid:!1,message:"Hasła nie są identyczne"}:{isValid:!0}:{isValid:!1,message:"Potwierdzenie hasła jest wymagane"}}function u(e){if(!e)return"";let s=e.replace(/[\s-]/g,"");return 10===s.length?`${s.slice(0,3)}-${s.slice(3,6)}-${s.slice(6,8)}-${s.slice(8)}`:e}function x(e){if(!e)return"";let s=e.replace(/[\s\-\(\)]/g,"");return s.startsWith("+48")&&12===s.length?`+48 ${s.slice(3,6)} ${s.slice(6,9)} ${s.slice(9)}`:s.startsWith("48")&&11===s.length?`+48 ${s.slice(2,5)} ${s.slice(5,8)} ${s.slice(8)}`:s.startsWith("0")&&10===s.length?`${s.slice(0,3)} ${s.slice(3,6)} ${s.slice(6)}`:e}a.d(s,{C_:()=>m,DT:()=>i,FY:()=>t,Oj:()=>c,ci:()=>r,jl:()=>o,jn:()=>d,qH:()=>x,vb:()=>n,yS:()=>l,zP:()=>u})}}]);