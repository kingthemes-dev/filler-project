"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./src/components/king-product-card.tsx":
/*!**********************************************!*\
  !*** ./src/components/king-product-card.tsx ***!
  \**********************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ KingProductCard)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/../../node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/../../node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _services_woocommerce_optimized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/services/woocommerce-optimized */ \"(app-pages-browser)/./src/services/woocommerce-optimized.ts\");\n/* harmony import */ var _components_ui_card__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/components/ui/card */ \"(app-pages-browser)/./src/components/ui/card.tsx\");\n/* harmony import */ var _components_ui_button__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/ui/button */ \"(app-pages-browser)/./src/components/ui/button.tsx\");\n/* harmony import */ var _components_ui_badge__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/components/ui/badge */ \"(app-pages-browser)/./src/components/ui/badge.tsx\");\n/* harmony import */ var _barrel_optimize_names_Eye_Heart_ShoppingCart_Star_lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! __barrel_optimize__?names=Eye,Heart,ShoppingCart,Star!=!lucide-react */ \"(app-pages-browser)/../../node_modules/lucide-react/dist/esm/icons/star.js\");\n/* harmony import */ var _barrel_optimize_names_Eye_Heart_ShoppingCart_Star_lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! __barrel_optimize__?names=Eye,Heart,ShoppingCart,Star!=!lucide-react */ \"(app-pages-browser)/../../node_modules/lucide-react/dist/esm/icons/shopping-cart.js\");\n/* harmony import */ var _barrel_optimize_names_Eye_Heart_ShoppingCart_Star_lucide_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! __barrel_optimize__?names=Eye,Heart,ShoppingCart,Star!=!lucide-react */ \"(app-pages-browser)/../../node_modules/lucide-react/dist/esm/icons/eye.js\");\n/* harmony import */ var _barrel_optimize_names_Eye_Heart_ShoppingCart_Star_lucide_react__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! __barrel_optimize__?names=Eye,Heart,ShoppingCart,Star!=!lucide-react */ \"(app-pages-browser)/../../node_modules/lucide-react/dist/esm/icons/heart.js\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! next/link */ \"(app-pages-browser)/../../node_modules/next/dist/client/app-dir/link.js\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(next_link__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var next_image__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! next/image */ \"(app-pages-browser)/../../node_modules/next/dist/api/image.js\");\n/* harmony import */ var _stores_cart_store__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/stores/cart-store */ \"(app-pages-browser)/./src/stores/cart-store.ts\");\n/* harmony import */ var _stores_favorites_store__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/stores/favorites-store */ \"(app-pages-browser)/./src/stores/favorites-store.ts\");\n/* harmony import */ var _components_ui_quick_view_modal__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @/components/ui/quick-view-modal */ \"(app-pages-browser)/./src/components/ui/quick-view-modal.tsx\");\n/* harmony import */ var _utils_format_price__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @/utils/format-price */ \"(app-pages-browser)/./src/utils/format-price.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n// Wishlist tymczasowo wyÅ‚Ä…czony na kartach\n// import { useWishlist } from '@/hooks/use-wishlist';\n\n\nfunction KingProductCard({ product, showActions = true, variant = 'default', tabType }) {\n    _s();\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isQuickViewOpen, setIsQuickViewOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showVariants, setShowVariants] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [selectedVariant, setSelectedVariant] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');\n    const [variationsLoaded, setVariationsLoaded] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [variations, setVariations] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [isHovered, setIsHovered] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isButtonHovered, setIsButtonHovered] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isDropdownOpen, setIsDropdownOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isClient, setIsClient] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const dropdownRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    // Handle hydration\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"KingProductCard.useEffect\": ()=>{\n            setIsClient(true);\n        }\n    }[\"KingProductCard.useEffect\"], []);\n    // Close dropdown when clicking outside\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"KingProductCard.useEffect\": ()=>{\n            const handleClickOutside = {\n                \"KingProductCard.useEffect.handleClickOutside\": (event)=>{\n                    if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {\n                        setIsDropdownOpen(false);\n                    }\n                }\n            }[\"KingProductCard.useEffect.handleClickOutside\"];\n            if (isDropdownOpen) {\n                document.addEventListener('mousedown', handleClickOutside);\n            }\n            return ({\n                \"KingProductCard.useEffect\": ()=>{\n                    document.removeEventListener('mousedown', handleClickOutside);\n                }\n            })[\"KingProductCard.useEffect\"];\n        }\n    }[\"KingProductCard.useEffect\"], [\n        isDropdownOpen\n    ]);\n    // Debug variations state changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"KingProductCard.useEffect\": ()=>{\n            console.log('ðŸ”„ variations state changed:', variations);\n            console.log('ðŸ”„ variations.length:', variations.length);\n            console.log('ðŸ”„ variations type:', typeof variations);\n            console.log('ðŸ”„ variations is array:', Array.isArray(variations));\n        }\n    }[\"KingProductCard.useEffect\"], [\n        variations\n    ]);\n    // Safely access stores with error handling\n    let addItem, openCart, toggleFavorite, isFavorite;\n    try {\n        const cartStore = (0,_stores_cart_store__WEBPACK_IMPORTED_MODULE_8__.useCartStore)();\n        addItem = cartStore.addItem;\n        openCart = cartStore.openCart;\n    } catch (error) {\n        console.warn('Cart store not available:', error);\n        addItem = ()=>{};\n        openCart = ()=>{};\n    }\n    try {\n        const favoritesStore = (0,_stores_favorites_store__WEBPACK_IMPORTED_MODULE_9__.useFavoritesStore)();\n        toggleFavorite = favoritesStore.toggleFavorite;\n        isFavorite = favoritesStore.isFavorite;\n    } catch (error) {\n        console.warn('Favorites store not available:', error);\n        toggleFavorite = ()=>{};\n        isFavorite = ()=>false;\n    }\n    // Wishlist via safe hook (SSR-guarded)\n    // Wishlist UI wyÅ‚Ä…czony na kartach â€“ zostaje tylko Ulubione\n    const handleAddToCart = async ()=>{\n        setIsLoading(true);\n        try {\n            let cartItem;\n            if (product.type === 'variable' && selectedVariant) {\n                // For variable products with selected variant, get the specific variation\n                const variations = await _services_woocommerce_optimized__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getProductVariations(product.id);\n                const selectedVariation = variations.variations?.find((variation)=>variation.attributes?.some((attr)=>attr.slug === 'pa_pojemnosc' && attr.option === selectedVariant));\n                if (selectedVariation) {\n                    cartItem = {\n                        id: selectedVariation.id,\n                        name: `${product.name} - ${selectedVariant}`,\n                        price: parseFloat(selectedVariation.price),\n                        regular_price: parseFloat(selectedVariation.regular_price),\n                        sale_price: parseFloat(selectedVariation.sale_price),\n                        image: imageUrl,\n                        permalink: `/produkt/${product.slug}`\n                    };\n                } else {\n                    // Fallback to main product if variation not found\n                    cartItem = {\n                        id: product.id,\n                        name: product.name,\n                        price: parseFloat(product.price),\n                        regular_price: parseFloat(product.regular_price),\n                        sale_price: parseFloat(product.sale_price),\n                        image: imageUrl,\n                        permalink: `/produkt/${product.slug}`\n                    };\n                }\n            } else {\n                // For simple products or variable products without selected variant\n                cartItem = {\n                    id: product.id,\n                    name: product.name,\n                    price: parseFloat(product.price),\n                    regular_price: parseFloat(product.regular_price),\n                    sale_price: parseFloat(product.sale_price),\n                    image: imageUrl,\n                    permalink: `/produkt/${product.slug}`\n                };\n            }\n            console.log('ðŸ›’ Adding to cart from card:', cartItem);\n            addItem(cartItem);\n            openCart();\n        } catch (error) {\n            console.error('BÅ‚Ä…d dodawania do koszyka:', error);\n        } finally{\n            setIsLoading(false);\n        }\n    };\n    const handleToggleFavorite = ()=>{\n        toggleFavorite(product);\n    };\n    const handleQuickView = ()=>{\n        setIsQuickViewOpen(true);\n    };\n    const handleVariantSelect = (variant)=>{\n        setSelectedVariant(variant);\n        setShowVariants(false);\n    };\n    const handleShowVariants = async ()=>{\n        console.log('ðŸ”„ handleShowVariants called for product:', product.id);\n        if (!variationsLoaded) {\n            try {\n                const response = await _services_woocommerce_optimized__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getProductVariations(product.id);\n                console.log('ðŸ”„ Variations response:', response);\n                // API zwraca warianty jako tablicÄ™ bezpoÅ›rednio, nie w obiekcie z wÅ‚aÅ›ciwoÅ›ciÄ… variations\n                const variations = Array.isArray(response) ? response : response.variations || [];\n                console.log('ðŸ”„ Setting variations:', variations);\n                console.log('ðŸ”„ variations type:', typeof variations);\n                console.log('ðŸ”„ variations is array:', Array.isArray(variations));\n                console.log('ðŸ”„ variations length:', variations.length);\n                setVariations([\n                    ...variations\n                ]); // Force new array reference\n                setVariationsLoaded(true);\n                console.log('ðŸ”„ Variations set, variationsLoaded:', true);\n                // Force re-render by updating state\n                setTimeout(()=>{\n                    console.log('ðŸ”„ After timeout - variations:', variations);\n                }, 100);\n            } catch (error) {\n                console.error('BÅ‚Ä…d Å‚adowania wariantÃ³w:', error);\n            }\n        }\n        setShowVariants(true);\n        setIsDropdownOpen(true);\n    };\n    const handleAddToCartWithVariant = async ()=>{\n        if (product.type === 'variable' && !selectedVariant) {\n            handleShowVariants();\n            return;\n        }\n        await handleAddToCart();\n    };\n    const handleAddToCartWithVariation = async (variation, variantName)=>{\n        console.log('ðŸ›’ handleAddToCartWithVariation called with:', variation, variantName);\n        console.log('ðŸ›’ addItem function:', addItem);\n        console.log('ðŸ›’ openCart function:', openCart);\n        setIsLoading(true);\n        try {\n            const cartItem = {\n                id: variation.id,\n                name: `${product.name} - ${variantName}`,\n                price: parseFloat(variation.price),\n                regular_price: parseFloat(variation.regular_price),\n                sale_price: parseFloat(variation.sale_price),\n                image: imageUrl,\n                permalink: `/produkt/${product.slug}`\n            };\n            console.log('ðŸ›’ Adding variation to cart:', cartItem);\n            console.log('ðŸ›’ Calling addItem...');\n            addItem(cartItem);\n            console.log('ðŸ›’ addItem called, now calling openCart...');\n            openCart();\n            console.log('ðŸ›’ openCart called');\n        } catch (error) {\n            console.error('BÅ‚Ä…d dodawania wariantu do koszyka:', error);\n        } finally{\n            setIsLoading(false);\n        }\n    };\n    // Get available variants from loaded variations\n    const getAvailableVariants = ()=>{\n        console.log('ðŸ”„ getAvailableVariants called - variations:', variations);\n        console.log('ðŸ”„ variations.length:', variations.length);\n        console.log('ðŸ”„ variationsLoaded:', variationsLoaded);\n        if (variations.length > 0) {\n            const variants = variations.map((variation)=>{\n                console.log('ðŸ”„ Processing variation:', variation);\n                // ZnajdÅº pierwszy dostÄ™pny atrybut (pojemnoÅ›Ä‡, kolor, rozmiar, etc.)\n                const firstAttr = variation.attributes?.find((attr)=>attr.slug && attr.option);\n                console.log('ðŸ”„ First attr found:', firstAttr);\n                const variantName = firstAttr?.option || variation.name || `Wariant ${variation.id}`;\n                console.log('ðŸ”„ Variant name:', variantName);\n                return variantName;\n            });\n            console.log('ðŸ”„ Mapped variants:', variants);\n            return variants;\n        }\n        console.log('ðŸ”„ No variations, trying product attributes');\n        // Fallback to product attributes - znajdÅº pierwszy atrybut z opcjami\n        if (!product.attributes) {\n            console.log('ðŸ”„ No product attributes');\n            return [];\n        }\n        const firstAttrWithOptions = product.attributes.find((attr)=>attr.options && attr.options.length > 0);\n        if (!firstAttrWithOptions) {\n            console.log('ðŸ”„ No attributes with options');\n            return [];\n        }\n        const opts = firstAttrWithOptions.options || [];\n        console.log('ðŸ”„ Product attribute options:', opts);\n        return opts.map((o)=>{\n            if (typeof o === 'string') return o;\n            if (typeof o === 'object' && o.name) return o.name;\n            if (typeof o === 'object' && o.slug) return o.slug;\n            return String(o);\n        }).filter(Boolean);\n    };\n    // Get attribute name for display\n    const getAttributeName = ()=>{\n        if (variations.length > 0) {\n            const firstVariation = variations[0];\n            const firstAttr = firstVariation.attributes?.find((attr)=>attr.slug && attr.option);\n            if (firstAttr) {\n                // Map common attribute slugs to display names\n                const attrNames = {\n                    'pa_pojemnosc': 'PojemnoÅ›Ä‡',\n                    'pa_kolor': 'Kolor',\n                    'pa_rozmiar': 'Rozmiar',\n                    'pa_material': 'MateriaÅ‚',\n                    'pa_typ': 'Typ'\n                };\n                return attrNames[firstAttr.slug] || firstAttr.slug.replace('pa_', '').replace('_', ' ').toUpperCase();\n            }\n        }\n        // Fallback to product attributes\n        if (product.attributes && product.attributes.length > 0) {\n            const firstAttr = product.attributes.find((attr)=>attr.options && attr.options.length > 0);\n            return firstAttr?.name || 'Wariant';\n        }\n        return 'Wariant';\n    };\n    const isOnSale = _services_woocommerce_optimized__WEBPACK_IMPORTED_MODULE_2__[\"default\"].isProductOnSale(product);\n    const discount = _services_woocommerce_optimized__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getProductDiscount(product);\n    // Handle both full WooProduct and simplified API data\n    const imageUrl = (()=>{\n        // Check if product has images array (full WooProduct format)\n        if (Array.isArray(product.images) && product.images.length > 0) {\n            return _services_woocommerce_optimized__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getProductImageUrl(product, 'medium');\n        }\n        // Check if product has single image property (simplified API format)\n        if (typeof product.image === 'string' && product.image) {\n            const imageUrl = product.image;\n            // Convert to higher quality image by replacing size suffix\n            if (imageUrl.includes('-300x300.')) {\n                return imageUrl.replace('-300x300.', '-600x600.');\n            } else if (imageUrl.includes('-150x150.')) {\n                return imageUrl.replace('-150x150.', '-600x600.');\n            } else if (imageUrl.includes('-100x100.')) {\n                return imageUrl.replace('-100x100.', '-600x600.');\n            }\n            return imageUrl;\n        }\n        return '/images/placeholder-product.jpg';\n    })();\n    const price = _services_woocommerce_optimized__WEBPACK_IMPORTED_MODULE_2__[\"default\"].formatPrice(product.price);\n    const regularPrice = _services_woocommerce_optimized__WEBPACK_IMPORTED_MODULE_2__[\"default\"].formatPrice(product.regular_price);\n    // Helper function to get brand from attributes\n    const getBrand = ()=>{\n        if (!product.attributes) return null;\n        const brandAttr = product.attributes.find((attr)=>attr.name.toLowerCase().includes('marka'));\n        if (!brandAttr) return null;\n        const first = brandAttr.options?.[0];\n        if (!first) return null;\n        return typeof first === 'string' ? first : first?.name || first?.slug || String(first);\n    };\n    // Helper function to get main category (parent: 0)\n    const getMainCategory = ()=>{\n        const cats = product.categories;\n        if (!cats || cats.length === 0) return null;\n        // Main categories (parent: 0) are: Mezoterapia, Peelingi, Stymulatory, WypeÅ‚niacze\n        const mainCategories = [\n            'Mezoterapia',\n            'Peelingi',\n            'Stymulatory',\n            'WypeÅ‚niacze'\n        ];\n        // Find the first main category in the product's categories\n        const main = cats.find((c)=>{\n            const categoryName = typeof c === 'string' ? c : c?.name;\n            return categoryName && mainCategories.includes(categoryName);\n        });\n        if (main) {\n            return typeof main === 'string' ? main : main?.name;\n        }\n        return null;\n    };\n    const renderPrice = ()=>{\n        if (isOnSale) {\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex items-center gap-2\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: \"text-lg font-bold text-foreground\",\n                        children: price\n                    }, void 0, false, {\n                        fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                        lineNumber: 391,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: \"text-sm text-muted-foreground line-through\",\n                        children: regularPrice\n                    }, void 0, false, {\n                        fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                        lineNumber: 392,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_badge__WEBPACK_IMPORTED_MODULE_5__.Badge, {\n                        variant: \"destructive\",\n                        className: \"text-xs\",\n                        children: [\n                            \"-\",\n                            discount,\n                            \"%\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                        lineNumber: 393,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                lineNumber: 390,\n                columnNumber: 9\n            }, this);\n        }\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n            className: \"text-lg font-bold text-foreground\",\n            children: price\n        }, void 0, false, {\n            fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n            lineNumber: 399,\n            columnNumber: 12\n        }, this);\n    };\n    const renderRating = ()=>{\n        const rating = parseFloat(product.average_rating);\n        if (isNaN(rating) || rating === 0) return null;\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex items-center gap-1\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Eye_Heart_ShoppingCart_Star_lucide_react__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                    className: \"w-4 h-4 fill-current text-foreground\"\n                }, void 0, false, {\n                    fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                    lineNumber: 408,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    className: \"text-sm text-muted-foreground\",\n                    children: rating.toFixed(1)\n                }, void 0, false, {\n                    fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                    lineNumber: 409,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    className: \"text-xs text-muted-foreground\",\n                    children: [\n                        \"(\",\n                        product.rating_count,\n                        \")\"\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                    lineNumber: 410,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n            lineNumber: 407,\n            columnNumber: 7\n        }, this);\n    };\n    const renderStockStatus = ()=>{\n        if (product.stock_status === 'outofstock') {\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_badge__WEBPACK_IMPORTED_MODULE_5__.Badge, {\n                variant: \"secondary\",\n                className: \"text-xs\",\n                children: \"NiedostÄ™pny\"\n            }, void 0, false, {\n                fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                lineNumber: 417,\n                columnNumber: 14\n            }, this);\n        }\n        if (product.stock_status === 'onbackorder') {\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_badge__WEBPACK_IMPORTED_MODULE_5__.Badge, {\n                variant: \"secondary\",\n                className: \"text-xs\",\n                children: \"Na zam\\xf3wienie\"\n            }, void 0, false, {\n                fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                lineNumber: 420,\n                columnNumber: 14\n            }, this);\n        }\n        return null;\n    };\n    if (variant === 'compact') {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_3__.Card, {\n            className: \"group hover:shadow-lg transition-all duration-300 border-border/50\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_6___default()), {\n                href: `/produkt/${product.slug}`,\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_3__.CardHeader, {\n                        className: \"p-3 pb-0\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"relative aspect-square overflow-hidden rounded-lg\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_image__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                    src: imageUrl,\n                                    alt: product.name,\n                                    width: 300,\n                                    height: 300,\n                                    sizes: \"(max-width: 640px) 50vw, (max-width: 1024px) 33vw, 25vw\",\n                                    className: \"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300\",\n                                    loading: \"lazy\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                    lineNumber: 431,\n                                    columnNumber: 15\n                                }, this),\n                                isOnSale && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_badge__WEBPACK_IMPORTED_MODULE_5__.Badge, {\n                                    variant: \"destructive\",\n                                    className: \"absolute top-2 left-2 text-xs\",\n                                    children: [\n                                        \"-\",\n                                        discount,\n                                        \"%\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                    lineNumber: 441,\n                                    columnNumber: 17\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                            lineNumber: 430,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                        lineNumber: 429,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_3__.CardContent, {\n                        className: \"px-5 py-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                className: \"font-medium text-sm text-foreground line-clamp-2 mb-1\",\n                                children: product.name\n                            }, void 0, false, {\n                                fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                lineNumber: 448,\n                                columnNumber: 13\n                            }, this),\n                            renderPrice(),\n                            renderRating()\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                        lineNumber: 447,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                lineNumber: 428,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n            lineNumber: 427,\n            columnNumber: 7\n        }, this);\n    }\n    if (variant === 'featured') {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_3__.Card, {\n            className: \"group hover:shadow-xl transition-all duration-300 border-border/50 bg-gradient-to-br from-background to-muted/20\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_6___default()), {\n                    href: `/produkt/${product.slug}`,\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_3__.CardHeader, {\n                            className: \"p-4 pb-0\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"relative aspect-square overflow-hidden rounded-lg\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_image__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                        src: imageUrl,\n                                        alt: product.name,\n                                        width: 300,\n                                        height: 300,\n                                        sizes: \"(max-width: 640px) 50vw, (max-width: 1024px) 33vw, 25vw\",\n                                        className: \"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300\",\n                                        loading: \"lazy\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                        lineNumber: 465,\n                                        columnNumber: 15\n                                    }, this),\n                                    isOnSale && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_badge__WEBPACK_IMPORTED_MODULE_5__.Badge, {\n                                        variant: \"destructive\",\n                                        className: \"absolute top-3 left-3 text-sm border-2 border-destructive/20 rounded-xl px-3 py-1\",\n                                        children: [\n                                            \"-\",\n                                            discount,\n                                            \"%\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                        lineNumber: 475,\n                                        columnNumber: 17\n                                    }, this),\n                                    product.featured && !isOnSale && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_badge__WEBPACK_IMPORTED_MODULE_5__.Badge, {\n                                        className: \"absolute top-3 right-3 text-sm bg-primary text-primary-foreground border-2 border-primary/20 rounded-xl px-3 py-1\",\n                                        children: \"Polecany\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                        lineNumber: 480,\n                                        columnNumber: 17\n                                    }, this),\n                                    isOnSale && product.featured && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_badge__WEBPACK_IMPORTED_MODULE_5__.Badge, {\n                                        className: \"absolute top-3 right-3 text-sm bg-amber-600 text-white border-2 border-amber-500/20 rounded-xl px-3 py-1\",\n                                        children: \"Promocja\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                        lineNumber: 485,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                lineNumber: 464,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                            lineNumber: 463,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_3__.CardContent, {\n                            className: \"px-6 py-3\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                    className: \"font-semibold text-lg text-foreground line-clamp-2 mb-2\",\n                                    children: product.name\n                                }, void 0, false, {\n                                    fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                    lineNumber: 492,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-sm text-muted-foreground line-clamp-2 mb-3\",\n                                    children: product.short_description\n                                }, void 0, false, {\n                                    fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                    lineNumber: 495,\n                                    columnNumber: 13\n                                }, this),\n                                renderPrice(),\n                                renderRating(),\n                                renderStockStatus()\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                            lineNumber: 491,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                    lineNumber: 462,\n                    columnNumber: 9\n                }, this),\n                showActions && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_3__.CardFooter, {\n                    className: \"px-6 pt-0 pb-4\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex gap-2 w-full\",\n                        children: [\n                            product.type === 'variable' && isDropdownOpen ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex-1 space-y-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-sm font-medium text-gray-700 mb-2\",\n                                        children: \"Wybierz wariant:\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                        lineNumber: 508,\n                                        columnNumber: 19\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex flex-wrap gap-2\",\n                                        children: getAvailableVariants().map((variant)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: ()=>handleVariantSelect(variant),\n                                                className: `px-3 py-2 text-sm rounded-lg border transition-colors ${selectedVariant === variant ? 'bg-black text-white border-black' : 'bg-white text-gray-700 border-gray-300 hover:border-black'}`,\n                                                children: variant\n                                            }, variant, false, {\n                                                fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                                lineNumber: 511,\n                                                columnNumber: 23\n                                            }, this))\n                                    }, void 0, false, {\n                                        fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                        lineNumber: 509,\n                                        columnNumber: 19\n                                    }, this),\n                                    selectedVariant && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_4__.Button, {\n                                        onClick: handleAddToCart,\n                                        disabled: isLoading || product.stock_status === 'outofstock',\n                                        className: \"w-full h-12 py-6 hover:bg-black hover:text-white transition-colors text-base\",\n                                        size: \"sm\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Eye_Heart_ShoppingCart_Star_lucide_react__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                                                className: \"w-4 h-4 mr-2\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                                lineNumber: 531,\n                                                columnNumber: 23\n                                            }, this),\n                                            isLoading ? 'Dodawanie...' : `Dodaj ${selectedVariant} do koszyka`\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                        lineNumber: 525,\n                                        columnNumber: 21\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                lineNumber: 507,\n                                columnNumber: 17\n                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_4__.Button, {\n                                onClick: handleAddToCartWithVariant,\n                                disabled: isLoading || product.stock_status === 'outofstock',\n                                className: \"flex-1 h-10 py-2 hover:bg-black hover:text-white transition-colors text-sm\",\n                                size: \"sm\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Eye_Heart_ShoppingCart_Star_lucide_react__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                                        className: \"w-4 h-4 mr-2\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                        lineNumber: 543,\n                                        columnNumber: 19\n                                    }, this),\n                                    isLoading ? 'Dodawanie...' : product.type === 'variable' ? 'Wybierz wariant' : 'Dodaj do koszyka'\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                lineNumber: 537,\n                                columnNumber: 17\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_4__.Button, {\n                                variant: \"outline\",\n                                size: \"sm\",\n                                onClick: handleQuickView,\n                                className: \"px-3 h-10 hover:bg-black hover:text-white transition-colors\",\n                                \"aria-label\": \"Szybki podglÄ…d\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Eye_Heart_ShoppingCart_Star_lucide_react__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                                    className: \"w-4 h-4\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                    lineNumber: 554,\n                                    columnNumber: 17\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                lineNumber: 547,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_4__.Button, {\n                                variant: \"outline\",\n                                size: \"sm\",\n                                onClick: handleToggleFavorite,\n                                className: `px-3 h-10 hover:bg-black hover:text-white transition-colors ${isClient && isFavorite(product.id) ? 'text-destructive' : ''}`,\n                                \"aria-label\": isClient && isFavorite(product.id) ? \"UsuÅ„ z ulubionych\" : \"Dodaj do ulubionych\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Eye_Heart_ShoppingCart_Star_lucide_react__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n                                    className: `w-4 h-4 ${isClient && isFavorite(product.id) ? 'fill-current' : ''}`\n                                }, void 0, false, {\n                                    fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                    lineNumber: 563,\n                                    columnNumber: 17\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                lineNumber: 556,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                        lineNumber: 505,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                    lineNumber: 504,\n                    columnNumber: 11\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_quick_view_modal__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                    isOpen: isQuickViewOpen,\n                    onClose: ()=>setIsQuickViewOpen(false),\n                    product: product\n                }, void 0, false, {\n                    fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                    lineNumber: 571,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n            lineNumber: 461,\n            columnNumber: 7\n        }, this);\n    }\n    // List variant - horizontal layout\n    if (variant === 'list') {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_3__.Card, {\n            className: \"group hover:shadow-lg transition-all duration-300 border-gray-200 rounded-xl overflow-hidden relative\",\n            onMouseEnter: ()=>{\n                setIsHovered(true);\n                // Load variations on hover for variable products\n                if (product.type === 'variable' && !variationsLoaded) {\n                    handleShowVariants();\n                }\n            },\n            onMouseLeave: ()=>{\n                setIsHovered(false);\n            },\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_6___default()), {\n                    href: `/produkt/${product.slug}`,\n                    className: \"flex h-40\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"w-40 h-40 flex-shrink-0 relative\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_image__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                    src: imageUrl,\n                                    alt: product.name,\n                                    width: 160,\n                                    height: 160,\n                                    className: \"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                    lineNumber: 598,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"absolute top-2 left-2\",\n                                    children: isOnSale ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_badge__WEBPACK_IMPORTED_MODULE_5__.Badge, {\n                                        className: \"bg-red-100 text-red-800 text-xs px-2 py-1 rounded-full border-0\",\n                                        children: \"Promocja\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                        lineNumber: 609,\n                                        columnNumber: 17\n                                    }, this) : product.featured ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_badge__WEBPACK_IMPORTED_MODULE_5__.Badge, {\n                                        className: \"bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full border-0\",\n                                        children: \"Polecany\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                        lineNumber: 613,\n                                        columnNumber: 17\n                                    }, this) : null\n                                }, void 0, false, {\n                                    fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                    lineNumber: 607,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                            lineNumber: 597,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex-1 px-6 py-4 flex flex-col justify-between\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                            className: \"font-semibold text-lg text-gray-900 group-hover:text-black transition-colors line-clamp-2\",\n                                            children: product.name\n                                        }, void 0, false, {\n                                            fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                            lineNumber: 622,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"mt-1\",\n                                            children: renderPrice()\n                                        }, void 0, false, {\n                                            fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                            lineNumber: 627,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"mt-1\",\n                                            children: renderRating()\n                                        }, void 0, false, {\n                                            fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                            lineNumber: 631,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"mt-1\",\n                                            children: renderStockStatus()\n                                        }, void 0, false, {\n                                            fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                            lineNumber: 635,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                    lineNumber: 621,\n                                    columnNumber: 13\n                                }, this),\n                                showActions && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex items-center gap-4 mt-4\",\n                                    children: [\n                                        product.type === 'variable' ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_4__.Button, {\n                                            onClick: (e)=>{\n                                                e.preventDefault();\n                                                e.stopPropagation();\n                                                handleShowVariants();\n                                            },\n                                            size: \"sm\",\n                                            className: \"bg-black hover:bg-gray-800 text-white px-8 py-3 text-sm font-medium rounded-lg\",\n                                            children: \"Wybierz wariant\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                            lineNumber: 643,\n                                            columnNumber: 19\n                                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_4__.Button, {\n                                            onClick: (e)=>{\n                                                e.preventDefault();\n                                                e.stopPropagation();\n                                                handleAddToCart();\n                                            },\n                                            disabled: product.stock_status === 'outofstock' || isLoading,\n                                            size: \"sm\",\n                                            className: \"bg-black hover:bg-gray-800 text-white px-8 py-3 text-sm font-medium rounded-lg\",\n                                            children: isLoading ? 'Dodawanie...' : 'Dodaj do koszyka'\n                                        }, void 0, false, {\n                                            fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                            lineNumber: 655,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_4__.Button, {\n                                            variant: \"outline\",\n                                            size: \"sm\",\n                                            onClick: (e)=>{\n                                                e.preventDefault();\n                                                e.stopPropagation();\n                                                handleQuickView();\n                                            },\n                                            className: \"px-4 py-3 h-10 w-10 rounded-lg border-gray-200 hover:border-gray-300\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Eye_Heart_ShoppingCart_Star_lucide_react__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                                                className: \"w-4 h-4\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                                lineNumber: 679,\n                                                columnNumber: 19\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                            lineNumber: 669,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_4__.Button, {\n                                            variant: \"outline\",\n                                            size: \"sm\",\n                                            onClick: (e)=>{\n                                                e.preventDefault();\n                                                e.stopPropagation();\n                                                handleToggleFavorite();\n                                            },\n                                            className: `px-4 py-3 h-10 w-10 rounded-lg ${isClient && isFavorite(product.id) ? 'text-red-500 border-red-200 bg-red-50 hover:bg-red-100' : 'text-gray-500 border-gray-200 hover:border-gray-300'}`,\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Eye_Heart_ShoppingCart_Star_lucide_react__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n                                                className: `w-4 h-4 ${isClient && isFavorite(product.id) ? 'fill-current' : ''}`\n                                            }, void 0, false, {\n                                                fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                                lineNumber: 694,\n                                                columnNumber: 19\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                            lineNumber: 682,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                    lineNumber: 641,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                            lineNumber: 620,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                    lineNumber: 596,\n                    columnNumber: 9\n                }, this),\n                product.type === 'variable' && variations.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: `absolute inset-0 bg-white/50 backdrop-blur-sm transition-all duration-300 ${isHovered ? 'opacity-100' : 'opacity-0 pointer-events-none'}`,\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex flex-col justify-center items-center h-full p-6\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                className: \"text-lg font-bold text-gray-900 mb-4 text-center\",\n                                children: \"Wybierz wariant\"\n                            }, void 0, false, {\n                                fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                lineNumber: 708,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex flex-wrap gap-3 justify-center\",\n                                children: getAvailableVariants().map((variant)=>{\n                                    const variation = variations.find((v)=>{\n                                        // ZnajdÅº wariacjÄ™ ktÃ³ra ma ten sam atrybut\n                                        const firstAttr = v.attributes?.find((attr)=>attr.slug && attr.option);\n                                        return firstAttr?.option === variant;\n                                    });\n                                    const variantPrice = variation?.price || variation?.sale_price || variation?.regular_price;\n                                    const isOnSale = variation?.sale_price && parseFloat(variation.sale_price) < parseFloat(variation.regular_price || '0');\n                                    const regularPrice = variation?.regular_price;\n                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: (e)=>{\n                                            e.preventDefault();\n                                            e.stopPropagation();\n                                            if (variation) {\n                                                handleAddToCartWithVariation(variation, variant);\n                                            }\n                                        },\n                                        className: \"flex flex-col items-center p-3 border border-gray-200 rounded-xl hover:border-gray-900 hover:shadow-md transition-all duration-200 bg-white\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"text-sm font-medium text-gray-900 mb-1\",\n                                                children: variant\n                                            }, void 0, false, {\n                                                fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                                lineNumber: 738,\n                                                columnNumber: 23\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-xs font-bold text-gray-900\",\n                                                children: variantPrice && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                    children: isOnSale ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"text-red-600\",\n                                                                children: (0,_utils_format_price__WEBPACK_IMPORTED_MODULE_11__.formatPrice)(parseFloat(variantPrice))\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                                                lineNumber: 746,\n                                                                columnNumber: 33\n                                                            }, this),\n                                                            regularPrice && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"text-gray-400 line-through ml-1\",\n                                                                children: (0,_utils_format_price__WEBPACK_IMPORTED_MODULE_11__.formatPrice)(parseFloat(regularPrice))\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                                                lineNumber: 748,\n                                                                columnNumber: 35\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        children: (0,_utils_format_price__WEBPACK_IMPORTED_MODULE_11__.formatPrice)(parseFloat(variantPrice))\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                                        lineNumber: 752,\n                                                        columnNumber: 31\n                                                    }, this)\n                                                }, void 0, false)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                                lineNumber: 741,\n                                                columnNumber: 23\n                                            }, this)\n                                        ]\n                                    }, variant, true, {\n                                        fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                        lineNumber: 727,\n                                        columnNumber: 21\n                                    }, this);\n                                })\n                            }, void 0, false, {\n                                fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                lineNumber: 709,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                        lineNumber: 707,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                    lineNumber: 704,\n                    columnNumber: 11\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_quick_view_modal__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                    isOpen: isQuickViewOpen,\n                    onClose: ()=>setIsQuickViewOpen(false),\n                    product: product\n                }, void 0, false, {\n                    fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                    lineNumber: 766,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n            lineNumber: 583,\n            columnNumber: 7\n        }, this);\n    }\n    // Default variant - matching the screenshot design\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_3__.Card, {\n        className: \"group flex flex-col h-full hover:shadow-lg transition-all duration-300 border-gray-200 rounded-2xl sm:rounded-3xl overflow-hidden p-0 relative\",\n        onMouseEnter: ()=>{\n            setIsHovered(true);\n            // Load variations on hover for variable products\n            if (product.type === 'variable' && !variationsLoaded) {\n                handleShowVariants();\n            }\n        },\n        onMouseLeave: ()=>{\n            setIsHovered(false);\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_6___default()), {\n                href: `/produkt/${product.slug}`,\n                className: \"flex flex-col flex-grow\",\n                onClick: (e)=>{\n                    // Prevent navigation if clicking on action buttons\n                    if (e.target.closest('button')) {\n                        e.preventDefault();\n                    }\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_3__.CardHeader, {\n                        className: \"p-0 relative\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"relative aspect-square overflow-hidden\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_image__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                    src: imageUrl,\n                                    alt: product.name,\n                                    width: 300,\n                                    height: 300,\n                                    className: \"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                    lineNumber: 802,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"absolute top-2 left-2\",\n                                    children: tabType === 'promocje' || isOnSale ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_badge__WEBPACK_IMPORTED_MODULE_5__.Badge, {\n                                        className: \"bg-red-100 text-red-800 text-xs px-3 py-1 rounded-full border-0\",\n                                        children: \"Promocja\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                        lineNumber: 813,\n                                        columnNumber: 17\n                                    }, this) : tabType === 'nowosci' ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_badge__WEBPACK_IMPORTED_MODULE_5__.Badge, {\n                                        className: \"bg-blue-100 text-blue-800 text-xs px-3 py-1 rounded-full border-0\",\n                                        children: \"NowoÅ›Ä‡\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                        lineNumber: 817,\n                                        columnNumber: 17\n                                    }, this) : tabType === 'polecane' || product.featured ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_badge__WEBPACK_IMPORTED_MODULE_5__.Badge, {\n                                        className: \"bg-green-100 text-green-800 text-xs px-3 py-1 rounded-full border-0\",\n                                        children: \"Polecany\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                        lineNumber: 821,\n                                        columnNumber: 17\n                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_badge__WEBPACK_IMPORTED_MODULE_5__.Badge, {\n                                        className: \"bg-blue-100 text-blue-800 text-xs px-3 py-1 rounded-full border-0\",\n                                        children: \"NowoÅ›Ä‡\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                        lineNumber: 825,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                    lineNumber: 811,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"absolute top-2 right-2 flex gap-2\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: (e)=>{\n                                                e.preventDefault();\n                                                e.stopPropagation();\n                                                handleQuickView();\n                                            },\n                                            className: \"w-8 h-8 bg-white/80 hover:bg-white hover:shadow-md rounded-full flex items-center justify-center transition-all duration-150\",\n                                            \"aria-label\": \"Szybki podglÄ…d\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Eye_Heart_ShoppingCart_Star_lucide_react__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                                                className: \"w-4 h-4 text-gray-700\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                                lineNumber: 842,\n                                                columnNumber: 17\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                            lineNumber: 833,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: (e)=>{\n                                                e.preventDefault();\n                                                e.stopPropagation();\n                                                handleToggleFavorite();\n                                            },\n                                            className: \"w-8 h-8 bg-white/80 hover:bg-white hover:shadow-md rounded-full flex items-center justify-center transition-all duration-150\",\n                                            \"aria-label\": isClient && isFavorite(product.id) ? \"UsuÅ„ z ulubionych\" : \"Dodaj do ulubionych\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Eye_Heart_ShoppingCart_Star_lucide_react__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n                                                className: `w-4 h-4 ${isClient && isFavorite(product.id) ? 'fill-current text-red-500' : 'text-gray-700'}`\n                                            }, void 0, false, {\n                                                fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                                lineNumber: 853,\n                                                columnNumber: 17\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                            lineNumber: 844,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                    lineNumber: 832,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                            lineNumber: 801,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                        lineNumber: 800,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_3__.CardContent, {\n                        className: \"px-3 sm:px-4 py-2 flex-grow\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-xs sm:text-sm text-gray-500 mb-2 flex items-center\",\n                                children: getMainCategory() || 'Bez kategorii'\n                            }, void 0, false, {\n                                fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                lineNumber: 862,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"font-bold text-foreground text-base sm:text-lg mb-2 line-clamp-2\",\n                                children: product.name\n                            }, void 0, false, {\n                                fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                lineNumber: 865,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-lg sm:text-xl font-bold text-foreground mb-2\",\n                                children: price\n                            }, void 0, false, {\n                                fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                lineNumber: 868,\n                                columnNumber: 11\n                            }, this),\n                            product.attributes && product.attributes.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex flex-wrap gap-1\",\n                                children: product.attributes.map((attr, attrIndex)=>{\n                                    if (!attr.options || !Array.isArray(attr.options)) return null;\n                                    return attr.options.slice(0, 2).map((option, optionIndex)=>{\n                                        if (!option) return null;\n                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"bg-gray-100 text-gray-600 text-xs font-medium px-2 py-0.5 rounded-full\",\n                                            children: option\n                                        }, `${attrIndex}-${optionIndex}`, false, {\n                                            fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                            lineNumber: 882,\n                                            columnNumber: 21\n                                        }, this);\n                                    });\n                                })\n                            }, void 0, false, {\n                                fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                lineNumber: 874,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                        lineNumber: 861,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                lineNumber: 790,\n                columnNumber: 7\n            }, this),\n            product.type === 'variable' && variations.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: `absolute inset-0 bg-white/50 backdrop-blur-sm transition-all duration-300 ${isHovered ? 'opacity-100' : 'opacity-0 pointer-events-none'}`,\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex flex-col justify-center items-center h-full p-6\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                            className: \"text-lg font-bold text-gray-900 mb-4 text-center\",\n                            children: \"Wybierz wariant\"\n                        }, void 0, false, {\n                            fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                            lineNumber: 902,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex flex-wrap gap-3 justify-center\",\n                            children: getAvailableVariants().map((variant)=>{\n                                const variation = variations.find((v)=>{\n                                    // ZnajdÅº wariacjÄ™ ktÃ³ra ma ten sam atrybut\n                                    const firstAttr = v.attributes?.find((attr)=>attr.slug && attr.option);\n                                    return firstAttr?.option === variant;\n                                });\n                                const variantPrice = variation?.price || variation?.sale_price || variation?.regular_price;\n                                const isOnSale = variation?.sale_price && parseFloat(variation.sale_price) < parseFloat(variation.regular_price || '0');\n                                const regularPrice = variation?.regular_price;\n                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: (e)=>{\n                                        e.preventDefault();\n                                        e.stopPropagation();\n                                        if (variation) {\n                                            handleAddToCartWithVariation(variation, variant);\n                                        }\n                                    },\n                                    className: \"flex flex-col items-center p-3 border border-gray-200 rounded-xl hover:border-gray-900 hover:shadow-md transition-all duration-200 bg-white\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-sm font-medium text-gray-900 mb-1\",\n                                            children: variant\n                                        }, void 0, false, {\n                                            fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                            lineNumber: 932,\n                                            columnNumber: 21\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-xs font-bold text-gray-900\",\n                                            children: variantPrice && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                children: isOnSale ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"text-red-600\",\n                                                            children: (0,_utils_format_price__WEBPACK_IMPORTED_MODULE_11__.formatPrice)(parseFloat(variantPrice))\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                                            lineNumber: 940,\n                                                            columnNumber: 31\n                                                        }, this),\n                                                        regularPrice && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"text-gray-400 line-through ml-1\",\n                                                            children: (0,_utils_format_price__WEBPACK_IMPORTED_MODULE_11__.formatPrice)(parseFloat(regularPrice))\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                                            lineNumber: 942,\n                                                            columnNumber: 33\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    children: (0,_utils_format_price__WEBPACK_IMPORTED_MODULE_11__.formatPrice)(parseFloat(variantPrice))\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                                    lineNumber: 946,\n                                                    columnNumber: 29\n                                                }, this)\n                                            }, void 0, false)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                            lineNumber: 935,\n                                            columnNumber: 21\n                                        }, this)\n                                    ]\n                                }, variant, true, {\n                                    fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                    lineNumber: 921,\n                                    columnNumber: 19\n                                }, this);\n                            })\n                        }, void 0, false, {\n                            fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                            lineNumber: 903,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                    lineNumber: 901,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                lineNumber: 898,\n                columnNumber: 9\n            }, this),\n            showActions && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_3__.CardFooter, {\n                className: \"px-3 sm:px-4 pb-4 mt-auto\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"w-full relative\",\n                    ref: dropdownRef,\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_4__.Button, {\n                            onClick: (e)=>{\n                                e.preventDefault();\n                                e.stopPropagation();\n                                if (product.type === 'variable') {\n                                    // For variable products, just show hover overlay (no dropdown)\n                                    handleShowVariants();\n                                } else {\n                                    handleAddToCart();\n                                }\n                            },\n                            onMouseEnter: ()=>{\n                                setIsButtonHovered(true);\n                                if (product.type === 'variable' && !variationsLoaded) {\n                                    handleShowVariants();\n                                }\n                            },\n                            onMouseLeave: ()=>{\n                                setIsButtonHovered(false);\n                            },\n                            disabled: isLoading || product.stock_status === 'outofstock',\n                            className: \"w-full bg-white border border-black text-gray-900 hover:bg-gray-50 rounded-lg py-3 font-medium text-sm\",\n                            size: \"lg\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Eye_Heart_ShoppingCart_Star_lucide_react__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                                    className: \"w-4 h-4 mr-2\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                    lineNumber: 986,\n                                    columnNumber: 15\n                                }, this),\n                                isLoading ? 'Dodawanie...' : product.type === 'variable' ? 'Wybierz wariant' : 'Dodaj do koszyka'\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                            lineNumber: 962,\n                            columnNumber: 13\n                        }, this),\n                         false && /*#__PURE__*/ 0\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                    lineNumber: 961,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                lineNumber: 960,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_quick_view_modal__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                isOpen: isQuickViewOpen,\n                onClose: ()=>setIsQuickViewOpen(false),\n                product: product\n            }, void 0, false, {\n                fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                lineNumber: 1060,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n        lineNumber: 777,\n        columnNumber: 5\n    }, this);\n}\n_s(KingProductCard, \"+3N2S4y1p/GCOyaDjeuz4gPPZ5c=\");\n_c = KingProductCard;\nvar _c;\n$RefreshReg$(_c, \"KingProductCard\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL2tpbmctcHJvZHVjdC1jYXJkLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFb0Q7QUFFYztBQUNlO0FBQ2pDO0FBQ0Y7QUFDZ0I7QUFDakM7QUFDRTtBQUNvQjtBQUNVO0FBQzdELDJDQUEyQztBQUMzQyxzREFBc0Q7QUFDUTtBQUNYO0FBU3BDLFNBQVNvQixnQkFBZ0IsRUFDdENDLE9BQU8sRUFDUEMsY0FBYyxJQUFJLEVBQ2xCQyxVQUFVLFNBQVMsRUFDbkJDLE9BQU8sRUFDYzs7SUFDckIsTUFBTSxDQUFDQyxXQUFXQyxhQUFhLEdBQUcxQiwrQ0FBUUEsQ0FBQztJQUMzQyxNQUFNLENBQUMyQixpQkFBaUJDLG1CQUFtQixHQUFHNUIsK0NBQVFBLENBQUM7SUFDdkQsTUFBTSxDQUFDNkIsY0FBY0MsZ0JBQWdCLEdBQUc5QiwrQ0FBUUEsQ0FBQztJQUNqRCxNQUFNLENBQUMrQixpQkFBaUJDLG1CQUFtQixHQUFHaEMsK0NBQVFBLENBQVM7SUFDL0QsTUFBTSxDQUFDaUMsa0JBQWtCQyxvQkFBb0IsR0FBR2xDLCtDQUFRQSxDQUFDO0lBQ3pELE1BQU0sQ0FBQ21DLFlBQVlDLGNBQWMsR0FBR3BDLCtDQUFRQSxDQVF4QyxFQUFFO0lBQ04sTUFBTSxDQUFDcUMsV0FBV0MsYUFBYSxHQUFHdEMsK0NBQVFBLENBQUM7SUFDM0MsTUFBTSxDQUFDdUMsaUJBQWlCQyxtQkFBbUIsR0FBR3hDLCtDQUFRQSxDQUFDO0lBQ3ZELE1BQU0sQ0FBQ3lDLGdCQUFnQkMsa0JBQWtCLEdBQUcxQywrQ0FBUUEsQ0FBQztJQUNyRCxNQUFNLENBQUMyQyxVQUFVQyxZQUFZLEdBQUc1QywrQ0FBUUEsQ0FBQztJQUN6QyxNQUFNNkMsY0FBYzNDLDZDQUFNQSxDQUFpQjtJQUUzQyxtQkFBbUI7SUFDbkJELGdEQUFTQTtxQ0FBQztZQUNSMkMsWUFBWTtRQUNkO29DQUFHLEVBQUU7SUFFTCx1Q0FB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Ozs7O1lBTVBELDZCQUNDLDhEQUFDaEIsMkRBQVVBO2dCQUFDZ0ksV0FBVTswQkFDcEIsNEVBQUNEO29CQUFJQyxXQUFVO29CQUFrQnVDLEtBQUtoSTs7c0NBQ3BDLDhEQUFDckMseURBQU1BOzRCQUNMb0osU0FBUyxDQUFDUTtnQ0FDUkEsRUFBRUMsY0FBYztnQ0FDaEJELEVBQUVFLGVBQWU7Z0NBQ2pCLElBQUlqSixRQUFRZ0QsSUFBSSxLQUFLLFlBQVk7b0NBQy9CLCtEQUErRDtvQ0FDL0RzQjtnQ0FDRixPQUFPO29DQUNMeEI7Z0NBQ0Y7NEJBQ0Y7NEJBQ0ErRixjQUFjO2dDQUNaMUgsbUJBQW1CO2dDQUNuQixJQUFJbkIsUUFBUWdELElBQUksS0FBSyxjQUFjLENBQUNwQyxrQkFBa0I7b0NBQ3BEMEQ7Z0NBQ0Y7NEJBQ0Y7NEJBQ0F3RSxjQUFjO2dDQUNaM0gsbUJBQW1COzRCQUNyQjs0QkFDQXFILFVBQVVwSSxhQUFhSixRQUFRMEgsWUFBWSxLQUFLOzRCQUNoRFQsV0FBVTs0QkFDVndCLE1BQUs7OzhDQUVMLDhEQUFDbkosd0dBQVlBO29DQUFDMkgsV0FBVTs7Ozs7O2dDQUN2QjdHLFlBQVksaUJBQWtCSixRQUFRZ0QsSUFBSSxLQUFLLGFBQWEsb0JBQW9COzs7Ozs7O3dCQUlsRixNQUFzRDVCLGtCQUNyRDs7Ozs7Ozs7Ozs7OzBCQW9FUiw4REFBQ3ZCLHdFQUFjQTtnQkFDYjhJLFFBQVFySTtnQkFDUnNJLFNBQVMsSUFBTXJJLG1CQUFtQjtnQkFDbENQLFNBQVNBOzs7Ozs7Ozs7Ozs7QUFJakI7R0FqaEN3QkQ7S0FBQUEiLCJzb3VyY2VzIjpbIi9Vc2Vycy9raW5nYnJhbmQvRGVza3RvcC9oZWFkbGVzcy13b28vYXBwcy93ZWIvc3JjL2NvbXBvbmVudHMva2luZy1wcm9kdWN0LWNhcmQudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50JztcblxuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlUmVmIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgV29vUHJvZHVjdCB9IGZyb20gJ0AvdHlwZXMvd29vY29tbWVyY2UnO1xuaW1wb3J0IHdvb0NvbW1lcmNlU2VydmljZSBmcm9tICdAL3NlcnZpY2VzL3dvb2NvbW1lcmNlLW9wdGltaXplZCc7XG5pbXBvcnQgeyBDYXJkLCBDYXJkQ29udGVudCwgQ2FyZEZvb3RlciwgQ2FyZEhlYWRlciB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9jYXJkJztcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9idXR0b24nO1xuaW1wb3J0IHsgQmFkZ2UgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvYmFkZ2UnO1xuaW1wb3J0IHsgSGVhcnQsIFNob3BwaW5nQ2FydCwgRXllLCBTdGFyIH0gZnJvbSAnbHVjaWRlLXJlYWN0JztcbmltcG9ydCBMaW5rIGZyb20gJ25leHQvbGluayc7XG5pbXBvcnQgSW1hZ2UgZnJvbSAnbmV4dC9pbWFnZSc7XG5pbXBvcnQgeyB1c2VDYXJ0U3RvcmUgfSBmcm9tICdAL3N0b3Jlcy9jYXJ0LXN0b3JlJztcbmltcG9ydCB7IHVzZUZhdm9yaXRlc1N0b3JlIH0gZnJvbSAnQC9zdG9yZXMvZmF2b3JpdGVzLXN0b3JlJztcbi8vIFdpc2hsaXN0IHR5bWN6YXNvd28gd3nFgsSFY3pvbnkgbmEga2FydGFjaFxuLy8gaW1wb3J0IHsgdXNlV2lzaGxpc3QgfSBmcm9tICdAL2hvb2tzL3VzZS13aXNobGlzdCc7XG5pbXBvcnQgUXVpY2tWaWV3TW9kYWwgZnJvbSAnQC9jb21wb25lbnRzL3VpL3F1aWNrLXZpZXctbW9kYWwnO1xuaW1wb3J0IHsgZm9ybWF0UHJpY2UgfSBmcm9tICdAL3V0aWxzL2Zvcm1hdC1wcmljZSc7XG5cbmludGVyZmFjZSBLaW5nUHJvZHVjdENhcmRQcm9wcyB7XG4gIHByb2R1Y3Q6IFdvb1Byb2R1Y3Q7XG4gIHNob3dBY3Rpb25zPzogYm9vbGVhbjtcbiAgdmFyaWFudD86ICdkZWZhdWx0JyB8ICdjb21wYWN0JyB8ICdmZWF0dXJlZCcgfCAnbGlzdCc7XG4gIHRhYlR5cGU/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEtpbmdQcm9kdWN0Q2FyZCh7IFxuICBwcm9kdWN0LCBcbiAgc2hvd0FjdGlvbnMgPSB0cnVlLCBcbiAgdmFyaWFudCA9ICdkZWZhdWx0JyxcbiAgdGFiVHlwZVxufTogS2luZ1Byb2R1Y3RDYXJkUHJvcHMpIHtcbiAgY29uc3QgW2lzTG9hZGluZywgc2V0SXNMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2lzUXVpY2tWaWV3T3Blbiwgc2V0SXNRdWlja1ZpZXdPcGVuXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3Nob3dWYXJpYW50cywgc2V0U2hvd1ZhcmlhbnRzXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3NlbGVjdGVkVmFyaWFudCwgc2V0U2VsZWN0ZWRWYXJpYW50XSA9IHVzZVN0YXRlPHN0cmluZz4oJycpO1xuICBjb25zdCBbdmFyaWF0aW9uc0xvYWRlZCwgc2V0VmFyaWF0aW9uc0xvYWRlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFt2YXJpYXRpb25zLCBzZXRWYXJpYXRpb25zXSA9IHVzZVN0YXRlPEFycmF5PHtcbiAgICBpZDogbnVtYmVyO1xuICAgIGF0dHJpYnV0ZXM/OiBBcnJheTx7IHNsdWc6IHN0cmluZzsgb3B0aW9uOiBzdHJpbmcgfT47XG4gICAgcHJpY2U6IHN0cmluZztcbiAgICByZWd1bGFyX3ByaWNlOiBzdHJpbmc7XG4gICAgc2FsZV9wcmljZTogc3RyaW5nO1xuICAgIG5hbWU6IHN0cmluZztcbiAgICBtZW51X29yZGVyOiBudW1iZXI7XG4gIH0+PihbXSk7XG4gIGNvbnN0IFtpc0hvdmVyZWQsIHNldElzSG92ZXJlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtpc0J1dHRvbkhvdmVyZWQsIHNldElzQnV0dG9uSG92ZXJlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtpc0Ryb3Bkb3duT3Blbiwgc2V0SXNEcm9wZG93bk9wZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbaXNDbGllbnQsIHNldElzQ2xpZW50XSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgZHJvcGRvd25SZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpO1xuICBcbiAgLy8gSGFuZGxlIGh5ZHJhdGlvblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNldElzQ2xpZW50KHRydWUpO1xuICB9LCBbXSk7XG5cbiAgLy8gQ2xvc2UgZHJvcGRvd24gd2hlbiBjbGlja2luZyBvdXRzaWRlXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgaGFuZGxlQ2xpY2tPdXRzaWRlID0gKGV2ZW50OiBNb3VzZUV2ZW50KSA9PiB7XG4gICAgICBpZiAoZHJvcGRvd25SZWYuY3VycmVudCAmJiAhZHJvcGRvd25SZWYuY3VycmVudC5jb250YWlucyhldmVudC50YXJnZXQgYXMgTm9kZSkpIHtcbiAgICAgICAgc2V0SXNEcm9wZG93bk9wZW4oZmFsc2UpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBpZiAoaXNEcm9wZG93bk9wZW4pIHtcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGhhbmRsZUNsaWNrT3V0c2lkZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGhhbmRsZUNsaWNrT3V0c2lkZSk7XG4gICAgfTtcbiAgfSwgW2lzRHJvcGRvd25PcGVuXSk7XG5cbiAgLy8gRGVidWcgdmFyaWF0aW9ucyBzdGF0ZSBjaGFuZ2VzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc29sZS5sb2coJ/CflIQgdmFyaWF0aW9ucyBzdGF0ZSBjaGFuZ2VkOicsIHZhcmlhdGlvbnMpO1xuICAgIGNvbnNvbGUubG9nKCfwn5SEIHZhcmlhdGlvbnMubGVuZ3RoOicsIHZhcmlhdGlvbnMubGVuZ3RoKTtcbiAgICBjb25zb2xlLmxvZygn8J+UhCB2YXJpYXRpb25zIHR5cGU6JywgdHlwZW9mIHZhcmlhdGlvbnMpO1xuICAgIGNvbnNvbGUubG9nKCfwn5SEIHZhcmlhdGlvbnMgaXMgYXJyYXk6JywgQXJyYXkuaXNBcnJheSh2YXJpYXRpb25zKSk7XG4gIH0sIFt2YXJpYXRpb25zXSk7XG4gIFxuICAvLyBTYWZlbHkgYWNjZXNzIHN0b3JlcyB3aXRoIGVycm9yIGhhbmRsaW5nXG4gIGxldCBhZGRJdGVtLCBvcGVuQ2FydCwgdG9nZ2xlRmF2b3JpdGUsIGlzRmF2b3JpdGU7XG4gIHRyeSB7XG4gICAgY29uc3QgY2FydFN0b3JlID0gdXNlQ2FydFN0b3JlKCk7XG4gICAgYWRkSXRlbSA9IGNhcnRTdG9yZS5hZGRJdGVtO1xuICAgIG9wZW5DYXJ0ID0gY2FydFN0b3JlLm9wZW5DYXJ0O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUud2FybignQ2FydCBzdG9yZSBub3QgYXZhaWxhYmxlOicsIGVycm9yKTtcbiAgICBhZGRJdGVtID0gKCkgPT4ge307XG4gICAgb3BlbkNhcnQgPSAoKSA9PiB7fTtcbiAgfVxuICBcbiAgdHJ5IHtcbiAgICBjb25zdCBmYXZvcml0ZXNTdG9yZSA9IHVzZUZhdm9yaXRlc1N0b3JlKCk7XG4gICAgdG9nZ2xlRmF2b3JpdGUgPSBmYXZvcml0ZXNTdG9yZS50b2dnbGVGYXZvcml0ZTtcbiAgICBpc0Zhdm9yaXRlID0gZmF2b3JpdGVzU3RvcmUuaXNGYXZvcml0ZTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLndhcm4oJ0Zhdm9yaXRlcyBzdG9yZSBub3QgYXZhaWxhYmxlOicsIGVycm9yKTtcbiAgICB0b2dnbGVGYXZvcml0ZSA9ICgpID0+IHt9O1xuICAgIGlzRmF2b3JpdGUgPSAoKSA9PiBmYWxzZTtcbiAgfVxuXG4gIC8vIFdpc2hsaXN0IHZpYSBzYWZlIGhvb2sgKFNTUi1ndWFyZGVkKVxuICAvLyBXaXNobGlzdCBVSSB3ecWCxIVjem9ueSBuYSBrYXJ0YWNoIOKAkyB6b3N0YWplIHR5bGtvIFVsdWJpb25lXG5cbiAgY29uc3QgaGFuZGxlQWRkVG9DYXJ0ID0gYXN5bmMgKCkgPT4ge1xuICAgIHNldElzTG9hZGluZyh0cnVlKTtcbiAgICB0cnkge1xuICAgICAgbGV0IGNhcnRJdGVtO1xuICAgICAgXG4gICAgICBpZiAocHJvZHVjdC50eXBlID09PSAndmFyaWFibGUnICYmIHNlbGVjdGVkVmFyaWFudCkge1xuICAgICAgICAvLyBGb3IgdmFyaWFibGUgcHJvZHVjdHMgd2l0aCBzZWxlY3RlZCB2YXJpYW50LCBnZXQgdGhlIHNwZWNpZmljIHZhcmlhdGlvblxuICAgICAgICBjb25zdCB2YXJpYXRpb25zID0gYXdhaXQgd29vQ29tbWVyY2VTZXJ2aWNlLmdldFByb2R1Y3RWYXJpYXRpb25zKHByb2R1Y3QuaWQpO1xuICAgICAgICBjb25zdCBzZWxlY3RlZFZhcmlhdGlvbiA9IHZhcmlhdGlvbnMudmFyaWF0aW9ucz8uZmluZCgodmFyaWF0aW9uKSA9PiBcbiAgICAgICAgICB2YXJpYXRpb24uYXR0cmlidXRlcz8uc29tZSgoYXR0cikgPT4gXG4gICAgICAgICAgICBhdHRyLnNsdWcgPT09ICdwYV9wb2plbW5vc2MnICYmIGF0dHIub3B0aW9uID09PSBzZWxlY3RlZFZhcmlhbnRcbiAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgICAgIFxuICAgICAgICBpZiAoc2VsZWN0ZWRWYXJpYXRpb24pIHtcbiAgICAgICAgICBjYXJ0SXRlbSA9IHtcbiAgICAgICAgICAgIGlkOiBzZWxlY3RlZFZhcmlhdGlvbi5pZCxcbiAgICAgICAgICAgIG5hbWU6IGAke3Byb2R1Y3QubmFtZX0gLSAke3NlbGVjdGVkVmFyaWFudH1gLFxuICAgICAgICAgICAgcHJpY2U6IHBhcnNlRmxvYXQoc2VsZWN0ZWRWYXJpYXRpb24ucHJpY2UpLFxuICAgICAgICAgICAgcmVndWxhcl9wcmljZTogcGFyc2VGbG9hdChzZWxlY3RlZFZhcmlhdGlvbi5yZWd1bGFyX3ByaWNlKSxcbiAgICAgICAgICAgIHNhbGVfcHJpY2U6IHBhcnNlRmxvYXQoc2VsZWN0ZWRWYXJpYXRpb24uc2FsZV9wcmljZSksXG4gICAgICAgICAgICBpbWFnZTogaW1hZ2VVcmwsXG4gICAgICAgICAgICBwZXJtYWxpbms6IGAvcHJvZHVrdC8ke3Byb2R1Y3Quc2x1Z31gLFxuICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gRmFsbGJhY2sgdG8gbWFpbiBwcm9kdWN0IGlmIHZhcmlhdGlvbiBub3QgZm91bmRcbiAgICAgICAgICBjYXJ0SXRlbSA9IHtcbiAgICAgICAgICAgIGlkOiBwcm9kdWN0LmlkLFxuICAgICAgICAgICAgbmFtZTogcHJvZHVjdC5uYW1lLFxuICAgICAgICAgICAgcHJpY2U6IHBhcnNlRmxvYXQocHJvZHVjdC5wcmljZSksXG4gICAgICAgICAgICByZWd1bGFyX3ByaWNlOiBwYXJzZUZsb2F0KHByb2R1Y3QucmVndWxhcl9wcmljZSksXG4gICAgICAgICAgICBzYWxlX3ByaWNlOiBwYXJzZUZsb2F0KHByb2R1Y3Quc2FsZV9wcmljZSksXG4gICAgICAgICAgICBpbWFnZTogaW1hZ2VVcmwsXG4gICAgICAgICAgICBwZXJtYWxpbms6IGAvcHJvZHVrdC8ke3Byb2R1Y3Quc2x1Z31gLFxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEZvciBzaW1wbGUgcHJvZHVjdHMgb3IgdmFyaWFibGUgcHJvZHVjdHMgd2l0aG91dCBzZWxlY3RlZCB2YXJpYW50XG4gICAgICAgIGNhcnRJdGVtID0ge1xuICAgICAgICAgIGlkOiBwcm9kdWN0LmlkLFxuICAgICAgICAgIG5hbWU6IHByb2R1Y3QubmFtZSxcbiAgICAgICAgICBwcmljZTogcGFyc2VGbG9hdChwcm9kdWN0LnByaWNlKSxcbiAgICAgICAgICByZWd1bGFyX3ByaWNlOiBwYXJzZUZsb2F0KHByb2R1Y3QucmVndWxhcl9wcmljZSksXG4gICAgICAgICAgc2FsZV9wcmljZTogcGFyc2VGbG9hdChwcm9kdWN0LnNhbGVfcHJpY2UpLFxuICAgICAgICAgIGltYWdlOiBpbWFnZVVybCxcbiAgICAgICAgICBwZXJtYWxpbms6IGAvcHJvZHVrdC8ke3Byb2R1Y3Quc2x1Z31gLFxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICBjb25zb2xlLmxvZygn8J+bkiBBZGRpbmcgdG8gY2FydCBmcm9tIGNhcmQ6JywgY2FydEl0ZW0pO1xuICAgICAgYWRkSXRlbShjYXJ0SXRlbSk7XG4gICAgICBvcGVuQ2FydCgpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdCxYLEhWQgZG9kYXdhbmlhIGRvIGtvc3p5a2E6JywgZXJyb3IpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVUb2dnbGVGYXZvcml0ZSA9ICgpID0+IHtcbiAgICB0b2dnbGVGYXZvcml0ZShwcm9kdWN0KTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVRdWlja1ZpZXcgPSAoKSA9PiB7XG4gICAgc2V0SXNRdWlja1ZpZXdPcGVuKHRydWUpO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVZhcmlhbnRTZWxlY3QgPSAodmFyaWFudDogc3RyaW5nKSA9PiB7XG4gICAgc2V0U2VsZWN0ZWRWYXJpYW50KHZhcmlhbnQpO1xuICAgIHNldFNob3dWYXJpYW50cyhmYWxzZSk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlU2hvd1ZhcmlhbnRzID0gYXN5bmMgKCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCfwn5SEIGhhbmRsZVNob3dWYXJpYW50cyBjYWxsZWQgZm9yIHByb2R1Y3Q6JywgcHJvZHVjdC5pZCk7XG4gICAgaWYgKCF2YXJpYXRpb25zTG9hZGVkKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHdvb0NvbW1lcmNlU2VydmljZS5nZXRQcm9kdWN0VmFyaWF0aW9ucyhwcm9kdWN0LmlkKTtcbiAgICAgICAgY29uc29sZS5sb2coJ/CflIQgVmFyaWF0aW9ucyByZXNwb25zZTonLCByZXNwb25zZSk7XG4gICAgICAgIC8vIEFQSSB6d3JhY2Egd2FyaWFudHkgamFrbyB0YWJsaWPEmSBiZXpwb8WbcmVkbmlvLCBuaWUgdyBvYmlla2NpZSB6IHfFgmHFm2Npd2/Fm2NpxIUgdmFyaWF0aW9uc1xuICAgICAgICBjb25zdCB2YXJpYXRpb25zID0gQXJyYXkuaXNBcnJheShyZXNwb25zZSkgPyByZXNwb25zZSA6IChyZXNwb25zZS52YXJpYXRpb25zIHx8IFtdKTtcbiAgICAgICAgY29uc29sZS5sb2coJ/CflIQgU2V0dGluZyB2YXJpYXRpb25zOicsIHZhcmlhdGlvbnMpO1xuICAgICAgICBjb25zb2xlLmxvZygn8J+UhCB2YXJpYXRpb25zIHR5cGU6JywgdHlwZW9mIHZhcmlhdGlvbnMpO1xuICAgICAgICBjb25zb2xlLmxvZygn8J+UhCB2YXJpYXRpb25zIGlzIGFycmF5OicsIEFycmF5LmlzQXJyYXkodmFyaWF0aW9ucykpO1xuICAgICAgICBjb25zb2xlLmxvZygn8J+UhCB2YXJpYXRpb25zIGxlbmd0aDonLCB2YXJpYXRpb25zLmxlbmd0aCk7XG4gICAgICAgIHNldFZhcmlhdGlvbnMoWy4uLnZhcmlhdGlvbnNdKTsgLy8gRm9yY2UgbmV3IGFycmF5IHJlZmVyZW5jZVxuICAgICAgICBzZXRWYXJpYXRpb25zTG9hZGVkKHRydWUpO1xuICAgICAgICBjb25zb2xlLmxvZygn8J+UhCBWYXJpYXRpb25zIHNldCwgdmFyaWF0aW9uc0xvYWRlZDonLCB0cnVlKTtcbiAgICAgICAgLy8gRm9yY2UgcmUtcmVuZGVyIGJ5IHVwZGF0aW5nIHN0YXRlXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SEIEFmdGVyIHRpbWVvdXQgLSB2YXJpYXRpb25zOicsIHZhcmlhdGlvbnMpO1xuICAgICAgICB9LCAxMDApO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignQsWCxIVkIMWCYWRvd2FuaWEgd2FyaWFudMOzdzonLCBlcnJvcik7XG4gICAgICB9XG4gICAgfVxuICAgIHNldFNob3dWYXJpYW50cyh0cnVlKTtcbiAgICBzZXRJc0Ryb3Bkb3duT3Blbih0cnVlKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVBZGRUb0NhcnRXaXRoVmFyaWFudCA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAocHJvZHVjdC50eXBlID09PSAndmFyaWFibGUnICYmICFzZWxlY3RlZFZhcmlhbnQpIHtcbiAgICAgIGhhbmRsZVNob3dWYXJpYW50cygpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBhd2FpdCBoYW5kbGVBZGRUb0NhcnQoKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVBZGRUb0NhcnRXaXRoVmFyaWF0aW9uID0gYXN5bmMgKHZhcmlhdGlvbjogeyBcbiAgICBpZDogbnVtYmVyOyBcbiAgICBwcmljZTogc3RyaW5nOyBcbiAgICByZWd1bGFyX3ByaWNlOiBzdHJpbmc7IFxuICAgIHNhbGVfcHJpY2U6IHN0cmluZzsgXG4gICAgYXR0cmlidXRlcz86IEFycmF5PHsgc2x1Zzogc3RyaW5nOyBvcHRpb246IHN0cmluZyB9PjsgXG4gIH0sIHZhcmlhbnROYW1lOiBzdHJpbmcpID0+IHtcbiAgICBjb25zb2xlLmxvZygn8J+bkiBoYW5kbGVBZGRUb0NhcnRXaXRoVmFyaWF0aW9uIGNhbGxlZCB3aXRoOicsIHZhcmlhdGlvbiwgdmFyaWFudE5hbWUpO1xuICAgIGNvbnNvbGUubG9nKCfwn5uSIGFkZEl0ZW0gZnVuY3Rpb246JywgYWRkSXRlbSk7XG4gICAgY29uc29sZS5sb2coJ/Cfm5Igb3BlbkNhcnQgZnVuY3Rpb246Jywgb3BlbkNhcnQpO1xuICAgIFxuICAgIHNldElzTG9hZGluZyh0cnVlKTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgY2FydEl0ZW0gPSB7XG4gICAgICAgIGlkOiB2YXJpYXRpb24uaWQsXG4gICAgICAgIG5hbWU6IGAke3Byb2R1Y3QubmFtZX0gLSAke3ZhcmlhbnROYW1lfWAsXG4gICAgICAgIHByaWNlOiBwYXJzZUZsb2F0KHZhcmlhdGlvbi5wcmljZSksXG4gICAgICAgIHJlZ3VsYXJfcHJpY2U6IHBhcnNlRmxvYXQodmFyaWF0aW9uLnJlZ3VsYXJfcHJpY2UpLFxuICAgICAgICBzYWxlX3ByaWNlOiBwYXJzZUZsb2F0KHZhcmlhdGlvbi5zYWxlX3ByaWNlKSxcbiAgICAgICAgaW1hZ2U6IGltYWdlVXJsLFxuICAgICAgICBwZXJtYWxpbms6IGAvcHJvZHVrdC8ke3Byb2R1Y3Quc2x1Z31gLFxuICAgICAgfTtcblxuICAgICAgY29uc29sZS5sb2coJ/Cfm5IgQWRkaW5nIHZhcmlhdGlvbiB0byBjYXJ0OicsIGNhcnRJdGVtKTtcbiAgICAgIGNvbnNvbGUubG9nKCfwn5uSIENhbGxpbmcgYWRkSXRlbS4uLicpO1xuICAgICAgYWRkSXRlbShjYXJ0SXRlbSk7XG4gICAgICBjb25zb2xlLmxvZygn8J+bkiBhZGRJdGVtIGNhbGxlZCwgbm93IGNhbGxpbmcgb3BlbkNhcnQuLi4nKTtcbiAgICAgIG9wZW5DYXJ0KCk7XG4gICAgICBjb25zb2xlLmxvZygn8J+bkiBvcGVuQ2FydCBjYWxsZWQnKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignQsWCxIVkIGRvZGF3YW5pYSB3YXJpYW50dSBkbyBrb3N6eWthOicsIGVycm9yKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gR2V0IGF2YWlsYWJsZSB2YXJpYW50cyBmcm9tIGxvYWRlZCB2YXJpYXRpb25zXG4gIGNvbnN0IGdldEF2YWlsYWJsZVZhcmlhbnRzID0gKCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCfwn5SEIGdldEF2YWlsYWJsZVZhcmlhbnRzIGNhbGxlZCAtIHZhcmlhdGlvbnM6JywgdmFyaWF0aW9ucyk7XG4gICAgY29uc29sZS5sb2coJ/CflIQgdmFyaWF0aW9ucy5sZW5ndGg6JywgdmFyaWF0aW9ucy5sZW5ndGgpO1xuICAgIGNvbnNvbGUubG9nKCfwn5SEIHZhcmlhdGlvbnNMb2FkZWQ6JywgdmFyaWF0aW9uc0xvYWRlZCk7XG4gICAgXG4gICAgaWYgKHZhcmlhdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgdmFyaWFudHMgPSB2YXJpYXRpb25zLm1hcCgodmFyaWF0aW9uOiBhbnkpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coJ/CflIQgUHJvY2Vzc2luZyB2YXJpYXRpb246JywgdmFyaWF0aW9uKTtcbiAgICAgICAgLy8gWm5hamTFuiBwaWVyd3N6eSBkb3N0xJlwbnkgYXRyeWJ1dCAocG9qZW1ub8WbxIcsIGtvbG9yLCByb3ptaWFyLCBldGMuKVxuICAgICAgICBjb25zdCBmaXJzdEF0dHIgPSB2YXJpYXRpb24uYXR0cmlidXRlcz8uZmluZCgoYXR0cjogYW55KSA9PiBcbiAgICAgICAgICBhdHRyLnNsdWcgJiYgYXR0ci5vcHRpb25cbiAgICAgICAgKTtcbiAgICAgICAgY29uc29sZS5sb2coJ/CflIQgRmlyc3QgYXR0ciBmb3VuZDonLCBmaXJzdEF0dHIpO1xuICAgICAgICBjb25zdCB2YXJpYW50TmFtZSA9IGZpcnN0QXR0cj8ub3B0aW9uIHx8IHZhcmlhdGlvbi5uYW1lIHx8IGBXYXJpYW50ICR7dmFyaWF0aW9uLmlkfWA7XG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5SEIFZhcmlhbnQgbmFtZTonLCB2YXJpYW50TmFtZSk7XG4gICAgICAgIHJldHVybiB2YXJpYW50TmFtZTtcbiAgICAgIH0pO1xuICAgICAgY29uc29sZS5sb2coJ/CflIQgTWFwcGVkIHZhcmlhbnRzOicsIHZhcmlhbnRzKTtcbiAgICAgIHJldHVybiB2YXJpYW50cztcbiAgICB9XG4gICAgXG4gICAgY29uc29sZS5sb2coJ/CflIQgTm8gdmFyaWF0aW9ucywgdHJ5aW5nIHByb2R1Y3QgYXR0cmlidXRlcycpO1xuICAgIC8vIEZhbGxiYWNrIHRvIHByb2R1Y3QgYXR0cmlidXRlcyAtIHpuYWpkxbogcGllcndzenkgYXRyeWJ1dCB6IG9wY2phbWlcbiAgICBpZiAoIXByb2R1Y3QuYXR0cmlidXRlcykge1xuICAgICAgY29uc29sZS5sb2coJ/CflIQgTm8gcHJvZHVjdCBhdHRyaWJ1dGVzJyk7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIGNvbnN0IGZpcnN0QXR0cldpdGhPcHRpb25zID0gcHJvZHVjdC5hdHRyaWJ1dGVzLmZpbmQoKGF0dHIpID0+IFxuICAgICAgKGF0dHIgYXMgYW55KS5vcHRpb25zICYmIChhdHRyIGFzIGFueSkub3B0aW9ucy5sZW5ndGggPiAwXG4gICAgKTtcbiAgICBpZiAoIWZpcnN0QXR0cldpdGhPcHRpb25zKSB7XG4gICAgICBjb25zb2xlLmxvZygn8J+UhCBObyBhdHRyaWJ1dGVzIHdpdGggb3B0aW9ucycpO1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICBjb25zdCBvcHRzID0gKGZpcnN0QXR0cldpdGhPcHRpb25zIGFzIGFueSkub3B0aW9ucyB8fCBbXTtcbiAgICBjb25zb2xlLmxvZygn8J+UhCBQcm9kdWN0IGF0dHJpYnV0ZSBvcHRpb25zOicsIG9wdHMpO1xuICAgIHJldHVybiBvcHRzLm1hcCgobzogYW55KSA9PiB7XG4gICAgICBpZiAodHlwZW9mIG8gPT09ICdzdHJpbmcnKSByZXR1cm4gbztcbiAgICAgIGlmICh0eXBlb2YgbyA9PT0gJ29iamVjdCcgJiYgby5uYW1lKSByZXR1cm4gby5uYW1lO1xuICAgICAgaWYgKHR5cGVvZiBvID09PSAnb2JqZWN0JyAmJiBvLnNsdWcpIHJldHVybiBvLnNsdWc7XG4gICAgICByZXR1cm4gU3RyaW5nKG8pO1xuICAgIH0pLmZpbHRlcihCb29sZWFuKTtcbiAgfTtcblxuICAvLyBHZXQgYXR0cmlidXRlIG5hbWUgZm9yIGRpc3BsYXlcbiAgY29uc3QgZ2V0QXR0cmlidXRlTmFtZSA9ICgpID0+IHtcbiAgICBpZiAodmFyaWF0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCBmaXJzdFZhcmlhdGlvbiA9IHZhcmlhdGlvbnNbMF07XG4gICAgICBjb25zdCBmaXJzdEF0dHIgPSBmaXJzdFZhcmlhdGlvbi5hdHRyaWJ1dGVzPy5maW5kKChhdHRyOiB7IHNsdWc6IHN0cmluZzsgb3B0aW9uOiBzdHJpbmcgfSkgPT4gXG4gICAgICAgIGF0dHIuc2x1ZyAmJiBhdHRyLm9wdGlvblxuICAgICAgKTtcbiAgICAgIGlmIChmaXJzdEF0dHIpIHtcbiAgICAgICAgLy8gTWFwIGNvbW1vbiBhdHRyaWJ1dGUgc2x1Z3MgdG8gZGlzcGxheSBuYW1lc1xuICAgICAgICBjb25zdCBhdHRyTmFtZXM6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH0gPSB7XG4gICAgICAgICAgJ3BhX3BvamVtbm9zYyc6ICdQb2plbW5vxZvEhycsXG4gICAgICAgICAgJ3BhX2tvbG9yJzogJ0tvbG9yJyxcbiAgICAgICAgICAncGFfcm96bWlhcic6ICdSb3ptaWFyJyxcbiAgICAgICAgICAncGFfbWF0ZXJpYWwnOiAnTWF0ZXJpYcWCJyxcbiAgICAgICAgICAncGFfdHlwJzogJ1R5cCdcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGF0dHJOYW1lc1tmaXJzdEF0dHIuc2x1Z10gfHwgZmlyc3RBdHRyLnNsdWcucmVwbGFjZSgncGFfJywgJycpLnJlcGxhY2UoJ18nLCAnICcpLnRvVXBwZXJDYXNlKCk7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIC8vIEZhbGxiYWNrIHRvIHByb2R1Y3QgYXR0cmlidXRlc1xuICAgIGlmIChwcm9kdWN0LmF0dHJpYnV0ZXMgJiYgcHJvZHVjdC5hdHRyaWJ1dGVzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IGZpcnN0QXR0ciA9IHByb2R1Y3QuYXR0cmlidXRlcy5maW5kKChhdHRyKSA9PiBcbiAgICAgICAgKGF0dHIgYXMgYW55KS5vcHRpb25zICYmIChhdHRyIGFzIGFueSkub3B0aW9ucy5sZW5ndGggPiAwXG4gICAgICApO1xuICAgICAgcmV0dXJuIChmaXJzdEF0dHIgYXMgYW55KT8ubmFtZSB8fCAnV2FyaWFudCc7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiAnV2FyaWFudCc7XG4gIH07XG5cbiAgY29uc3QgaXNPblNhbGUgPSB3b29Db21tZXJjZVNlcnZpY2UuaXNQcm9kdWN0T25TYWxlKHByb2R1Y3QpO1xuICBjb25zdCBkaXNjb3VudCA9IHdvb0NvbW1lcmNlU2VydmljZS5nZXRQcm9kdWN0RGlzY291bnQocHJvZHVjdCk7XG4gIC8vIEhhbmRsZSBib3RoIGZ1bGwgV29vUHJvZHVjdCBhbmQgc2ltcGxpZmllZCBBUEkgZGF0YVxuICBjb25zdCBpbWFnZVVybCA9ICgoKSA9PiB7XG4gICAgLy8gQ2hlY2sgaWYgcHJvZHVjdCBoYXMgaW1hZ2VzIGFycmF5IChmdWxsIFdvb1Byb2R1Y3QgZm9ybWF0KVxuICAgIGlmIChBcnJheS5pc0FycmF5KChwcm9kdWN0IGFzIFdvb1Byb2R1Y3QpLmltYWdlcykgJiYgKHByb2R1Y3QgYXMgV29vUHJvZHVjdCkuaW1hZ2VzLmxlbmd0aCA+IDApIHtcbiAgICAgIHJldHVybiB3b29Db21tZXJjZVNlcnZpY2UuZ2V0UHJvZHVjdEltYWdlVXJsKHByb2R1Y3QsICdtZWRpdW0nKTtcbiAgICB9XG4gICAgXG4gICAgLy8gQ2hlY2sgaWYgcHJvZHVjdCBoYXMgc2luZ2xlIGltYWdlIHByb3BlcnR5IChzaW1wbGlmaWVkIEFQSSBmb3JtYXQpXG4gICAgaWYgKHR5cGVvZiAocHJvZHVjdCBhcyB7IGltYWdlPzogc3RyaW5nIH0pLmltYWdlID09PSAnc3RyaW5nJyAmJiAocHJvZHVjdCBhcyB7IGltYWdlPzogc3RyaW5nIH0pLmltYWdlKSB7XG4gICAgICBjb25zdCBpbWFnZVVybCA9IChwcm9kdWN0IGFzIGFueSkuaW1hZ2U7XG4gICAgICAvLyBDb252ZXJ0IHRvIGhpZ2hlciBxdWFsaXR5IGltYWdlIGJ5IHJlcGxhY2luZyBzaXplIHN1ZmZpeFxuICAgICAgaWYgKGltYWdlVXJsLmluY2x1ZGVzKCctMzAweDMwMC4nKSkge1xuICAgICAgICByZXR1cm4gaW1hZ2VVcmwucmVwbGFjZSgnLTMwMHgzMDAuJywgJy02MDB4NjAwLicpO1xuICAgICAgfSBlbHNlIGlmIChpbWFnZVVybC5pbmNsdWRlcygnLTE1MHgxNTAuJykpIHtcbiAgICAgICAgcmV0dXJuIGltYWdlVXJsLnJlcGxhY2UoJy0xNTB4MTUwLicsICctNjAweDYwMC4nKTtcbiAgICAgIH0gZWxzZSBpZiAoaW1hZ2VVcmwuaW5jbHVkZXMoJy0xMDB4MTAwLicpKSB7XG4gICAgICAgIHJldHVybiBpbWFnZVVybC5yZXBsYWNlKCctMTAweDEwMC4nLCAnLTYwMHg2MDAuJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gaW1hZ2VVcmw7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiAnL2ltYWdlcy9wbGFjZWhvbGRlci1wcm9kdWN0LmpwZyc7XG4gIH0pKCk7XG4gIGNvbnN0IHByaWNlID0gd29vQ29tbWVyY2VTZXJ2aWNlLmZvcm1hdFByaWNlKHByb2R1Y3QucHJpY2UpO1xuICBjb25zdCByZWd1bGFyUHJpY2UgPSB3b29Db21tZXJjZVNlcnZpY2UuZm9ybWF0UHJpY2UocHJvZHVjdC5yZWd1bGFyX3ByaWNlKTtcblxuICAvLyBIZWxwZXIgZnVuY3Rpb24gdG8gZ2V0IGJyYW5kIGZyb20gYXR0cmlidXRlc1xuICBjb25zdCBnZXRCcmFuZCA9ICgpOiBzdHJpbmcgfCBudWxsID0+IHtcbiAgICBpZiAoIXByb2R1Y3QuYXR0cmlidXRlcykgcmV0dXJuIG51bGw7XG4gICAgY29uc3QgYnJhbmRBdHRyID0gcHJvZHVjdC5hdHRyaWJ1dGVzLmZpbmQoKGF0dHI6IHsgbmFtZTogc3RyaW5nOyBvcHRpb25zOiBzdHJpbmdbXSB9KSA9PiBcbiAgICAgIGF0dHIubmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdtYXJrYScpXG4gICAgKTtcbiAgICBpZiAoIWJyYW5kQXR0cikgcmV0dXJuIG51bGw7XG4gICAgY29uc3QgZmlyc3QgPSBicmFuZEF0dHIub3B0aW9ucz8uWzBdO1xuICAgIGlmICghZmlyc3QpIHJldHVybiBudWxsO1xuICAgIHJldHVybiB0eXBlb2YgZmlyc3QgPT09ICdzdHJpbmcnID8gZmlyc3QgOiAoZmlyc3QgYXMgYW55KT8ubmFtZSB8fCAoZmlyc3QgYXMgYW55KT8uc2x1ZyB8fCBTdHJpbmcoZmlyc3QpO1xuICB9O1xuXG4gIC8vIEhlbHBlciBmdW5jdGlvbiB0byBnZXQgbWFpbiBjYXRlZ29yeSAocGFyZW50OiAwKVxuICBjb25zdCBnZXRNYWluQ2F0ZWdvcnkgPSAoKTogc3RyaW5nIHwgbnVsbCA9PiB7XG4gICAgY29uc3QgY2F0cyA9IChwcm9kdWN0IGFzIHsgY2F0ZWdvcmllcz86IEFycmF5PHsgbmFtZTogc3RyaW5nIH0+IH0pLmNhdGVnb3JpZXM7XG4gICAgaWYgKCFjYXRzIHx8IGNhdHMubGVuZ3RoID09PSAwKSByZXR1cm4gbnVsbDtcbiAgICBcbiAgICAvLyBNYWluIGNhdGVnb3JpZXMgKHBhcmVudDogMCkgYXJlOiBNZXpvdGVyYXBpYSwgUGVlbGluZ2ksIFN0eW11bGF0b3J5LCBXeXBlxYJuaWFjemVcbiAgICBjb25zdCBtYWluQ2F0ZWdvcmllcyA9IFsnTWV6b3RlcmFwaWEnLCAnUGVlbGluZ2knLCAnU3R5bXVsYXRvcnknLCAnV3lwZcWCbmlhY3plJ107XG4gICAgXG4gICAgLy8gRmluZCB0aGUgZmlyc3QgbWFpbiBjYXRlZ29yeSBpbiB0aGUgcHJvZHVjdCdzIGNhdGVnb3JpZXNcbiAgICBjb25zdCBtYWluID0gY2F0cy5maW5kKChjKSA9PiB7XG4gICAgICBjb25zdCBjYXRlZ29yeU5hbWUgPSB0eXBlb2YgYyA9PT0gJ3N0cmluZycgPyBjIDogYz8ubmFtZTtcbiAgICAgIHJldHVybiBjYXRlZ29yeU5hbWUgJiYgbWFpbkNhdGVnb3JpZXMuaW5jbHVkZXMoY2F0ZWdvcnlOYW1lKTtcbiAgICB9KTtcbiAgICBcbiAgICBpZiAobWFpbikge1xuICAgICAgcmV0dXJuIHR5cGVvZiBtYWluID09PSAnc3RyaW5nJyA/IG1haW4gOiBtYWluPy5uYW1lO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcblxuICBjb25zdCByZW5kZXJQcmljZSA9ICgpID0+IHtcbiAgICBpZiAoaXNPblNhbGUpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtYm9sZCB0ZXh0LWZvcmVncm91bmRcIj57cHJpY2V9PC9zcGFuPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1tdXRlZC1mb3JlZ3JvdW5kIGxpbmUtdGhyb3VnaFwiPntyZWd1bGFyUHJpY2V9PC9zcGFuPlxuICAgICAgICAgIDxCYWRnZSB2YXJpYW50PVwiZGVzdHJ1Y3RpdmVcIiBjbGFzc05hbWU9XCJ0ZXh0LXhzXCI+XG4gICAgICAgICAgICAte2Rpc2NvdW50fSVcbiAgICAgICAgICA8L0JhZGdlPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtYm9sZCB0ZXh0LWZvcmVncm91bmRcIj57cHJpY2V9PC9zcGFuPjtcbiAgfTtcblxuICBjb25zdCByZW5kZXJSYXRpbmcgPSAoKSA9PiB7XG4gICAgY29uc3QgcmF0aW5nID0gcGFyc2VGbG9hdChwcm9kdWN0LmF2ZXJhZ2VfcmF0aW5nKTtcbiAgICBpZiAoaXNOYU4ocmF0aW5nKSB8fCByYXRpbmcgPT09IDApIHJldHVybiBudWxsO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTFcIj5cbiAgICAgICAgPFN0YXIgY2xhc3NOYW1lPVwidy00IGgtNCBmaWxsLWN1cnJlbnQgdGV4dC1mb3JlZ3JvdW5kXCIgLz5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LW11dGVkLWZvcmVncm91bmRcIj57cmF0aW5nLnRvRml4ZWQoMSl9PC9zcGFuPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiPih7cHJvZHVjdC5yYXRpbmdfY291bnR9KTwvc3Bhbj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH07XG5cbiAgY29uc3QgcmVuZGVyU3RvY2tTdGF0dXMgPSAoKSA9PiB7XG4gICAgaWYgKHByb2R1Y3Quc3RvY2tfc3RhdHVzID09PSAnb3V0b2ZzdG9jaycpIHtcbiAgICAgIHJldHVybiA8QmFkZ2UgdmFyaWFudD1cInNlY29uZGFyeVwiIGNsYXNzTmFtZT1cInRleHQteHNcIj5OaWVkb3N0xJlwbnk8L0JhZGdlPjtcbiAgICB9XG4gICAgaWYgKHByb2R1Y3Quc3RvY2tfc3RhdHVzID09PSAnb25iYWNrb3JkZXInKSB7XG4gICAgICByZXR1cm4gPEJhZGdlIHZhcmlhbnQ9XCJzZWNvbmRhcnlcIiBjbGFzc05hbWU9XCJ0ZXh0LXhzXCI+TmEgemFtw7N3aWVuaWU8L0JhZGdlPjtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG5cbiAgaWYgKHZhcmlhbnQgPT09ICdjb21wYWN0Jykge1xuICAgIHJldHVybiAoXG4gICAgICA8Q2FyZCBjbGFzc05hbWU9XCJncm91cCBob3ZlcjpzaGFkb3ctbGcgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMzAwIGJvcmRlci1ib3JkZXIvNTBcIj5cbiAgICAgICAgPExpbmsgaHJlZj17YC9wcm9kdWt0LyR7cHJvZHVjdC5zbHVnfWB9PlxuICAgICAgICAgIDxDYXJkSGVhZGVyIGNsYXNzTmFtZT1cInAtMyBwYi0wXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlIGFzcGVjdC1zcXVhcmUgb3ZlcmZsb3ctaGlkZGVuIHJvdW5kZWQtbGdcIj5cbiAgICAgICAgICAgICAgPEltYWdlXG4gICAgICAgICAgICAgICAgc3JjPXtpbWFnZVVybH1cbiAgICAgICAgICAgICAgICBhbHQ9e3Byb2R1Y3QubmFtZX1cbiAgICAgICAgICAgICAgICB3aWR0aD17MzAwfVxuICAgICAgICAgICAgICAgIGhlaWdodD17MzAwfVxuICAgICAgICAgICAgICAgIHNpemVzPVwiKG1heC13aWR0aDogNjQwcHgpIDUwdncsIChtYXgtd2lkdGg6IDEwMjRweCkgMzN2dywgMjV2d1wiXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGgtZnVsbCBvYmplY3QtY292ZXIgZ3JvdXAtaG92ZXI6c2NhbGUtMTA1IHRyYW5zaXRpb24tdHJhbnNmb3JtIGR1cmF0aW9uLTMwMFwiXG4gICAgICAgICAgICAgICAgbG9hZGluZz1cImxhenlcIlxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICB7aXNPblNhbGUgJiYgKFxuICAgICAgICAgICAgICAgIDxCYWRnZSB2YXJpYW50PVwiZGVzdHJ1Y3RpdmVcIiBjbGFzc05hbWU9XCJhYnNvbHV0ZSB0b3AtMiBsZWZ0LTIgdGV4dC14c1wiPlxuICAgICAgICAgICAgICAgICAgLXtkaXNjb3VudH0lXG4gICAgICAgICAgICAgICAgPC9CYWRnZT5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvQ2FyZEhlYWRlcj5cbiAgICAgICAgICA8Q2FyZENvbnRlbnQgY2xhc3NOYW1lPVwicHgtNSBweS0yXCI+XG4gICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwiZm9udC1tZWRpdW0gdGV4dC1zbSB0ZXh0LWZvcmVncm91bmQgbGluZS1jbGFtcC0yIG1iLTFcIj5cbiAgICAgICAgICAgICAge3Byb2R1Y3QubmFtZX1cbiAgICAgICAgICAgIDwvaDM+XG4gICAgICAgICAgICB7cmVuZGVyUHJpY2UoKX1cbiAgICAgICAgICAgIHtyZW5kZXJSYXRpbmcoKX1cbiAgICAgICAgICA8L0NhcmRDb250ZW50PlxuICAgICAgICA8L0xpbms+XG4gICAgICA8L0NhcmQ+XG4gICAgKTtcbiAgfVxuXG4gIGlmICh2YXJpYW50ID09PSAnZmVhdHVyZWQnKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxDYXJkIGNsYXNzTmFtZT1cImdyb3VwIGhvdmVyOnNoYWRvdy14bCB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0zMDAgYm9yZGVyLWJvcmRlci81MCBiZy1ncmFkaWVudC10by1iciBmcm9tLWJhY2tncm91bmQgdG8tbXV0ZWQvMjBcIj5cbiAgICAgICAgPExpbmsgaHJlZj17YC9wcm9kdWt0LyR7cHJvZHVjdC5zbHVnfWB9PlxuICAgICAgICAgIDxDYXJkSGVhZGVyIGNsYXNzTmFtZT1cInAtNCBwYi0wXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlIGFzcGVjdC1zcXVhcmUgb3ZlcmZsb3ctaGlkZGVuIHJvdW5kZWQtbGdcIj5cbiAgICAgICAgICAgICAgPEltYWdlXG4gICAgICAgICAgICAgICAgc3JjPXtpbWFnZVVybH1cbiAgICAgICAgICAgICAgICBhbHQ9e3Byb2R1Y3QubmFtZX1cbiAgICAgICAgICAgICAgICB3aWR0aD17MzAwfVxuICAgICAgICAgICAgICAgIGhlaWdodD17MzAwfVxuICAgICAgICAgICAgICAgIHNpemVzPVwiKG1heC13aWR0aDogNjQwcHgpIDUwdncsIChtYXgtd2lkdGg6IDEwMjRweCkgMzN2dywgMjV2d1wiXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGgtZnVsbCBvYmplY3QtY292ZXIgZ3JvdXAtaG92ZXI6c2NhbGUtMTA1IHRyYW5zaXRpb24tdHJhbnNmb3JtIGR1cmF0aW9uLTMwMFwiXG4gICAgICAgICAgICAgICAgbG9hZGluZz1cImxhenlcIlxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICB7aXNPblNhbGUgJiYgKFxuICAgICAgICAgICAgICAgIDxCYWRnZSB2YXJpYW50PVwiZGVzdHJ1Y3RpdmVcIiBjbGFzc05hbWU9XCJhYnNvbHV0ZSB0b3AtMyBsZWZ0LTMgdGV4dC1zbSBib3JkZXItMiBib3JkZXItZGVzdHJ1Y3RpdmUvMjAgcm91bmRlZC14bCBweC0zIHB5LTFcIj5cbiAgICAgICAgICAgICAgICAgIC17ZGlzY291bnR9JVxuICAgICAgICAgICAgICAgIDwvQmFkZ2U+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIHtwcm9kdWN0LmZlYXR1cmVkICYmICFpc09uU2FsZSAmJiAoXG4gICAgICAgICAgICAgICAgPEJhZGdlIGNsYXNzTmFtZT1cImFic29sdXRlIHRvcC0zIHJpZ2h0LTMgdGV4dC1zbSBiZy1wcmltYXJ5IHRleHQtcHJpbWFyeS1mb3JlZ3JvdW5kIGJvcmRlci0yIGJvcmRlci1wcmltYXJ5LzIwIHJvdW5kZWQteGwgcHgtMyBweS0xXCI+XG4gICAgICAgICAgICAgICAgICBQb2xlY2FueVxuICAgICAgICAgICAgICAgIDwvQmFkZ2U+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIHtpc09uU2FsZSAmJiBwcm9kdWN0LmZlYXR1cmVkICYmIChcbiAgICAgICAgICAgICAgICA8QmFkZ2UgY2xhc3NOYW1lPVwiYWJzb2x1dGUgdG9wLTMgcmlnaHQtMyB0ZXh0LXNtIGJnLWFtYmVyLTYwMCB0ZXh0LXdoaXRlIGJvcmRlci0yIGJvcmRlci1hbWJlci01MDAvMjAgcm91bmRlZC14bCBweC0zIHB5LTFcIj5cbiAgICAgICAgICAgICAgICAgIFByb21vY2phXG4gICAgICAgICAgICAgICAgPC9CYWRnZT5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvQ2FyZEhlYWRlcj5cbiAgICAgICAgICA8Q2FyZENvbnRlbnQgY2xhc3NOYW1lPVwicHgtNiBweS0zXCI+XG4gICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCB0ZXh0LWxnIHRleHQtZm9yZWdyb3VuZCBsaW5lLWNsYW1wLTIgbWItMlwiPlxuICAgICAgICAgICAgICB7cHJvZHVjdC5uYW1lfVxuICAgICAgICAgICAgPC9oMz5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1tdXRlZC1mb3JlZ3JvdW5kIGxpbmUtY2xhbXAtMiBtYi0zXCI+XG4gICAgICAgICAgICAgIHtwcm9kdWN0LnNob3J0X2Rlc2NyaXB0aW9ufVxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAge3JlbmRlclByaWNlKCl9XG4gICAgICAgICAgICB7cmVuZGVyUmF0aW5nKCl9XG4gICAgICAgICAgICB7cmVuZGVyU3RvY2tTdGF0dXMoKX1cbiAgICAgICAgICA8L0NhcmRDb250ZW50PlxuICAgICAgICA8L0xpbms+XG4gICAgICAgIHtzaG93QWN0aW9ucyAmJiAoXG4gICAgICAgICAgPENhcmRGb290ZXIgY2xhc3NOYW1lPVwicHgtNiBwdC0wIHBiLTRcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBnYXAtMiB3LWZ1bGxcIj5cbiAgICAgICAgICAgICAge3Byb2R1Y3QudHlwZSA9PT0gJ3ZhcmlhYmxlJyAmJiBpc0Ryb3Bkb3duT3BlbiA/IChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSBzcGFjZS15LTJcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwIG1iLTJcIj5XeWJpZXJ6IHdhcmlhbnQ6PC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC13cmFwIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgICAgIHtnZXRBdmFpbGFibGVWYXJpYW50cygpLm1hcCgodmFyaWFudDogc3RyaW5nKSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAga2V5PXt2YXJpYW50fVxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlVmFyaWFudFNlbGVjdCh2YXJpYW50KX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YHB4LTMgcHktMiB0ZXh0LXNtIHJvdW5kZWQtbGcgYm9yZGVyIHRyYW5zaXRpb24tY29sb3JzICR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkVmFyaWFudCA9PT0gdmFyaWFudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJ2JnLWJsYWNrIHRleHQtd2hpdGUgYm9yZGVyLWJsYWNrJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogJ2JnLXdoaXRlIHRleHQtZ3JheS03MDAgYm9yZGVyLWdyYXktMzAwIGhvdmVyOmJvcmRlci1ibGFjaydcbiAgICAgICAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIHt2YXJpYW50fVxuICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAge3NlbGVjdGVkVmFyaWFudCAmJiAoXG4gICAgICAgICAgICAgICAgICAgIDxCdXR0b24gXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlQWRkVG9DYXJ0fVxuICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtpc0xvYWRpbmcgfHwgcHJvZHVjdC5zdG9ja19zdGF0dXMgPT09ICdvdXRvZnN0b2NrJ31cbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgaC0xMiBweS02IGhvdmVyOmJnLWJsYWNrIGhvdmVyOnRleHQtd2hpdGUgdHJhbnNpdGlvbi1jb2xvcnMgdGV4dC1iYXNlXCJcbiAgICAgICAgICAgICAgICAgICAgICBzaXplPVwic21cIlxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgPFNob3BwaW5nQ2FydCBjbGFzc05hbWU9XCJ3LTQgaC00IG1yLTJcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgIHtpc0xvYWRpbmcgPyAnRG9kYXdhbmllLi4uJyA6IGBEb2RhaiAke3NlbGVjdGVkVmFyaWFudH0gZG8ga29zenlrYWB9XG4gICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICA8QnV0dG9uIFxuICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlQWRkVG9DYXJ0V2l0aFZhcmlhbnR9XG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17aXNMb2FkaW5nIHx8IHByb2R1Y3Quc3RvY2tfc3RhdHVzID09PSAnb3V0b2ZzdG9jayd9XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4LTEgaC0xMCBweS0yIGhvdmVyOmJnLWJsYWNrIGhvdmVyOnRleHQtd2hpdGUgdHJhbnNpdGlvbi1jb2xvcnMgdGV4dC1zbVwiXG4gICAgICAgICAgICAgICAgICBzaXplPVwic21cIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDxTaG9wcGluZ0NhcnQgY2xhc3NOYW1lPVwidy00IGgtNCBtci0yXCIgLz5cbiAgICAgICAgICAgICAgICAgIHtpc0xvYWRpbmcgPyAnRG9kYXdhbmllLi4uJyA6IChwcm9kdWN0LnR5cGUgPT09ICd2YXJpYWJsZScgPyAnV3liaWVyeiB3YXJpYW50JyA6ICdEb2RhaiBkbyBrb3N6eWthJyl9XG4gICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICB2YXJpYW50PVwib3V0bGluZVwiXG4gICAgICAgICAgICAgICAgc2l6ZT1cInNtXCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVRdWlja1ZpZXd9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtMyBoLTEwIGhvdmVyOmJnLWJsYWNrIGhvdmVyOnRleHQtd2hpdGUgdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJTenlia2kgcG9kZ2zEhWRcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPEV5ZSBjbGFzc05hbWU9XCJ3LTQgaC00XCIgLz5cbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICB2YXJpYW50PVwib3V0bGluZVwiXG4gICAgICAgICAgICAgICAgc2l6ZT1cInNtXCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVUb2dnbGVGYXZvcml0ZX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BweC0zIGgtMTAgaG92ZXI6YmctYmxhY2sgaG92ZXI6dGV4dC13aGl0ZSB0cmFuc2l0aW9uLWNvbG9ycyAke2lzQ2xpZW50ICYmIGlzRmF2b3JpdGUocHJvZHVjdC5pZCkgPyAndGV4dC1kZXN0cnVjdGl2ZScgOiAnJ31gfVxuICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9e2lzQ2xpZW50ICYmIGlzRmF2b3JpdGUocHJvZHVjdC5pZCkgPyBcIlVzdcWEIHogdWx1YmlvbnljaFwiIDogXCJEb2RhaiBkbyB1bHViaW9ueWNoXCJ9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8SGVhcnQgY2xhc3NOYW1lPXtgdy00IGgtNCAke2lzQ2xpZW50ICYmIGlzRmF2b3JpdGUocHJvZHVjdC5pZCkgPyAnZmlsbC1jdXJyZW50JyA6ICcnfWB9IC8+XG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICB7LyogV2lzaGxpc3QgYnV0dG9uIHJlbW92ZWQgKi99XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L0NhcmRGb290ZXI+XG4gICAgICAgICl9XG4gICAgICAgIFxuICAgICAgICB7LyogUXVpY2sgVmlldyBNb2RhbCAqL31cbiAgICAgICAgPFF1aWNrVmlld01vZGFsXG4gICAgICAgICAgaXNPcGVuPXtpc1F1aWNrVmlld09wZW59XG4gICAgICAgICAgb25DbG9zZT17KCkgPT4gc2V0SXNRdWlja1ZpZXdPcGVuKGZhbHNlKX1cbiAgICAgICAgICBwcm9kdWN0PXtwcm9kdWN0fVxuICAgICAgICAvPlxuICAgICAgPC9DYXJkPlxuICAgICk7XG4gIH1cblxuICAvLyBMaXN0IHZhcmlhbnQgLSBob3Jpem9udGFsIGxheW91dFxuICBpZiAodmFyaWFudCA9PT0gJ2xpc3QnKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxDYXJkIFxuICAgICAgICBjbGFzc05hbWU9XCJncm91cCBob3ZlcjpzaGFkb3ctbGcgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMzAwIGJvcmRlci1ncmF5LTIwMCByb3VuZGVkLXhsIG92ZXJmbG93LWhpZGRlbiByZWxhdGl2ZVwiXG4gICAgICAgIG9uTW91c2VFbnRlcj17KCkgPT4ge1xuICAgICAgICAgIHNldElzSG92ZXJlZCh0cnVlKTtcbiAgICAgICAgICAvLyBMb2FkIHZhcmlhdGlvbnMgb24gaG92ZXIgZm9yIHZhcmlhYmxlIHByb2R1Y3RzXG4gICAgICAgICAgaWYgKHByb2R1Y3QudHlwZSA9PT0gJ3ZhcmlhYmxlJyAmJiAhdmFyaWF0aW9uc0xvYWRlZCkge1xuICAgICAgICAgICAgaGFuZGxlU2hvd1ZhcmlhbnRzKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9fVxuICAgICAgICBvbk1vdXNlTGVhdmU9eygpID0+IHtcbiAgICAgICAgICBzZXRJc0hvdmVyZWQoZmFsc2UpO1xuICAgICAgICB9fVxuICAgICAgPlxuICAgICAgICA8TGluayBocmVmPXtgL3Byb2R1a3QvJHtwcm9kdWN0LnNsdWd9YH0gY2xhc3NOYW1lPVwiZmxleCBoLTQwXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTQwIGgtNDAgZmxleC1zaHJpbmstMCByZWxhdGl2ZVwiPlxuICAgICAgICAgICAgPEltYWdlXG4gICAgICAgICAgICAgIHNyYz17aW1hZ2VVcmx9XG4gICAgICAgICAgICAgIGFsdD17cHJvZHVjdC5uYW1lfVxuICAgICAgICAgICAgICB3aWR0aD17MTYwfVxuICAgICAgICAgICAgICBoZWlnaHQ9ezE2MH1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGgtZnVsbCBvYmplY3QtY292ZXIgZ3JvdXAtaG92ZXI6c2NhbGUtMTA1IHRyYW5zaXRpb24tdHJhbnNmb3JtIGR1cmF0aW9uLTMwMFwiXG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgXG4gICAgICAgICAgICB7LyogQmFkZ2UgKi99XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIHRvcC0yIGxlZnQtMlwiPlxuICAgICAgICAgICAgICB7aXNPblNhbGUgPyAoXG4gICAgICAgICAgICAgICAgPEJhZGdlIGNsYXNzTmFtZT1cImJnLXJlZC0xMDAgdGV4dC1yZWQtODAwIHRleHQteHMgcHgtMiBweS0xIHJvdW5kZWQtZnVsbCBib3JkZXItMFwiPlxuICAgICAgICAgICAgICAgICAgUHJvbW9jamFcbiAgICAgICAgICAgICAgICA8L0JhZGdlPlxuICAgICAgICAgICAgICApIDogcHJvZHVjdC5mZWF0dXJlZCA/IChcbiAgICAgICAgICAgICAgICA8QmFkZ2UgY2xhc3NOYW1lPVwiYmctZ3JlZW4tMTAwIHRleHQtZ3JlZW4tODAwIHRleHQteHMgcHgtMiBweS0xIHJvdW5kZWQtZnVsbCBib3JkZXItMFwiPlxuICAgICAgICAgICAgICAgICAgUG9sZWNhbnlcbiAgICAgICAgICAgICAgICA8L0JhZGdlPlxuICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIHB4LTYgcHktNCBmbGV4IGZsZXgtY29sIGp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgdGV4dC1sZyB0ZXh0LWdyYXktOTAwIGdyb3VwLWhvdmVyOnRleHQtYmxhY2sgdHJhbnNpdGlvbi1jb2xvcnMgbGluZS1jbGFtcC0yXCI+XG4gICAgICAgICAgICAgICAge3Byb2R1Y3QubmFtZX1cbiAgICAgICAgICAgICAgPC9oMz5cbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTFcIj5cbiAgICAgICAgICAgICAgICB7cmVuZGVyUHJpY2UoKX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTFcIj5cbiAgICAgICAgICAgICAgICB7cmVuZGVyUmF0aW5nKCl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0xXCI+XG4gICAgICAgICAgICAgICAge3JlbmRlclN0b2NrU3RhdHVzKCl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHtzaG93QWN0aW9ucyAmJiAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTQgbXQtNFwiPlxuICAgICAgICAgICAgICAgIHtwcm9kdWN0LnR5cGUgPT09ICd2YXJpYWJsZScgPyAoXG4gICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgaGFuZGxlU2hvd1ZhcmlhbnRzKCk7XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgIHNpemU9XCJzbVwiXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJnLWJsYWNrIGhvdmVyOmJnLWdyYXktODAwIHRleHQtd2hpdGUgcHgtOCBweS0zIHRleHQtc20gZm9udC1tZWRpdW0gcm91bmRlZC1sZ1wiXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIFd5Ymllcnogd2FyaWFudFxuICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVBZGRUb0NhcnQoKTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3Byb2R1Y3Quc3RvY2tfc3RhdHVzID09PSAnb3V0b2ZzdG9jaycgfHwgaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgICBzaXplPVwic21cIlxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJiZy1ibGFjayBob3ZlcjpiZy1ncmF5LTgwMCB0ZXh0LXdoaXRlIHB4LTggcHktMyB0ZXh0LXNtIGZvbnQtbWVkaXVtIHJvdW5kZWQtbGdcIlxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICB7aXNMb2FkaW5nID8gJ0RvZGF3YW5pZS4uLicgOiAnRG9kYWogZG8ga29zenlrYSd9XG4gICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJvdXRsaW5lXCJcbiAgICAgICAgICAgICAgICAgIHNpemU9XCJzbVwiXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZVF1aWNrVmlldygpO1xuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTQgcHktMyBoLTEwIHctMTAgcm91bmRlZC1sZyBib3JkZXItZ3JheS0yMDAgaG92ZXI6Ym9yZGVyLWdyYXktMzAwXCJcbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICA8RXllIGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPlxuICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJvdXRsaW5lXCJcbiAgICAgICAgICAgICAgICAgIHNpemU9XCJzbVwiXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZVRvZ2dsZUZhdm9yaXRlKCk7XG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgcHgtNCBweS0zIGgtMTAgdy0xMCByb3VuZGVkLWxnICR7XG4gICAgICAgICAgICAgICAgICAgIGlzQ2xpZW50ICYmIGlzRmF2b3JpdGUocHJvZHVjdC5pZCkgPyAndGV4dC1yZWQtNTAwIGJvcmRlci1yZWQtMjAwIGJnLXJlZC01MCBob3ZlcjpiZy1yZWQtMTAwJyA6ICd0ZXh0LWdyYXktNTAwIGJvcmRlci1ncmF5LTIwMCBob3Zlcjpib3JkZXItZ3JheS0zMDAnXG4gICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICA8SGVhcnQgY2xhc3NOYW1lPXtgdy00IGgtNCAke2lzQ2xpZW50ICYmIGlzRmF2b3JpdGUocHJvZHVjdC5pZCkgPyAnZmlsbC1jdXJyZW50JyA6ICcnfWB9IC8+XG4gICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgey8qIFdpc2hsaXN0IGljb24gcmVtb3ZlZCAqL31cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L0xpbms+XG4gICAgICAgIFxuICAgICAgICB7LyogSG92ZXIgb3ZlcmxheSB3aXRoIHZhcmlhbnRzIGZvciB2YXJpYWJsZSBwcm9kdWN0cyBpbiBsaXN0IHZpZXcgKi99XG4gICAgICAgIHtwcm9kdWN0LnR5cGUgPT09ICd2YXJpYWJsZScgJiYgdmFyaWF0aW9ucy5sZW5ndGggPiAwICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YGFic29sdXRlIGluc2V0LTAgYmctd2hpdGUvNTAgYmFja2Ryb3AtYmx1ci1zbSB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0zMDAgJHtcbiAgICAgICAgICAgIGlzSG92ZXJlZCA/ICdvcGFjaXR5LTEwMCcgOiAnb3BhY2l0eS0wIHBvaW50ZXItZXZlbnRzLW5vbmUnXG4gICAgICAgICAgfWB9PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIGp1c3RpZnktY2VudGVyIGl0ZW1zLWNlbnRlciBoLWZ1bGwgcC02XCI+XG4gICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtYm9sZCB0ZXh0LWdyYXktOTAwIG1iLTQgdGV4dC1jZW50ZXJcIj5XeWJpZXJ6IHdhcmlhbnQ8L2gzPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC13cmFwIGdhcC0zIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgICAgICAge2dldEF2YWlsYWJsZVZhcmlhbnRzKCkubWFwKCh2YXJpYW50OiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHZhcmlhdGlvbiA9IHZhcmlhdGlvbnMuZmluZCgodjogeyBcbiAgICAgICAgICAgICAgICAgICAgaWQ6IG51bWJlcjsgXG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXM/OiBBcnJheTx7IHNsdWc6IHN0cmluZzsgb3B0aW9uOiBzdHJpbmcgfT47IFxuICAgICAgICAgICAgICAgICAgfSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAvLyBabmFqZMW6IHdhcmlhY2rEmSBrdMOzcmEgbWEgdGVuIHNhbSBhdHJ5YnV0XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpcnN0QXR0ciA9IHYuYXR0cmlidXRlcz8uZmluZCgoYXR0cjogeyBzbHVnOiBzdHJpbmc7IG9wdGlvbjogc3RyaW5nIH0pID0+IFxuICAgICAgICAgICAgICAgICAgICAgIGF0dHIuc2x1ZyAmJiBhdHRyLm9wdGlvblxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmlyc3RBdHRyPy5vcHRpb24gPT09IHZhcmlhbnQ7XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgY29uc3QgdmFyaWFudFByaWNlID0gdmFyaWF0aW9uPy5wcmljZSB8fCB2YXJpYXRpb24/LnNhbGVfcHJpY2UgfHwgdmFyaWF0aW9uPy5yZWd1bGFyX3ByaWNlO1xuICAgICAgICAgICAgICAgICAgY29uc3QgaXNPblNhbGUgPSB2YXJpYXRpb24/LnNhbGVfcHJpY2UgJiYgcGFyc2VGbG9hdCh2YXJpYXRpb24uc2FsZV9wcmljZSkgPCBwYXJzZUZsb2F0KHZhcmlhdGlvbi5yZWd1bGFyX3ByaWNlIHx8ICcwJyk7XG4gICAgICAgICAgICAgICAgICBjb25zdCByZWd1bGFyUHJpY2UgPSB2YXJpYXRpb24/LnJlZ3VsYXJfcHJpY2U7XG4gICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICBrZXk9e3ZhcmlhbnR9XG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFyaWF0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZUFkZFRvQ2FydFdpdGhWYXJpYXRpb24odmFyaWF0aW9uLCB2YXJpYW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyIHAtMyBib3JkZXIgYm9yZGVyLWdyYXktMjAwIHJvdW5kZWQteGwgaG92ZXI6Ym9yZGVyLWdyYXktOTAwIGhvdmVyOnNoYWRvdy1tZCB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0yMDAgYmctd2hpdGVcIlxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktOTAwIG1iLTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHt2YXJpYW50fVxuICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgZm9udC1ib2xkIHRleHQtZ3JheS05MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHt2YXJpYW50UHJpY2UgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtpc09uU2FsZSA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtcmVkLTYwMFwiPntmb3JtYXRQcmljZShwYXJzZUZsb2F0KHZhcmlhbnRQcmljZSkpfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3JlZ3VsYXJQcmljZSAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTQwMCBsaW5lLXRocm91Z2ggbWwtMVwiPntmb3JtYXRQcmljZShwYXJzZUZsb2F0KHJlZ3VsYXJQcmljZSkpfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj57Zm9ybWF0UHJpY2UocGFyc2VGbG9hdCh2YXJpYW50UHJpY2UpKX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG4gICAgICAgIFxuICAgICAgICB7LyogUXVpY2sgVmlldyBNb2RhbCAqL31cbiAgICAgICAgPFF1aWNrVmlld01vZGFsXG4gICAgICAgICAgaXNPcGVuPXtpc1F1aWNrVmlld09wZW59XG4gICAgICAgICAgb25DbG9zZT17KCkgPT4gc2V0SXNRdWlja1ZpZXdPcGVuKGZhbHNlKX1cbiAgICAgICAgICBwcm9kdWN0PXtwcm9kdWN0fVxuICAgICAgICAvPlxuICAgICAgPC9DYXJkPlxuICAgICk7XG4gIH1cblxuICAvLyBEZWZhdWx0IHZhcmlhbnQgLSBtYXRjaGluZyB0aGUgc2NyZWVuc2hvdCBkZXNpZ25cbiAgcmV0dXJuIChcbiAgICA8Q2FyZCBcbiAgICAgIGNsYXNzTmFtZT1cImdyb3VwIGZsZXggZmxleC1jb2wgaC1mdWxsIGhvdmVyOnNoYWRvdy1sZyB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0zMDAgYm9yZGVyLWdyYXktMjAwIHJvdW5kZWQtMnhsIHNtOnJvdW5kZWQtM3hsIG92ZXJmbG93LWhpZGRlbiBwLTAgcmVsYXRpdmVcIlxuICAgICAgb25Nb3VzZUVudGVyPXsoKSA9PiB7XG4gICAgICAgIHNldElzSG92ZXJlZCh0cnVlKTtcbiAgICAgICAgLy8gTG9hZCB2YXJpYXRpb25zIG9uIGhvdmVyIGZvciB2YXJpYWJsZSBwcm9kdWN0c1xuICAgICAgICBpZiAocHJvZHVjdC50eXBlID09PSAndmFyaWFibGUnICYmICF2YXJpYXRpb25zTG9hZGVkKSB7XG4gICAgICAgICAgaGFuZGxlU2hvd1ZhcmlhbnRzKCk7XG4gICAgICAgIH1cbiAgICAgIH19XG4gICAgICBvbk1vdXNlTGVhdmU9eygpID0+IHtcbiAgICAgICAgc2V0SXNIb3ZlcmVkKGZhbHNlKTtcbiAgICAgIH19XG4gICAgPlxuICAgICAgPExpbmsgXG4gICAgICAgIGhyZWY9e2AvcHJvZHVrdC8ke3Byb2R1Y3Quc2x1Z31gfSBcbiAgICAgICAgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBmbGV4LWdyb3dcIlxuICAgICAgICBvbkNsaWNrPXsoZSkgPT4ge1xuICAgICAgICAgIC8vIFByZXZlbnQgbmF2aWdhdGlvbiBpZiBjbGlja2luZyBvbiBhY3Rpb24gYnV0dG9uc1xuICAgICAgICAgIGlmICgoZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQpLmNsb3Nlc3QoJ2J1dHRvbicpKSB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9fVxuICAgICAgPlxuICAgICAgICA8Q2FyZEhlYWRlciBjbGFzc05hbWU9XCJwLTAgcmVsYXRpdmVcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlIGFzcGVjdC1zcXVhcmUgb3ZlcmZsb3ctaGlkZGVuXCI+XG4gICAgICAgICAgICA8SW1hZ2VcbiAgICAgICAgICAgICAgc3JjPXtpbWFnZVVybH1cbiAgICAgICAgICAgICAgYWx0PXtwcm9kdWN0Lm5hbWV9XG4gICAgICAgICAgICAgIHdpZHRoPXszMDB9XG4gICAgICAgICAgICAgIGhlaWdodD17MzAwfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgaC1mdWxsIG9iamVjdC1jb3ZlciBncm91cC1ob3ZlcjpzY2FsZS0xMDUgdHJhbnNpdGlvbi10cmFuc2Zvcm0gZHVyYXRpb24tMzAwXCJcbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHsvKiBCYWRnZSAtIHRvcCBsZWZ0ICovfVxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSB0b3AtMiBsZWZ0LTJcIj5cbiAgICAgICAgICAgICAge3RhYlR5cGUgPT09ICdwcm9tb2NqZScgfHwgaXNPblNhbGUgPyAoXG4gICAgICAgICAgICAgICAgPEJhZGdlIGNsYXNzTmFtZT1cImJnLXJlZC0xMDAgdGV4dC1yZWQtODAwIHRleHQteHMgcHgtMyBweS0xIHJvdW5kZWQtZnVsbCBib3JkZXItMFwiPlxuICAgICAgICAgICAgICAgICAgUHJvbW9jamFcbiAgICAgICAgICAgICAgICA8L0JhZGdlPlxuICAgICAgICAgICAgICApIDogdGFiVHlwZSA9PT0gJ25vd29zY2knID8gKFxuICAgICAgICAgICAgICAgIDxCYWRnZSBjbGFzc05hbWU9XCJiZy1ibHVlLTEwMCB0ZXh0LWJsdWUtODAwIHRleHQteHMgcHgtMyBweS0xIHJvdW5kZWQtZnVsbCBib3JkZXItMFwiPlxuICAgICAgICAgICAgICAgICAgTm93b8WbxIdcbiAgICAgICAgICAgICAgICA8L0JhZGdlPlxuICAgICAgICAgICAgICApIDogdGFiVHlwZSA9PT0gJ3BvbGVjYW5lJyB8fCBwcm9kdWN0LmZlYXR1cmVkID8gKFxuICAgICAgICAgICAgICAgIDxCYWRnZSBjbGFzc05hbWU9XCJiZy1ncmVlbi0xMDAgdGV4dC1ncmVlbi04MDAgdGV4dC14cyBweC0zIHB5LTEgcm91bmRlZC1mdWxsIGJvcmRlci0wXCI+XG4gICAgICAgICAgICAgICAgICBQb2xlY2FueVxuICAgICAgICAgICAgICAgIDwvQmFkZ2U+XG4gICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgPEJhZGdlIGNsYXNzTmFtZT1cImJnLWJsdWUtMTAwIHRleHQtYmx1ZS04MDAgdGV4dC14cyBweC0zIHB5LTEgcm91bmRlZC1mdWxsIGJvcmRlci0wXCI+XG4gICAgICAgICAgICAgICAgICBOb3dvxZvEh1xuICAgICAgICAgICAgICAgIDwvQmFkZ2U+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgey8qIEljb25zIC0gdG9wIHJpZ2h0ICovfVxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSB0b3AtMiByaWdodC0yIGZsZXggZ2FwLTJcIj5cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgaGFuZGxlUXVpY2tWaWV3KCk7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTggaC04IGJnLXdoaXRlLzgwIGhvdmVyOmJnLXdoaXRlIGhvdmVyOnNoYWRvdy1tZCByb3VuZGVkLWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMTUwXCJcbiAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPVwiU3p5YmtpIHBvZGdsxIVkXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxFeWUgY2xhc3NOYW1lPVwidy00IGgtNCB0ZXh0LWdyYXktNzAwXCIgLz5cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgIGhhbmRsZVRvZ2dsZUZhdm9yaXRlKCk7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTggaC04IGJnLXdoaXRlLzgwIGhvdmVyOmJnLXdoaXRlIGhvdmVyOnNoYWRvdy1tZCByb3VuZGVkLWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMTUwXCJcbiAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPXtpc0NsaWVudCAmJiBpc0Zhdm9yaXRlKHByb2R1Y3QuaWQpID8gXCJVc3XFhCB6IHVsdWJpb255Y2hcIiA6IFwiRG9kYWogZG8gdWx1YmlvbnljaFwifVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPEhlYXJ0IGNsYXNzTmFtZT17YHctNCBoLTQgJHtpc0NsaWVudCAmJiBpc0Zhdm9yaXRlKHByb2R1Y3QuaWQpID8gJ2ZpbGwtY3VycmVudCB0ZXh0LXJlZC01MDAnIDogJ3RleHQtZ3JheS03MDAnfWB9IC8+XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICB7LyogV2lzaGxpc3QgaWNvbiByZW1vdmVkICovfVxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9DYXJkSGVhZGVyPlxuICAgICAgICBcbiAgICAgICAgPENhcmRDb250ZW50IGNsYXNzTmFtZT1cInB4LTMgc206cHgtNCBweS0yIGZsZXgtZ3Jvd1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyBzbTp0ZXh0LXNtIHRleHQtZ3JheS01MDAgbWItMiBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAge2dldE1haW5DYXRlZ29yeSgpIHx8ICdCZXoga2F0ZWdvcmlpJ31cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC1mb3JlZ3JvdW5kIHRleHQtYmFzZSBzbTp0ZXh0LWxnIG1iLTIgbGluZS1jbGFtcC0yXCI+XG4gICAgICAgICAgICB7cHJvZHVjdC5uYW1lfVxuICAgICAgICAgIDwvcD5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtbGcgc206dGV4dC14bCBmb250LWJvbGQgdGV4dC1mb3JlZ3JvdW5kIG1iLTJcIj5cbiAgICAgICAgICAgIHtwcmljZX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICBcbiAgICAgICAgICB7LyogQVVUTzogUHJvZHVjdCBBdHRyaWJ1dGVzIC0gQWxsIGF0dHJpYnV0ZXMgaW4gZ3JheSBiYWRnZXMgKi99XG4gICAgICAgICAge3Byb2R1Y3QuYXR0cmlidXRlcyAmJiBwcm9kdWN0LmF0dHJpYnV0ZXMubGVuZ3RoID4gMCAmJiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC13cmFwIGdhcC0xXCI+XG4gICAgICAgICAgICAgIHtwcm9kdWN0LmF0dHJpYnV0ZXMubWFwKChhdHRyOiB7IG5hbWU6IHN0cmluZzsgb3B0aW9uczogc3RyaW5nW10gfSwgYXR0ckluZGV4OiBudW1iZXIpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWF0dHIub3B0aW9ucyB8fCAhQXJyYXkuaXNBcnJheShhdHRyLm9wdGlvbnMpKSByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICByZXR1cm4gYXR0ci5vcHRpb25zLnNsaWNlKDAsIDIpLm1hcCgob3B0aW9uOiBzdHJpbmcsIG9wdGlvbkluZGV4OiBudW1iZXIpID0+IHtcbiAgICAgICAgICAgICAgICAgIGlmICghb3B0aW9uKSByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICAgICAgICBrZXk9e2Ake2F0dHJJbmRleH0tJHtvcHRpb25JbmRleH1gfVxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJnLWdyYXktMTAwIHRleHQtZ3JheS02MDAgdGV4dC14cyBmb250LW1lZGl1bSBweC0yIHB5LTAuNSByb3VuZGVkLWZ1bGxcIlxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAge29wdGlvbn1cbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICA8L0NhcmRDb250ZW50PlxuICAgICAgPC9MaW5rPlxuICAgICAgXG4gICAgICB7LyogSG92ZXIgb3ZlcmxheSB3aXRoIHZhcmlhbnRzIGZvciB2YXJpYWJsZSBwcm9kdWN0cyAqL31cbiAgICAgIHtwcm9kdWN0LnR5cGUgPT09ICd2YXJpYWJsZScgJiYgdmFyaWF0aW9ucy5sZW5ndGggPiAwICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e2BhYnNvbHV0ZSBpbnNldC0wIGJnLXdoaXRlLzUwIGJhY2tkcm9wLWJsdXItc20gdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMzAwICR7XG4gICAgICAgICAgaXNIb3ZlcmVkID8gJ29wYWNpdHktMTAwJyA6ICdvcGFjaXR5LTAgcG9pbnRlci1ldmVudHMtbm9uZSdcbiAgICAgICAgfWB9PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBqdXN0aWZ5LWNlbnRlciBpdGVtcy1jZW50ZXIgaC1mdWxsIHAtNlwiPlxuICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1ib2xkIHRleHQtZ3JheS05MDAgbWItNCB0ZXh0LWNlbnRlclwiPld5Ymllcnogd2FyaWFudDwvaDM+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC13cmFwIGdhcC0zIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgICAgIHtnZXRBdmFpbGFibGVWYXJpYW50cygpLm1hcCgodmFyaWFudDogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFyaWF0aW9uID0gdmFyaWF0aW9ucy5maW5kKCh2OiB7IFxuICAgICAgICAgICAgICAgICAgaWQ6IG51bWJlcjsgXG4gICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzPzogQXJyYXk8eyBzbHVnOiBzdHJpbmc7IG9wdGlvbjogc3RyaW5nIH0+OyBcbiAgICAgICAgICAgICAgICB9KSA9PiB7XG4gICAgICAgICAgICAgICAgICAvLyBabmFqZMW6IHdhcmlhY2rEmSBrdMOzcmEgbWEgdGVuIHNhbSBhdHJ5YnV0XG4gICAgICAgICAgICAgICAgICBjb25zdCBmaXJzdEF0dHIgPSB2LmF0dHJpYnV0ZXM/LmZpbmQoKGF0dHI6IHsgc2x1Zzogc3RyaW5nOyBvcHRpb246IHN0cmluZyB9KSA9PiBcbiAgICAgICAgICAgICAgICAgICAgYXR0ci5zbHVnICYmIGF0dHIub3B0aW9uXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGZpcnN0QXR0cj8ub3B0aW9uID09PSB2YXJpYW50O1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGNvbnN0IHZhcmlhbnRQcmljZSA9IHZhcmlhdGlvbj8ucHJpY2UgfHwgdmFyaWF0aW9uPy5zYWxlX3ByaWNlIHx8IHZhcmlhdGlvbj8ucmVndWxhcl9wcmljZTtcbiAgICAgICAgICAgICAgICBjb25zdCBpc09uU2FsZSA9IHZhcmlhdGlvbj8uc2FsZV9wcmljZSAmJiBwYXJzZUZsb2F0KHZhcmlhdGlvbi5zYWxlX3ByaWNlKSA8IHBhcnNlRmxvYXQodmFyaWF0aW9uLnJlZ3VsYXJfcHJpY2UgfHwgJzAnKTtcbiAgICAgICAgICAgICAgICBjb25zdCByZWd1bGFyUHJpY2UgPSB2YXJpYXRpb24/LnJlZ3VsYXJfcHJpY2U7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAga2V5PXt2YXJpYW50fVxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgIGlmICh2YXJpYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZUFkZFRvQ2FydFdpdGhWYXJpYXRpb24odmFyaWF0aW9uLCB2YXJpYW50KTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyIHAtMyBib3JkZXIgYm9yZGVyLWdyYXktMjAwIHJvdW5kZWQteGwgaG92ZXI6Ym9yZGVyLWdyYXktOTAwIGhvdmVyOnNoYWRvdy1tZCB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0yMDAgYmctd2hpdGVcIlxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS05MDAgbWItMVwiPlxuICAgICAgICAgICAgICAgICAgICAgIHt2YXJpYW50fVxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyBmb250LWJvbGQgdGV4dC1ncmF5LTkwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgIHt2YXJpYW50UHJpY2UgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2lzT25TYWxlID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXJlZC02MDBcIj57Zm9ybWF0UHJpY2UocGFyc2VGbG9hdCh2YXJpYW50UHJpY2UpKX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cmVndWxhclByaWNlICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTQwMCBsaW5lLXRocm91Z2ggbWwtMVwiPntmb3JtYXRQcmljZShwYXJzZUZsb2F0KHJlZ3VsYXJQcmljZSkpfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+e2Zvcm1hdFByaWNlKHBhcnNlRmxvYXQodmFyaWFudFByaWNlKSl9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG4gICAgICBcbiAgICAgIHtzaG93QWN0aW9ucyAmJiAoXG4gICAgICAgIDxDYXJkRm9vdGVyIGNsYXNzTmFtZT1cInB4LTMgc206cHgtNCBwYi00IG10LWF1dG9cIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCByZWxhdGl2ZVwiIHJlZj17ZHJvcGRvd25SZWZ9PlxuICAgICAgICAgICAgPEJ1dHRvbiBcbiAgICAgICAgICAgICAgb25DbGljaz17KGUpID0+IHtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICBpZiAocHJvZHVjdC50eXBlID09PSAndmFyaWFibGUnKSB7XG4gICAgICAgICAgICAgICAgICAvLyBGb3IgdmFyaWFibGUgcHJvZHVjdHMsIGp1c3Qgc2hvdyBob3ZlciBvdmVybGF5IChubyBkcm9wZG93bilcbiAgICAgICAgICAgICAgICAgIGhhbmRsZVNob3dWYXJpYW50cygpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBoYW5kbGVBZGRUb0NhcnQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIG9uTW91c2VFbnRlcj17KCkgPT4ge1xuICAgICAgICAgICAgICAgIHNldElzQnV0dG9uSG92ZXJlZCh0cnVlKTtcbiAgICAgICAgICAgICAgICBpZiAocHJvZHVjdC50eXBlID09PSAndmFyaWFibGUnICYmICF2YXJpYXRpb25zTG9hZGVkKSB7XG4gICAgICAgICAgICAgICAgICBoYW5kbGVTaG93VmFyaWFudHMoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIG9uTW91c2VMZWF2ZT17KCkgPT4ge1xuICAgICAgICAgICAgICAgIHNldElzQnV0dG9uSG92ZXJlZChmYWxzZSk7XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIGRpc2FibGVkPXtpc0xvYWRpbmcgfHwgcHJvZHVjdC5zdG9ja19zdGF0dXMgPT09ICdvdXRvZnN0b2NrJ31cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGJnLXdoaXRlIGJvcmRlciBib3JkZXItYmxhY2sgdGV4dC1ncmF5LTkwMCBob3ZlcjpiZy1ncmF5LTUwIHJvdW5kZWQtbGcgcHktMyBmb250LW1lZGl1bSB0ZXh0LXNtXCJcbiAgICAgICAgICAgICAgc2l6ZT1cImxnXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPFNob3BwaW5nQ2FydCBjbGFzc05hbWU9XCJ3LTQgaC00IG1yLTJcIiAvPlxuICAgICAgICAgICAgICB7aXNMb2FkaW5nID8gJ0RvZGF3YW5pZS4uLicgOiAocHJvZHVjdC50eXBlID09PSAndmFyaWFibGUnID8gJ1d5Ymllcnogd2FyaWFudCcgOiAnRG9kYWogZG8ga29zenlrYScpfVxuICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHsvKiBPbGQgZHJvcGRvd24gcmVtb3ZlZCAtIHVzaW5nIGhvdmVyIG92ZXJsYXkgaW5zdGVhZCAqL31cbiAgICAgICAgICAgIHtmYWxzZSAmJiBwcm9kdWN0LnR5cGUgPT09ICd2YXJpYWJsZScgJiYgaXNEcm9wZG93bk9wZW4gJiYgKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGJvdHRvbS1mdWxsIGxlZnQtMCByaWdodC0wIG1iLTIgYmctd2hpdGUgYm9yZGVyIGJvcmRlci1ncmF5LTIwMCByb3VuZGVkLTJ4bCBzaGFkb3ctbGcgcC00IHotMTBcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktOTAwIG1iLTMgdGV4dC1jZW50ZXJcIj5XeWJpZXJ6IHdhcmlhbnQ8L2Rpdj5cbiAgICAgICAgICAgICAgICB7IXZhcmlhdGlvbnNMb2FkZWQgPyAoXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHB5LTRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhbmltYXRlLXNwaW4gcm91bmRlZC1mdWxsIGgtNiB3LTYgYm9yZGVyLWItMiBib3JkZXItZ3JheS05MDAgbXgtYXV0b1wiPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTUwMCBtdC0yXCI+xYFhZG93YW5pZSB3YXJpYW50w7N3Li4uPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApIDogZ2V0QXZhaWxhYmxlVmFyaWFudHMoKS5sZW5ndGggPT09IDAgPyAoXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHB5LTQgdGV4dC1ncmF5LTUwMFwiPlxuICAgICAgICAgICAgICAgICAgICBCcmFrIGRvc3TEmXBueWNoIHdhcmlhbnTDs3dcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC13cmFwIGdhcC0yIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgIHtnZXRBdmFpbGFibGVWYXJpYW50cygpLm1hcCgodmFyaWFudDogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhcmlhdGlvbiA9IHZhcmlhdGlvbnMuZmluZCgodjogeyBcbiAgICAgICAgICAgICAgICAgICAgICBpZDogbnVtYmVyOyBcbiAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzPzogQXJyYXk8eyBzbHVnOiBzdHJpbmc7IG9wdGlvbjogc3RyaW5nIH0+OyBcbiAgICAgICAgICAgICAgICAgICAgfSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIC8vIFpuYWpkxbogd2FyaWFjasSZIGt0w7NyYSBtYSB0ZW4gc2FtIGF0cnlidXRcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmaXJzdEF0dHIgPSB2LmF0dHJpYnV0ZXM/LmZpbmQoKGF0dHI6IHsgc2x1Zzogc3RyaW5nOyBvcHRpb246IHN0cmluZyB9KSA9PiBcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0dHIuc2x1ZyAmJiBhdHRyLm9wdGlvblxuICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZpcnN0QXR0cj8ub3B0aW9uID09PSB2YXJpYW50O1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAga2V5PXt2YXJpYW50fVxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+bkiBWYXJpYW50IGNsaWNrZWQ6JywgdmFyaWFudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5uSIEZvdW5kIHZhcmlhdGlvbjonLCB2YXJpYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRTZWxlY3RlZFZhcmlhbnQodmFyaWFudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldElzRHJvcGRvd25PcGVuKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhcmlhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5uSIENhbGxpbmcgaGFuZGxlQWRkVG9DYXJ0V2l0aFZhcmlhdGlvbiB3aXRoOicsIHZhcmlhdGlvbiwgdmFyaWFudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlQWRkVG9DYXJ0V2l0aFZhcmlhdGlvbih2YXJpYXRpb24sIHZhcmlhbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5uSIE5vIHZhcmlhdGlvbiBmb3VuZCBmb3IgdmFyaWFudDonLCB2YXJpYW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YHB4LTQgcHktMiB0ZXh0LXNtIGZvbnQtbWVkaXVtIHJvdW5kZWQtZnVsbCBib3JkZXItMiB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0yMDAgdHJhbnNmb3JtIGhvdmVyOnNjYWxlLTEwNSAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZFZhcmlhbnQgPT09IHZhcmlhbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICdiZy1ibGFjayB0ZXh0LXdoaXRlIGJvcmRlci1ibGFjayBzaGFkb3ctbGcnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAnYmctdHJhbnNwYXJlbnQgdGV4dC1ncmF5LTcwMCBib3JkZXItZ3JheS0zMDAgaG92ZXI6Ym9yZGVyLWJsYWNrIGhvdmVyOmJnLWdyYXktNTAnXG4gICAgICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9udC1ib2xkXCI+e3ZhcmlhbnR9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHt2YXJpYXRpb24gJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyBvcGFjaXR5LTcwIG10LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt3b29Db21tZXJjZVNlcnZpY2UuZm9ybWF0UHJpY2UodmFyaWF0aW9uLnByaWNlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvQ2FyZEZvb3Rlcj5cbiAgICAgICl9XG4gICAgICBcbiAgICAgIHsvKiBRdWljayBWaWV3IE1vZGFsICovfVxuICAgICAgPFF1aWNrVmlld01vZGFsXG4gICAgICAgIGlzT3Blbj17aXNRdWlja1ZpZXdPcGVufVxuICAgICAgICBvbkNsb3NlPXsoKSA9PiBzZXRJc1F1aWNrVmlld09wZW4oZmFsc2UpfVxuICAgICAgICBwcm9kdWN0PXtwcm9kdWN0fVxuICAgICAgLz5cbiAgICA8L0NhcmQ+XG4gICk7XG59XG4iXSwibmFtZXMiOlsidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJ3b29Db21tZXJjZVNlcnZpY2UiLCJDYXJkIiwiQ2FyZENvbnRlbnQiLCJDYXJkRm9vdGVyIiwiQ2FyZEhlYWRlciIsIkJ1dHRvbiIsIkJhZGdlIiwiSGVhcnQiLCJTaG9wcGluZ0NhcnQiLCJFeWUiLCJTdGFyIiwiTGluayIsIkltYWdlIiwidXNlQ2FydFN0b3JlIiwidXNlRmF2b3JpdGVzU3RvcmUiLCJRdWlja1ZpZXdNb2RhbCIsImZvcm1hdFByaWNlIiwiS2luZ1Byb2R1Y3RDYXJkIiwicHJvZHVjdCIsInNob3dBY3Rpb25zIiwidmFyaWFudCIsInRhYlR5cGUiLCJpc0xvYWRpbmciLCJzZXRJc0xvYWRpbmciLCJpc1F1aWNrVmlld09wZW4iLCJzZXRJc1F1aWNrVmlld09wZW4iLCJzaG93VmFyaWFudHMiLCJzZXRTaG93VmFyaWFudHMiLCJzZWxlY3RlZFZhcmlhbnQiLCJzZXRTZWxlY3RlZFZhcmlhbnQiLCJ2YXJpYXRpb25zTG9hZGVkIiwic2V0VmFyaWF0aW9uc0xvYWRlZCIsInZhcmlhdGlvbnMiLCJzZXRWYXJpYXRpb25zIiwiaXNIb3ZlcmVkIiwic2V0SXNIb3ZlcmVkIiwiaXNCdXR0b25Ib3ZlcmVkIiwic2V0SXNCdXR0b25Ib3ZlcmVkIiwiaXNEcm9wZG93bk9wZW4iLCJzZXRJc0Ryb3Bkb3duT3BlbiIsImlzQ2xpZW50Iiwic2V0SXNDbGllbnQiLCJkcm9wZG93blJlZiIsImhhbmRsZUNsaWNrT3V0c2lkZSIsImV2ZW50IiwiY3VycmVudCIsImNvbnRhaW5zIiwidGFyZ2V0IiwiZG9jdW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImNvbnNvbGUiLCJsb2ciLCJsZW5ndGgiLCJBcnJheSIsImlzQXJyYXkiLCJhZGRJdGVtIiwib3BlbkNhcnQiLCJ0b2dnbGVGYXZvcml0ZSIsImlzRmF2b3JpdGUiLCJjYXJ0U3RvcmUiLCJlcnJvciIsIndhcm4iLCJmYXZvcml0ZXNTdG9yZSIsImhhbmRsZUFkZFRvQ2FydCIsImNhcnRJdGVtIiwidHlwZSIsImdldFByb2R1Y3RWYXJpYXRpb25zIiwiaWQiLCJzZWxlY3RlZFZhcmlhdGlvbiIsImZpbmQiLCJ2YXJpYXRpb24iLCJhdHRyaWJ1dGVzIiwic29tZSIsImF0dHIiLCJzbHVnIiwib3B0aW9uIiwibmFtZSIsInByaWNlIiwicGFyc2VGbG9hdCIsInJlZ3VsYXJfcHJpY2UiLCJzYWxlX3ByaWNlIiwiaW1hZ2UiLCJpbWFnZVVybCIsInBlcm1hbGluayIsImhhbmRsZVRvZ2dsZUZhdm9yaXRlIiwiaGFuZGxlUXVpY2tWaWV3IiwiaGFuZGxlVmFyaWFudFNlbGVjdCIsImhhbmRsZVNob3dWYXJpYW50cyIsInJlc3BvbnNlIiwic2V0VGltZW91dCIsImhhbmRsZUFkZFRvQ2FydFdpdGhWYXJpYW50IiwiaGFuZGxlQWRkVG9DYXJ0V2l0aFZhcmlhdGlvbiIsInZhcmlhbnROYW1lIiwiZ2V0QXZhaWxhYmxlVmFyaWFudHMiLCJ2YXJpYW50cyIsIm1hcCIsImZpcnN0QXR0ciIsImZpcnN0QXR0cldpdGhPcHRpb25zIiwib3B0aW9ucyIsIm9wdHMiLCJvIiwiU3RyaW5nIiwiZmlsdGVyIiwiQm9vbGVhbiIsImdldEF0dHJpYnV0ZU5hbWUiLCJmaXJzdFZhcmlhdGlvbiIsImF0dHJOYW1lcyIsInJlcGxhY2UiLCJ0b1VwcGVyQ2FzZSIsImlzT25TYWxlIiwiaXNQcm9kdWN0T25TYWxlIiwiZGlzY291bnQiLCJnZXRQcm9kdWN0RGlzY291bnQiLCJpbWFnZXMiLCJnZXRQcm9kdWN0SW1hZ2VVcmwiLCJpbmNsdWRlcyIsInJlZ3VsYXJQcmljZSIsImdldEJyYW5kIiwiYnJhbmRBdHRyIiwidG9Mb3dlckNhc2UiLCJmaXJzdCIsImdldE1haW5DYXRlZ29yeSIsImNhdHMiLCJjYXRlZ29yaWVzIiwibWFpbkNhdGVnb3JpZXMiLCJtYWluIiwiYyIsImNhdGVnb3J5TmFtZSIsInJlbmRlclByaWNlIiwiZGl2IiwiY2xhc3NOYW1lIiwic3BhbiIsInJlbmRlclJhdGluZyIsInJhdGluZyIsImF2ZXJhZ2VfcmF0aW5nIiwiaXNOYU4iLCJ0b0ZpeGVkIiwicmF0aW5nX2NvdW50IiwicmVuZGVyU3RvY2tTdGF0dXMiLCJzdG9ja19zdGF0dXMiLCJocmVmIiwic3JjIiwiYWx0Iiwid2lkdGgiLCJoZWlnaHQiLCJzaXplcyIsImxvYWRpbmciLCJoMyIsImZlYXR1cmVkIiwicCIsInNob3J0X2Rlc2NyaXB0aW9uIiwiYnV0dG9uIiwib25DbGljayIsImRpc2FibGVkIiwic2l6ZSIsImFyaWEtbGFiZWwiLCJpc09wZW4iLCJvbkNsb3NlIiwib25Nb3VzZUVudGVyIiwib25Nb3VzZUxlYXZlIiwiZSIsInByZXZlbnREZWZhdWx0Iiwic3RvcFByb3BhZ2F0aW9uIiwidiIsInZhcmlhbnRQcmljZSIsImNsb3Nlc3QiLCJhdHRySW5kZXgiLCJzbGljZSIsIm9wdGlvbkluZGV4IiwicmVmIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/king-product-card.tsx\n"));

/***/ })

});