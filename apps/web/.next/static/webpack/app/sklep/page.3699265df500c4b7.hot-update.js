"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/sklep/page",{

/***/ "(app-pages-browser)/./src/components/king-product-card.tsx":
/*!**********************************************!*\
  !*** ./src/components/king-product-card.tsx ***!
  \**********************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ KingProductCard)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/../../node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/../../node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _services_woocommerce_optimized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/services/woocommerce-optimized */ \"(app-pages-browser)/./src/services/woocommerce-optimized.ts\");\n/* harmony import */ var _components_ui_card__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/components/ui/card */ \"(app-pages-browser)/./src/components/ui/card.tsx\");\n/* harmony import */ var _components_ui_button__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/ui/button */ \"(app-pages-browser)/./src/components/ui/button.tsx\");\n/* harmony import */ var _components_ui_badge__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/components/ui/badge */ \"(app-pages-browser)/./src/components/ui/badge.tsx\");\n/* harmony import */ var _barrel_optimize_names_Eye_Heart_ShoppingCart_Star_lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! __barrel_optimize__?names=Eye,Heart,ShoppingCart,Star!=!lucide-react */ \"(app-pages-browser)/../../node_modules/lucide-react/dist/esm/icons/star.js\");\n/* harmony import */ var _barrel_optimize_names_Eye_Heart_ShoppingCart_Star_lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! __barrel_optimize__?names=Eye,Heart,ShoppingCart,Star!=!lucide-react */ \"(app-pages-browser)/../../node_modules/lucide-react/dist/esm/icons/shopping-cart.js\");\n/* harmony import */ var _barrel_optimize_names_Eye_Heart_ShoppingCart_Star_lucide_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! __barrel_optimize__?names=Eye,Heart,ShoppingCart,Star!=!lucide-react */ \"(app-pages-browser)/../../node_modules/lucide-react/dist/esm/icons/eye.js\");\n/* harmony import */ var _barrel_optimize_names_Eye_Heart_ShoppingCart_Star_lucide_react__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! __barrel_optimize__?names=Eye,Heart,ShoppingCart,Star!=!lucide-react */ \"(app-pages-browser)/../../node_modules/lucide-react/dist/esm/icons/heart.js\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! next/link */ \"(app-pages-browser)/../../node_modules/next/dist/client/app-dir/link.js\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(next_link__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var next_image__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! next/image */ \"(app-pages-browser)/../../node_modules/next/dist/api/image.js\");\n/* harmony import */ var _stores_cart_store__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/stores/cart-store */ \"(app-pages-browser)/./src/stores/cart-store.ts\");\n/* harmony import */ var _stores_favorites_store__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/stores/favorites-store */ \"(app-pages-browser)/./src/stores/favorites-store.ts\");\n/* harmony import */ var _components_ui_quick_view_modal__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @/components/ui/quick-view-modal */ \"(app-pages-browser)/./src/components/ui/quick-view-modal.tsx\");\n/* harmony import */ var _utils_format_price__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @/utils/format-price */ \"(app-pages-browser)/./src/utils/format-price.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n// Wishlist tymczasowo wyÅ‚Ä…czony na kartach\n// import { useWishlist } from '@/hooks/use-wishlist';\n\n\nfunction KingProductCard({ product, showActions = true, variant = 'default', tabType }) {\n    _s();\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isQuickViewOpen, setIsQuickViewOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showVariants, setShowVariants] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [selectedVariant, setSelectedVariant] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');\n    const [variationsLoaded, setVariationsLoaded] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [variations, setVariations] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [isHovered, setIsHovered] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isButtonHovered, setIsButtonHovered] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isDropdownOpen, setIsDropdownOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isClient, setIsClient] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const dropdownRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    // Handle hydration\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"KingProductCard.useEffect\": ()=>{\n            setIsClient(true);\n        }\n    }[\"KingProductCard.useEffect\"], []);\n    // Close dropdown when clicking outside\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"KingProductCard.useEffect\": ()=>{\n            const handleClickOutside = {\n                \"KingProductCard.useEffect.handleClickOutside\": (event)=>{\n                    if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {\n                        setIsDropdownOpen(false);\n                    }\n                }\n            }[\"KingProductCard.useEffect.handleClickOutside\"];\n            if (isDropdownOpen) {\n                document.addEventListener('mousedown', handleClickOutside);\n            }\n            return ({\n                \"KingProductCard.useEffect\": ()=>{\n                    document.removeEventListener('mousedown', handleClickOutside);\n                }\n            })[\"KingProductCard.useEffect\"];\n        }\n    }[\"KingProductCard.useEffect\"], [\n        isDropdownOpen\n    ]);\n    // Debug variations state changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"KingProductCard.useEffect\": ()=>{\n            console.log('ðŸ”„ variations state changed:', variations);\n            console.log('ðŸ”„ variations.length:', variations.length);\n            console.log('ðŸ”„ variations type:', typeof variations);\n            console.log('ðŸ”„ variations is array:', Array.isArray(variations));\n        }\n    }[\"KingProductCard.useEffect\"], [\n        variations\n    ]);\n    // Safely access stores with error handling\n    let addItem, openCart, toggleFavorite, isFavorite;\n    try {\n        const cartStore = (0,_stores_cart_store__WEBPACK_IMPORTED_MODULE_8__.useCartStore)();\n        addItem = cartStore.addItem;\n        openCart = cartStore.openCart;\n    } catch (error) {\n        console.warn('Cart store not available:', error);\n        addItem = ()=>{};\n        openCart = ()=>{};\n    }\n    try {\n        const favoritesStore = (0,_stores_favorites_store__WEBPACK_IMPORTED_MODULE_9__.useFavoritesStore)();\n        toggleFavorite = favoritesStore.toggleFavorite;\n        isFavorite = favoritesStore.isFavorite;\n    } catch (error) {\n        console.warn('Favorites store not available:', error);\n        toggleFavorite = ()=>{};\n        isFavorite = ()=>false;\n    }\n    // Wishlist via safe hook (SSR-guarded)\n    // Wishlist UI wyÅ‚Ä…czony na kartach â€“ zostaje tylko Ulubione\n    const handleAddToCart = async ()=>{\n        setIsLoading(true);\n        try {\n            let cartItem;\n            if (product.type === 'variable' && selectedVariant) {\n                // For variable products with selected variant, get the specific variation\n                const variations = await _services_woocommerce_optimized__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getProductVariations(product.id);\n                const selectedVariation = variations.variations?.find((variation)=>variation.attributes?.some((attr)=>attr.slug === 'pa_pojemnosc' && attr.option === selectedVariant));\n                if (selectedVariation) {\n                    cartItem = {\n                        id: selectedVariation.id,\n                        name: `${product.name} - ${selectedVariant}`,\n                        price: parseFloat(selectedVariation.price),\n                        regular_price: parseFloat(selectedVariation.regular_price),\n                        sale_price: parseFloat(selectedVariation.sale_price),\n                        image: imageUrl,\n                        permalink: `/produkt/${product.slug}`\n                    };\n                } else {\n                    // Fallback to main product if variation not found\n                    cartItem = {\n                        id: product.id,\n                        name: product.name,\n                        price: parseFloat(product.price),\n                        regular_price: parseFloat(product.regular_price),\n                        sale_price: parseFloat(product.sale_price),\n                        image: imageUrl,\n                        permalink: `/produkt/${product.slug}`\n                    };\n                }\n            } else {\n                // For simple products or variable products without selected variant\n                cartItem = {\n                    id: product.id,\n                    name: product.name,\n                    price: parseFloat(product.price),\n                    regular_price: parseFloat(product.regular_price),\n                    sale_price: parseFloat(product.sale_price),\n                    image: imageUrl,\n                    permalink: `/produkt/${product.slug}`\n                };\n            }\n            console.log('ðŸ›’ Adding to cart from card:', cartItem);\n            addItem(cartItem);\n            openCart();\n        } catch (error) {\n            console.error('BÅ‚Ä…d dodawania do koszyka:', error);\n        } finally{\n            setIsLoading(false);\n        }\n    };\n    const handleToggleFavorite = ()=>{\n        toggleFavorite(product);\n    };\n    const handleQuickView = ()=>{\n        setIsQuickViewOpen(true);\n    };\n    const handleVariantSelect = (variant)=>{\n        setSelectedVariant(variant);\n        setShowVariants(false);\n    };\n    const handleShowVariants = async ()=>{\n        console.log('ðŸ”„ handleShowVariants called for product:', product.id);\n        if (!variationsLoaded) {\n            try {\n                const response = await _services_woocommerce_optimized__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getProductVariations(product.id);\n                console.log('ðŸ”„ Variations response:', response);\n                // API zwraca warianty jako tablicÄ™ bezpoÅ›rednio, nie w obiekcie z wÅ‚aÅ›ciwoÅ›ciÄ… variations\n                const variations = Array.isArray(response) ? response : response.variations || [];\n                console.log('ðŸ”„ Setting variations:', variations);\n                console.log('ðŸ”„ variations type:', typeof variations);\n                console.log('ðŸ”„ variations is array:', Array.isArray(variations));\n                console.log('ðŸ”„ variations length:', variations.length);\n                setVariations([\n                    ...variations\n                ]); // Force new array reference\n                setVariationsLoaded(true);\n                console.log('ðŸ”„ Variations set, variationsLoaded:', true);\n                // Force re-render by updating state\n                setTimeout(()=>{\n                    console.log('ðŸ”„ After timeout - variations:', variations);\n                }, 100);\n            } catch (error) {\n                console.error('BÅ‚Ä…d Å‚adowania wariantÃ³w:', error);\n            }\n        }\n        setShowVariants(true);\n        setIsDropdownOpen(true);\n    };\n    const handleAddToCartWithVariant = async ()=>{\n        if (product.type === 'variable' && !selectedVariant) {\n            handleShowVariants();\n            return;\n        }\n        await handleAddToCart();\n    };\n    const handleAddToCartWithVariation = async (variation, variantName)=>{\n        console.log('ðŸ›’ handleAddToCartWithVariation called with:', variation, variantName);\n        console.log('ðŸ›’ addItem function:', addItem);\n        console.log('ðŸ›’ openCart function:', openCart);\n        setIsLoading(true);\n        try {\n            const cartItem = {\n                id: variation.id,\n                name: `${product.name} - ${variantName}`,\n                price: parseFloat(variation.price),\n                regular_price: parseFloat(variation.regular_price),\n                sale_price: parseFloat(variation.sale_price),\n                image: imageUrl,\n                permalink: `/produkt/${product.slug}`\n            };\n            console.log('ðŸ›’ Adding variation to cart:', cartItem);\n            console.log('ðŸ›’ Calling addItem...');\n            addItem(cartItem);\n            console.log('ðŸ›’ addItem called, now calling openCart...');\n            openCart();\n            console.log('ðŸ›’ openCart called');\n        } catch (error) {\n            console.error('BÅ‚Ä…d dodawania wariantu do koszyka:', error);\n        } finally{\n            setIsLoading(false);\n        }\n    };\n    // Get available variants from loaded variations\n    const getAvailableVariants = ()=>{\n        console.log('ðŸ”„ getAvailableVariants called - variations:', variations);\n        console.log('ðŸ”„ variations.length:', variations.length);\n        console.log('ðŸ”„ variationsLoaded:', variationsLoaded);\n        if (variations.length > 0) {\n            const variants = variations.map((variation)=>{\n                console.log('ðŸ”„ Processing variation:', variation);\n                // ZnajdÅº pierwszy dostÄ™pny atrybut (pojemnoÅ›Ä‡, kolor, rozmiar, etc.)\n                const firstAttr = variation.attributes?.find((attr)=>attr.slug && attr.option);\n                console.log('ðŸ”„ First attr found:', firstAttr);\n                const variantName = firstAttr?.option || variation.name || `Wariant ${variation.id}`;\n                console.log('ðŸ”„ Variant name:', variantName);\n                return variantName;\n            });\n            console.log('ðŸ”„ Mapped variants:', variants);\n            return variants;\n        }\n        console.log('ðŸ”„ No variations, trying product attributes');\n        // Fallback to product attributes - znajdÅº pierwszy atrybut z opcjami\n        if (!product.attributes) {\n            console.log('ðŸ”„ No product attributes');\n            return [];\n        }\n        const firstAttrWithOptions = product.attributes.find((attr)=>attr.options && attr.options.length > 0);\n        if (!firstAttrWithOptions) {\n            console.log('ðŸ”„ No attributes with options');\n            return [];\n        }\n        const opts = firstAttrWithOptions.options || [];\n        console.log('ðŸ”„ Product attribute options:', opts);\n        return opts.map((o)=>{\n            if (typeof o === 'string') return o;\n            if (typeof o === 'object' && o.name) return o.name;\n            if (typeof o === 'object' && o.slug) return o.slug;\n            return String(o);\n        }).filter(Boolean);\n    };\n    // Get attribute name for display\n    const getAttributeName = ()=>{\n        if (variations.length > 0) {\n            const firstVariation = variations[0];\n            const firstAttr = firstVariation.attributes?.find((attr)=>attr.slug && attr.option);\n            if (firstAttr) {\n                // Map common attribute slugs to display names\n                const attrNames = {\n                    'pa_pojemnosc': 'PojemnoÅ›Ä‡',\n                    'pa_kolor': 'Kolor',\n                    'pa_rozmiar': 'Rozmiar',\n                    'pa_material': 'MateriaÅ‚',\n                    'pa_typ': 'Typ'\n                };\n                return attrNames[firstAttr.slug] || firstAttr.slug.replace('pa_', '').replace('_', ' ').toUpperCase();\n            }\n        }\n        // Fallback to product attributes\n        if (product.attributes && product.attributes.length > 0) {\n            const firstAttr = product.attributes.find((attr)=>attr.options && attr.options.length > 0);\n            return firstAttr?.name || 'Wariant';\n        }\n        return 'Wariant';\n    };\n    const isOnSale = _services_woocommerce_optimized__WEBPACK_IMPORTED_MODULE_2__[\"default\"].isProductOnSale(product);\n    const discount = _services_woocommerce_optimized__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getProductDiscount(product);\n    // Handle both full WooProduct and simplified API data\n    const imageUrl = (()=>{\n        // Check if product has images array (full WooProduct format)\n        if (Array.isArray(product.images) && product.images.length > 0) {\n            return _services_woocommerce_optimized__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getProductImageUrl(product, 'medium');\n        }\n        // Check if product has single image property (simplified API format)\n        if (typeof product.image === 'string' && product.image) {\n            const imageUrl = product.image;\n            // Convert to higher quality image by replacing size suffix\n            if (imageUrl.includes('-300x300.')) {\n                return imageUrl.replace('-300x300.', '-600x600.');\n            } else if (imageUrl.includes('-150x150.')) {\n                return imageUrl.replace('-150x150.', '-600x600.');\n            } else if (imageUrl.includes('-100x100.')) {\n                return imageUrl.replace('-100x100.', '-600x600.');\n            }\n            return imageUrl;\n        }\n        return '/images/placeholder-product.jpg';\n    })();\n    const price = _services_woocommerce_optimized__WEBPACK_IMPORTED_MODULE_2__[\"default\"].formatPrice(product.price);\n    const regularPrice = _services_woocommerce_optimized__WEBPACK_IMPORTED_MODULE_2__[\"default\"].formatPrice(product.regular_price);\n    // Helper function to get brand from attributes\n    const getBrand = ()=>{\n        if (!product.attributes) return null;\n        const brandAttr = product.attributes.find((attr)=>attr.name.toLowerCase().includes('marka'));\n        if (!brandAttr) return null;\n        const first = brandAttr.options?.[0];\n        if (!first) return null;\n        return typeof first === 'string' ? first : first?.name || first?.slug || String(first);\n    };\n    // Helper function to get main category (parent: 0)\n    const getMainCategory = ()=>{\n        const cats = product.categories;\n        if (!cats || cats.length === 0) return null;\n        // Main categories (parent: 0) are: Mezoterapia, Peelingi, Stymulatory, WypeÅ‚niacze\n        const mainCategories = [\n            'Mezoterapia',\n            'Peelingi',\n            'Stymulatory',\n            'WypeÅ‚niacze'\n        ];\n        // Find the first main category in the product's categories\n        const main = cats.find((c)=>{\n            const categoryName = typeof c === 'string' ? c : c?.name;\n            return categoryName && mainCategories.includes(categoryName);\n        });\n        if (main) {\n            return typeof main === 'string' ? main : main?.name;\n        }\n        return null;\n    };\n    const renderPrice = ()=>{\n        if (isOnSale) {\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex items-center gap-2\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: \"text-lg font-bold text-foreground\",\n                        children: price\n                    }, void 0, false, {\n                        fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                        lineNumber: 391,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: \"text-sm text-muted-foreground line-through\",\n                        children: regularPrice\n                    }, void 0, false, {\n                        fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                        lineNumber: 392,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_badge__WEBPACK_IMPORTED_MODULE_5__.Badge, {\n                        variant: \"destructive\",\n                        className: \"text-xs\",\n                        children: [\n                            \"-\",\n                            discount,\n                            \"%\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                        lineNumber: 393,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                lineNumber: 390,\n                columnNumber: 9\n            }, this);\n        }\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n            className: \"text-lg font-bold text-foreground\",\n            children: price\n        }, void 0, false, {\n            fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n            lineNumber: 399,\n            columnNumber: 12\n        }, this);\n    };\n    const renderRating = ()=>{\n        const rating = parseFloat(product.average_rating);\n        if (isNaN(rating) || rating === 0) return null;\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex items-center gap-1\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Eye_Heart_ShoppingCart_Star_lucide_react__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                    className: \"w-4 h-4 fill-current text-foreground\"\n                }, void 0, false, {\n                    fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                    lineNumber: 408,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    className: \"text-sm text-muted-foreground\",\n                    children: rating.toFixed(1)\n                }, void 0, false, {\n                    fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                    lineNumber: 409,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    className: \"text-xs text-muted-foreground\",\n                    children: [\n                        \"(\",\n                        product.rating_count,\n                        \")\"\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                    lineNumber: 410,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n            lineNumber: 407,\n            columnNumber: 7\n        }, this);\n    };\n    const renderStockStatus = ()=>{\n        if (product.stock_status === 'outofstock') {\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_badge__WEBPACK_IMPORTED_MODULE_5__.Badge, {\n                variant: \"secondary\",\n                className: \"text-xs\",\n                children: \"NiedostÄ™pny\"\n            }, void 0, false, {\n                fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                lineNumber: 417,\n                columnNumber: 14\n            }, this);\n        }\n        if (product.stock_status === 'onbackorder') {\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_badge__WEBPACK_IMPORTED_MODULE_5__.Badge, {\n                variant: \"secondary\",\n                className: \"text-xs\",\n                children: \"Na zam\\xf3wienie\"\n            }, void 0, false, {\n                fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                lineNumber: 420,\n                columnNumber: 14\n            }, this);\n        }\n        return null;\n    };\n    if (variant === 'compact') {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_3__.Card, {\n            className: \"group hover:shadow-lg transition-all duration-300 border-border/50\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_6___default()), {\n                href: `/produkt/${product.slug}`,\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_3__.CardHeader, {\n                        className: \"p-3 pb-0\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"relative aspect-square overflow-hidden rounded-lg\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_image__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                    src: imageUrl,\n                                    alt: product.name,\n                                    width: 300,\n                                    height: 300,\n                                    sizes: \"(max-width: 640px) 50vw, (max-width: 1024px) 33vw, 25vw\",\n                                    className: \"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300\",\n                                    loading: \"lazy\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                    lineNumber: 431,\n                                    columnNumber: 15\n                                }, this),\n                                isOnSale && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_badge__WEBPACK_IMPORTED_MODULE_5__.Badge, {\n                                    variant: \"destructive\",\n                                    className: \"absolute top-2 left-2 text-xs\",\n                                    children: [\n                                        \"-\",\n                                        discount,\n                                        \"%\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                    lineNumber: 441,\n                                    columnNumber: 17\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                            lineNumber: 430,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                        lineNumber: 429,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_3__.CardContent, {\n                        className: \"px-5 py-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                className: \"font-medium text-sm text-foreground line-clamp-2 mb-1\",\n                                children: product.name\n                            }, void 0, false, {\n                                fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                lineNumber: 448,\n                                columnNumber: 13\n                            }, this),\n                            renderPrice(),\n                            renderRating()\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                        lineNumber: 447,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                lineNumber: 428,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n            lineNumber: 427,\n            columnNumber: 7\n        }, this);\n    }\n    if (variant === 'featured') {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_3__.Card, {\n            className: \"group hover:shadow-xl transition-all duration-300 border-border/50 bg-gradient-to-br from-background to-muted/20\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_6___default()), {\n                    href: `/produkt/${product.slug}`,\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_3__.CardHeader, {\n                            className: \"p-4 pb-0\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"relative aspect-square overflow-hidden rounded-lg\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_image__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                        src: imageUrl,\n                                        alt: product.name,\n                                        width: 300,\n                                        height: 300,\n                                        sizes: \"(max-width: 640px) 50vw, (max-width: 1024px) 33vw, 25vw\",\n                                        className: \"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300\",\n                                        loading: \"lazy\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                        lineNumber: 465,\n                                        columnNumber: 15\n                                    }, this),\n                                    isOnSale && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_badge__WEBPACK_IMPORTED_MODULE_5__.Badge, {\n                                        variant: \"destructive\",\n                                        className: \"absolute top-3 left-3 text-sm border-2 border-destructive/20 rounded-xl px-3 py-1\",\n                                        children: [\n                                            \"-\",\n                                            discount,\n                                            \"%\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                        lineNumber: 475,\n                                        columnNumber: 17\n                                    }, this),\n                                    product.featured && !isOnSale && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_badge__WEBPACK_IMPORTED_MODULE_5__.Badge, {\n                                        className: \"absolute top-3 right-3 text-sm bg-primary text-primary-foreground border-2 border-primary/20 rounded-xl px-3 py-1\",\n                                        children: \"Polecany\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                        lineNumber: 480,\n                                        columnNumber: 17\n                                    }, this),\n                                    isOnSale && product.featured && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_badge__WEBPACK_IMPORTED_MODULE_5__.Badge, {\n                                        className: \"absolute top-3 right-3 text-sm bg-amber-600 text-white border-2 border-amber-500/20 rounded-xl px-3 py-1\",\n                                        children: \"Promocja\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                        lineNumber: 485,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                lineNumber: 464,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                            lineNumber: 463,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_3__.CardContent, {\n                            className: \"px-6 py-3\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                    className: \"font-semibold text-lg text-foreground line-clamp-2 mb-2\",\n                                    children: product.name\n                                }, void 0, false, {\n                                    fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                    lineNumber: 492,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-sm text-muted-foreground line-clamp-2 mb-3\",\n                                    children: product.short_description\n                                }, void 0, false, {\n                                    fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                    lineNumber: 495,\n                                    columnNumber: 13\n                                }, this),\n                                renderPrice(),\n                                renderRating(),\n                                renderStockStatus()\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                            lineNumber: 491,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                    lineNumber: 462,\n                    columnNumber: 9\n                }, this),\n                showActions && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_3__.CardFooter, {\n                    className: \"px-6 pt-0 pb-4\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex gap-2 w-full\",\n                        children: [\n                            product.type === 'variable' && isDropdownOpen ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex-1 space-y-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-sm font-medium text-gray-700 mb-2\",\n                                        children: \"Wybierz wariant:\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                        lineNumber: 508,\n                                        columnNumber: 19\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex flex-wrap gap-2\",\n                                        children: getAvailableVariants().map((variant)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: ()=>handleVariantSelect(variant),\n                                                className: `px-3 py-2 text-sm rounded-lg border transition-colors ${selectedVariant === variant ? 'bg-black text-white border-black' : 'bg-white text-gray-700 border-gray-300 hover:border-black'}`,\n                                                children: variant\n                                            }, variant, false, {\n                                                fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                                lineNumber: 511,\n                                                columnNumber: 23\n                                            }, this))\n                                    }, void 0, false, {\n                                        fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                        lineNumber: 509,\n                                        columnNumber: 19\n                                    }, this),\n                                    selectedVariant && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_4__.Button, {\n                                        onClick: handleAddToCart,\n                                        disabled: isLoading || product.stock_status === 'outofstock',\n                                        className: \"w-full h-12 py-6 hover:bg-black hover:text-white transition-colors text-base\",\n                                        size: \"sm\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Eye_Heart_ShoppingCart_Star_lucide_react__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                                                className: \"w-4 h-4 mr-2\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                                lineNumber: 531,\n                                                columnNumber: 23\n                                            }, this),\n                                            isLoading ? 'Dodawanie...' : `Dodaj ${selectedVariant} do koszyka`\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                        lineNumber: 525,\n                                        columnNumber: 21\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                lineNumber: 507,\n                                columnNumber: 17\n                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_4__.Button, {\n                                onClick: handleAddToCartWithVariant,\n                                disabled: isLoading || product.stock_status === 'outofstock',\n                                className: \"flex-1 h-10 py-2 hover:bg-black hover:text-white transition-colors text-sm\",\n                                size: \"sm\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Eye_Heart_ShoppingCart_Star_lucide_react__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                                        className: \"w-4 h-4 mr-2\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                        lineNumber: 543,\n                                        columnNumber: 19\n                                    }, this),\n                                    isLoading ? 'Dodawanie...' : product.type === 'variable' ? 'Wybierz wariant' : 'Dodaj do koszyka'\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                lineNumber: 537,\n                                columnNumber: 17\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_4__.Button, {\n                                variant: \"outline\",\n                                size: \"sm\",\n                                onClick: handleQuickView,\n                                className: \"px-3 h-10 hover:bg-black hover:text-white transition-colors\",\n                                \"aria-label\": \"Szybki podglÄ…d\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Eye_Heart_ShoppingCart_Star_lucide_react__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                                    className: \"w-4 h-4\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                    lineNumber: 554,\n                                    columnNumber: 17\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                lineNumber: 547,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_4__.Button, {\n                                variant: \"outline\",\n                                size: \"sm\",\n                                onClick: handleToggleFavorite,\n                                className: `px-3 h-10 hover:bg-black hover:text-white transition-colors ${isClient && isFavorite(product.id) ? 'text-destructive' : ''}`,\n                                \"aria-label\": isClient && isFavorite(product.id) ? \"UsuÅ„ z ulubionych\" : \"Dodaj do ulubionych\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Eye_Heart_ShoppingCart_Star_lucide_react__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n                                    className: `w-4 h-4 ${isClient && isFavorite(product.id) ? 'fill-current' : ''}`\n                                }, void 0, false, {\n                                    fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                    lineNumber: 563,\n                                    columnNumber: 17\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                lineNumber: 556,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                        lineNumber: 505,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                    lineNumber: 504,\n                    columnNumber: 11\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_quick_view_modal__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                    isOpen: isQuickViewOpen,\n                    onClose: ()=>setIsQuickViewOpen(false),\n                    product: product\n                }, void 0, false, {\n                    fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                    lineNumber: 571,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n            lineNumber: 461,\n            columnNumber: 7\n        }, this);\n    }\n    // List variant - horizontal layout\n    if (variant === 'list') {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_3__.Card, {\n            className: \"group hover:shadow-lg transition-all duration-300 border-gray-200 rounded-xl overflow-hidden relative\",\n            onMouseEnter: ()=>{\n                setIsHovered(true);\n                // Load variations on hover for variable products\n                if (product.type === 'variable' && !variationsLoaded) {\n                    handleShowVariants();\n                }\n            },\n            onMouseLeave: ()=>{\n                setIsHovered(false);\n            },\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_6___default()), {\n                    href: `/produkt/${product.slug}`,\n                    className: \"flex h-40\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"w-40 h-40 flex-shrink-0 relative\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_image__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                    src: imageUrl,\n                                    alt: product.name,\n                                    width: 160,\n                                    height: 160,\n                                    className: \"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                    lineNumber: 598,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"absolute top-2 left-2\",\n                                    children: isOnSale ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_badge__WEBPACK_IMPORTED_MODULE_5__.Badge, {\n                                        className: \"bg-red-100 text-red-800 text-xs px-2 py-1 rounded-full border-0\",\n                                        children: \"Promocja\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                        lineNumber: 609,\n                                        columnNumber: 17\n                                    }, this) : product.featured ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_badge__WEBPACK_IMPORTED_MODULE_5__.Badge, {\n                                        className: \"bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full border-0\",\n                                        children: \"Polecany\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                        lineNumber: 613,\n                                        columnNumber: 17\n                                    }, this) : null\n                                }, void 0, false, {\n                                    fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                    lineNumber: 607,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                            lineNumber: 597,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex-1 px-6 py-4 flex flex-col justify-between\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                            className: \"font-semibold text-lg text-gray-900 group-hover:text-black transition-colors line-clamp-2\",\n                                            children: product.name\n                                        }, void 0, false, {\n                                            fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                            lineNumber: 622,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"mt-1\",\n                                            children: renderPrice()\n                                        }, void 0, false, {\n                                            fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                            lineNumber: 627,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"mt-1\",\n                                            children: renderRating()\n                                        }, void 0, false, {\n                                            fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                            lineNumber: 631,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"mt-1\",\n                                            children: renderStockStatus()\n                                        }, void 0, false, {\n                                            fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                            lineNumber: 635,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                    lineNumber: 621,\n                                    columnNumber: 13\n                                }, this),\n                                showActions && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex items-center gap-4 mt-4\",\n                                    children: [\n                                        product.type === 'variable' ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_4__.Button, {\n                                            onClick: (e)=>{\n                                                e.preventDefault();\n                                                e.stopPropagation();\n                                                handleShowVariants();\n                                            },\n                                            size: \"sm\",\n                                            className: \"bg-black hover:bg-gray-800 text-white px-8 py-3 text-sm font-medium rounded-lg\",\n                                            children: \"Wybierz wariant\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                            lineNumber: 643,\n                                            columnNumber: 19\n                                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_4__.Button, {\n                                            onClick: (e)=>{\n                                                e.preventDefault();\n                                                e.stopPropagation();\n                                                handleAddToCart();\n                                            },\n                                            disabled: product.stock_status === 'outofstock' || isLoading,\n                                            size: \"sm\",\n                                            className: \"bg-black hover:bg-gray-800 text-white px-8 py-3 text-sm font-medium rounded-lg\",\n                                            children: isLoading ? 'Dodawanie...' : 'Dodaj do koszyka'\n                                        }, void 0, false, {\n                                            fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                            lineNumber: 655,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_4__.Button, {\n                                            variant: \"outline\",\n                                            size: \"sm\",\n                                            onClick: (e)=>{\n                                                e.preventDefault();\n                                                e.stopPropagation();\n                                                handleQuickView();\n                                            },\n                                            className: \"px-4 py-3 h-10 w-10 rounded-lg border-gray-200 hover:border-gray-300\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Eye_Heart_ShoppingCart_Star_lucide_react__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                                                className: \"w-4 h-4\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                                lineNumber: 679,\n                                                columnNumber: 19\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                            lineNumber: 669,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_4__.Button, {\n                                            variant: \"outline\",\n                                            size: \"sm\",\n                                            onClick: (e)=>{\n                                                e.preventDefault();\n                                                e.stopPropagation();\n                                                handleToggleFavorite();\n                                            },\n                                            className: `px-4 py-3 h-10 w-10 rounded-lg ${isClient && isFavorite(product.id) ? 'text-red-500 border-red-200 bg-red-50 hover:bg-red-100' : 'text-gray-500 border-gray-200 hover:border-gray-300'}`,\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Eye_Heart_ShoppingCart_Star_lucide_react__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n                                                className: `w-4 h-4 ${isClient && isFavorite(product.id) ? 'fill-current' : ''}`\n                                            }, void 0, false, {\n                                                fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                                lineNumber: 694,\n                                                columnNumber: 19\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                            lineNumber: 682,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                    lineNumber: 641,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                            lineNumber: 620,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                    lineNumber: 596,\n                    columnNumber: 9\n                }, this),\n                product.type === 'variable' && variations.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: `absolute inset-0 bg-white/50 backdrop-blur-sm transition-all duration-300 ${isHovered ? 'opacity-100' : 'opacity-0 pointer-events-none'}`,\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex flex-col justify-center items-center h-full p-6\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                className: \"text-lg font-bold text-gray-900 mb-4 text-center\",\n                                children: \"Wybierz wariant\"\n                            }, void 0, false, {\n                                fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                lineNumber: 708,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex flex-wrap gap-3 justify-center\",\n                                children: getAvailableVariants().map((variant)=>{\n                                    const variation = variations.find((v)=>{\n                                        // ZnajdÅº wariacjÄ™ ktÃ³ra ma ten sam atrybut\n                                        const firstAttr = v.attributes?.find((attr)=>attr.slug && attr.option);\n                                        return firstAttr?.option === variant;\n                                    });\n                                    const variantPrice = variation?.price || variation?.sale_price || variation?.regular_price;\n                                    const isOnSale = variation?.sale_price && parseFloat(variation.sale_price) < parseFloat(variation.regular_price || '0');\n                                    const regularPrice = variation?.regular_price;\n                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: (e)=>{\n                                            e.preventDefault();\n                                            e.stopPropagation();\n                                            if (variation) {\n                                                handleAddToCartWithVariation(variation, variant);\n                                            }\n                                        },\n                                        className: \"flex flex-col items-center p-3 border border-gray-200 rounded-xl hover:border-gray-900 hover:shadow-md transition-all duration-200 bg-white\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"text-sm font-medium text-gray-900 mb-1\",\n                                                children: variant\n                                            }, void 0, false, {\n                                                fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                                lineNumber: 738,\n                                                columnNumber: 23\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-xs font-bold text-gray-900\",\n                                                children: variantPrice && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                    children: isOnSale ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"text-red-600\",\n                                                                children: (0,_utils_format_price__WEBPACK_IMPORTED_MODULE_11__.formatPrice)(parseFloat(variantPrice))\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                                                lineNumber: 746,\n                                                                columnNumber: 33\n                                                            }, this),\n                                                            regularPrice && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"text-gray-400 line-through ml-1\",\n                                                                children: (0,_utils_format_price__WEBPACK_IMPORTED_MODULE_11__.formatPrice)(parseFloat(regularPrice))\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                                                lineNumber: 748,\n                                                                columnNumber: 35\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        children: (0,_utils_format_price__WEBPACK_IMPORTED_MODULE_11__.formatPrice)(parseFloat(variantPrice))\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                                        lineNumber: 752,\n                                                        columnNumber: 31\n                                                    }, this)\n                                                }, void 0, false)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                                lineNumber: 741,\n                                                columnNumber: 23\n                                            }, this)\n                                        ]\n                                    }, variant, true, {\n                                        fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                        lineNumber: 727,\n                                        columnNumber: 21\n                                    }, this);\n                                })\n                            }, void 0, false, {\n                                fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                lineNumber: 709,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                        lineNumber: 707,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                    lineNumber: 704,\n                    columnNumber: 11\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_quick_view_modal__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                    isOpen: isQuickViewOpen,\n                    onClose: ()=>setIsQuickViewOpen(false),\n                    product: product\n                }, void 0, false, {\n                    fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                    lineNumber: 766,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n            lineNumber: 583,\n            columnNumber: 7\n        }, this);\n    }\n    // Default variant - matching the screenshot design\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_3__.Card, {\n        className: \"group flex flex-col h-full hover:shadow-lg transition-all duration-300 border-gray-200 rounded-2xl sm:rounded-3xl overflow-hidden p-0 relative\",\n        onMouseEnter: ()=>{\n            setIsHovered(true);\n            // Load variations on hover for variable products\n            if (product.type === 'variable' && !variationsLoaded) {\n                handleShowVariants();\n            }\n        },\n        onMouseLeave: ()=>{\n            setIsHovered(false);\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_6___default()), {\n                href: `/produkt/${product.slug}`,\n                className: \"flex flex-col flex-grow\",\n                onClick: (e)=>{\n                    // Prevent navigation if clicking on action buttons\n                    if (e.target.closest('button')) {\n                        e.preventDefault();\n                    }\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_3__.CardHeader, {\n                        className: \"p-0 relative\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"relative aspect-square overflow-hidden\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_image__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                    src: imageUrl,\n                                    alt: product.name,\n                                    width: 300,\n                                    height: 300,\n                                    className: \"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                    lineNumber: 802,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"absolute top-2 left-2\",\n                                    children: tabType === 'promocje' || isOnSale ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_badge__WEBPACK_IMPORTED_MODULE_5__.Badge, {\n                                        className: \"bg-red-100 text-red-800 text-xs px-3 py-1 rounded-full border-0\",\n                                        children: \"Promocja\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                        lineNumber: 813,\n                                        columnNumber: 17\n                                    }, this) : tabType === 'nowosci' ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_badge__WEBPACK_IMPORTED_MODULE_5__.Badge, {\n                                        className: \"bg-blue-100 text-blue-800 text-xs px-3 py-1 rounded-full border-0\",\n                                        children: \"NowoÅ›Ä‡\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                        lineNumber: 817,\n                                        columnNumber: 17\n                                    }, this) : tabType === 'polecane' || product.featured ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_badge__WEBPACK_IMPORTED_MODULE_5__.Badge, {\n                                        className: \"bg-green-100 text-green-800 text-xs px-3 py-1 rounded-full border-0\",\n                                        children: \"Polecany\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                        lineNumber: 821,\n                                        columnNumber: 17\n                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_badge__WEBPACK_IMPORTED_MODULE_5__.Badge, {\n                                        className: \"bg-blue-100 text-blue-800 text-xs px-3 py-1 rounded-full border-0\",\n                                        children: \"NowoÅ›Ä‡\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                        lineNumber: 825,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                    lineNumber: 811,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"absolute top-2 right-2 flex gap-2\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: (e)=>{\n                                                e.preventDefault();\n                                                e.stopPropagation();\n                                                handleQuickView();\n                                            },\n                                            className: \"w-8 h-8 bg-white/80 hover:bg-white hover:shadow-md rounded-full flex items-center justify-center transition-all duration-150\",\n                                            \"aria-label\": \"Szybki podglÄ…d\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Eye_Heart_ShoppingCart_Star_lucide_react__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                                                className: \"w-4 h-4 text-gray-700\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                                lineNumber: 842,\n                                                columnNumber: 17\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                            lineNumber: 833,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: (e)=>{\n                                                e.preventDefault();\n                                                e.stopPropagation();\n                                                handleToggleFavorite();\n                                            },\n                                            className: \"w-8 h-8 bg-white/80 hover:bg-white hover:shadow-md rounded-full flex items-center justify-center transition-all duration-150\",\n                                            \"aria-label\": isClient && isFavorite(product.id) ? \"UsuÅ„ z ulubionych\" : \"Dodaj do ulubionych\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Eye_Heart_ShoppingCart_Star_lucide_react__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n                                                className: `w-4 h-4 ${isClient && isFavorite(product.id) ? 'fill-current text-red-500' : 'text-gray-700'}`\n                                            }, void 0, false, {\n                                                fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                                lineNumber: 853,\n                                                columnNumber: 17\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                            lineNumber: 844,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                    lineNumber: 832,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                            lineNumber: 801,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                        lineNumber: 800,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_3__.CardContent, {\n                        className: \"px-3 sm:px-4 py-2 flex-grow\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-xs sm:text-sm text-gray-500 mb-2 flex items-center\",\n                                children: [\n                                    getMainCategory() || 'Bez kategorii',\n                                    getBrand() && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"w-1 h-1 bg-gray-300 rounded-full mx-2\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                                lineNumber: 866,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"text-xs text-gray-400\",\n                                                children: getBrand()\n                                            }, void 0, false, {\n                                                fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                                lineNumber: 867,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                lineNumber: 862,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"font-bold text-foreground text-base sm:text-lg mb-2 line-clamp-2\",\n                                children: product.name\n                            }, void 0, false, {\n                                fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                lineNumber: 871,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-lg sm:text-xl font-bold text-foreground\",\n                                children: price\n                            }, void 0, false, {\n                                fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                lineNumber: 874,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                        lineNumber: 861,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                lineNumber: 790,\n                columnNumber: 7\n            }, this),\n            product.type === 'variable' && variations.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: `absolute inset-0 bg-white/50 backdrop-blur-sm transition-all duration-300 ${isHovered ? 'opacity-100' : 'opacity-0 pointer-events-none'}`,\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex flex-col justify-center items-center h-full p-6\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                            className: \"text-lg font-bold text-gray-900 mb-4 text-center\",\n                            children: \"Wybierz wariant\"\n                        }, void 0, false, {\n                            fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                            lineNumber: 886,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex flex-wrap gap-3 justify-center\",\n                            children: getAvailableVariants().map((variant)=>{\n                                const variation = variations.find((v)=>{\n                                    // ZnajdÅº wariacjÄ™ ktÃ³ra ma ten sam atrybut\n                                    const firstAttr = v.attributes?.find((attr)=>attr.slug && attr.option);\n                                    return firstAttr?.option === variant;\n                                });\n                                const variantPrice = variation?.price || variation?.sale_price || variation?.regular_price;\n                                const isOnSale = variation?.sale_price && parseFloat(variation.sale_price) < parseFloat(variation.regular_price || '0');\n                                const regularPrice = variation?.regular_price;\n                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: (e)=>{\n                                        e.preventDefault();\n                                        e.stopPropagation();\n                                        if (variation) {\n                                            handleAddToCartWithVariation(variation, variant);\n                                        }\n                                    },\n                                    className: \"flex flex-col items-center p-3 border border-gray-200 rounded-xl hover:border-gray-900 hover:shadow-md transition-all duration-200 bg-white\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-sm font-medium text-gray-900 mb-1\",\n                                            children: variant\n                                        }, void 0, false, {\n                                            fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                            lineNumber: 916,\n                                            columnNumber: 21\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-xs font-bold text-gray-900\",\n                                            children: variantPrice && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                children: isOnSale ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"text-red-600\",\n                                                            children: (0,_utils_format_price__WEBPACK_IMPORTED_MODULE_11__.formatPrice)(parseFloat(variantPrice))\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                                            lineNumber: 924,\n                                                            columnNumber: 31\n                                                        }, this),\n                                                        regularPrice && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"text-gray-400 line-through ml-1\",\n                                                            children: (0,_utils_format_price__WEBPACK_IMPORTED_MODULE_11__.formatPrice)(parseFloat(regularPrice))\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                                            lineNumber: 926,\n                                                            columnNumber: 33\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    children: (0,_utils_format_price__WEBPACK_IMPORTED_MODULE_11__.formatPrice)(parseFloat(variantPrice))\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                                    lineNumber: 930,\n                                                    columnNumber: 29\n                                                }, this)\n                                            }, void 0, false)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                            lineNumber: 919,\n                                            columnNumber: 21\n                                        }, this)\n                                    ]\n                                }, variant, true, {\n                                    fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                    lineNumber: 905,\n                                    columnNumber: 19\n                                }, this);\n                            })\n                        }, void 0, false, {\n                            fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                            lineNumber: 887,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                    lineNumber: 885,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                lineNumber: 882,\n                columnNumber: 9\n            }, this),\n            showActions && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_3__.CardFooter, {\n                className: \"px-3 sm:px-4 pb-4 mt-auto\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"w-full relative\",\n                    ref: dropdownRef,\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_4__.Button, {\n                            onClick: (e)=>{\n                                e.preventDefault();\n                                e.stopPropagation();\n                                if (product.type === 'variable') {\n                                    // For variable products, just show hover overlay (no dropdown)\n                                    handleShowVariants();\n                                } else {\n                                    handleAddToCart();\n                                }\n                            },\n                            onMouseEnter: ()=>{\n                                setIsButtonHovered(true);\n                                if (product.type === 'variable' && !variationsLoaded) {\n                                    handleShowVariants();\n                                }\n                            },\n                            onMouseLeave: ()=>{\n                                setIsButtonHovered(false);\n                            },\n                            disabled: isLoading || product.stock_status === 'outofstock',\n                            className: \"w-full bg-white border border-black text-gray-900 hover:bg-gray-50 rounded-lg py-3 font-medium text-sm\",\n                            size: \"lg\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Eye_Heart_ShoppingCart_Star_lucide_react__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                                    className: \"w-4 h-4 mr-2\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                                    lineNumber: 970,\n                                    columnNumber: 15\n                                }, this),\n                                isLoading ? 'Dodawanie...' : product.type === 'variable' ? 'Wybierz wariant' : 'Dodaj do koszyka'\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                            lineNumber: 946,\n                            columnNumber: 13\n                        }, this),\n                         false && /*#__PURE__*/ 0\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                    lineNumber: 945,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                lineNumber: 944,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_quick_view_modal__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                isOpen: isQuickViewOpen,\n                onClose: ()=>setIsQuickViewOpen(false),\n                product: product\n            }, void 0, false, {\n                fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n                lineNumber: 1044,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/king-product-card.tsx\",\n        lineNumber: 777,\n        columnNumber: 5\n    }, this);\n}\n_s(KingProductCard, \"+3N2S4y1p/GCOyaDjeuz4gPPZ5c=\");\n_c = KingProductCard;\nvar _c;\n$RefreshReg$(_c, \"KingProductCard\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL2tpbmctcHJvZHVjdC1jYXJkLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFb0Q7QUFFYztBQUNlO0FBQ2pDO0FBQ0Y7QUFDZ0I7QUFDakM7QUFDRTtBQUNvQjtBQUNVO0FBQzdELDJDQUEyQztBQUMzQyxzREFBc0Q7QUFDUTtBQUNYO0FBU3BDLFNBQVNvQixnQkFBZ0IsRUFDdENDLE9BQU8sRUFDUEMsY0FBYyxJQUFJLEVBQ2xCQyxVQUFVLFNBQVMsRUFDbkJDLE9BQU8sRUFDYzs7SUFDckIsTUFBTSxDQUFDQyxXQUFXQyxhQUFhLEdBQUcxQiwrQ0FBUUEsQ0FBQztJQUMzQyxNQUFNLENBQUMyQixpQkFBaUJDLG1CQUFtQixHQUFHNUIsK0NBQVFBLENBQUM7SUFDdkQsTUFBTSxDQUFDNkIsY0FBY0MsZ0JBQWdCLEdBQUc5QiwrQ0FBUUEsQ0FBQztJQUNqRCxNQUFNLENBQUMrQixpQkFBaUJDLG1CQUFtQixHQUFHaEMsK0NBQVFBLENBQVM7SUFDL0QsTUFBTSxDQUFDaUMsa0JBQWtCQyxvQkFBb0IsR0FBR2xDLCtDQUFRQSxDQUFDO0lBQ3pELE1BQU0sQ0FBQ21DLFlBQVlDLGNBQWMsR0FBR3BDLCtDQUFRQSxDQVF4QyxFQUFFO0lBQ04sTUFBTSxDQUFDcUMsV0FBV0MsYUFBYSxHQUFHdEMsK0NBQVFBLENBQUM7SUFDM0MsTUFBTSxDQUFDdUMsaUJBQWlCQyxtQkFBbUIsR0FBR3hDLCtDQUFRQSxDQUFDO0lBQ3ZELE1BQU0sQ0FBQ3lDLGdCQUFnQkMsa0JBQWtCLEdBQUcxQywrQ0FBUUEsQ0FBQztJQUNyRCxNQUFNLENBQUMyQyxVQUFVQyxZQUFZLEdBQUc1QywrQ0FBUUEsQ0FBQztJQUN6QyxNQUFNNkMsY0FBYzNDLDZDQUFNQSxDQUFpQjtJQUUzQyxtQkFBbUI7SUFDbkJELGdEQUFTQTtxQ0FBQztZQUNSMkMsWUFBWTtRQUNkO29DQUFHLEVBQUU7SUFFTCx1Q0FB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cEQwRDtnQ0FDRjs0QkFDRjs0QkFDQXdFLGNBQWM7Z0NBQ1ozSCxtQkFBbUI7NEJBQ3JCOzRCQUNBcUgsVUFBVXBJLGFBQWFKLFFBQVEwSCxZQUFZLEtBQUs7NEJBQ2hEVCxXQUFVOzRCQUNWd0IsTUFBSzs7OENBRUwsOERBQUNuSix3R0FBWUE7b0NBQUMySCxXQUFVOzs7Ozs7Z0NBQ3ZCN0csWUFBWSxpQkFBa0JKLFFBQVFnRCxJQUFJLEtBQUssYUFBYSxvQkFBb0I7Ozs7Ozs7d0JBSWxGLE1BQXNENUIsa0JBQ3JEOzs7Ozs7Ozs7Ozs7MEJBb0VSLDhEQUFDdkIsd0VBQWNBO2dCQUNiOEksUUFBUXJJO2dCQUNSc0ksU0FBUyxJQUFNckksbUJBQW1CO2dCQUNsQ1AsU0FBU0E7Ozs7Ozs7Ozs7OztBQUlqQjtHQWpnQ3dCRDtLQUFBQSIsInNvdXJjZXMiOlsiL1VzZXJzL2tpbmdicmFuZC9EZXNrdG9wL2hlYWRsZXNzLXdvby9hcHBzL3dlYi9zcmMvY29tcG9uZW50cy9raW5nLXByb2R1Y3QtY2FyZC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VSZWYgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBXb29Qcm9kdWN0IH0gZnJvbSAnQC90eXBlcy93b29jb21tZXJjZSc7XG5pbXBvcnQgd29vQ29tbWVyY2VTZXJ2aWNlIGZyb20gJ0Avc2VydmljZXMvd29vY29tbWVyY2Utb3B0aW1pemVkJztcbmltcG9ydCB7IENhcmQsIENhcmRDb250ZW50LCBDYXJkRm9vdGVyLCBDYXJkSGVhZGVyIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2NhcmQnO1xuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2J1dHRvbic7XG5pbXBvcnQgeyBCYWRnZSB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9iYWRnZSc7XG5pbXBvcnQgeyBIZWFydCwgU2hvcHBpbmdDYXJ0LCBFeWUsIFN0YXIgfSBmcm9tICdsdWNpZGUtcmVhY3QnO1xuaW1wb3J0IExpbmsgZnJvbSAnbmV4dC9saW5rJztcbmltcG9ydCBJbWFnZSBmcm9tICduZXh0L2ltYWdlJztcbmltcG9ydCB7IHVzZUNhcnRTdG9yZSB9IGZyb20gJ0Avc3RvcmVzL2NhcnQtc3RvcmUnO1xuaW1wb3J0IHsgdXNlRmF2b3JpdGVzU3RvcmUgfSBmcm9tICdAL3N0b3Jlcy9mYXZvcml0ZXMtc3RvcmUnO1xuLy8gV2lzaGxpc3QgdHltY3phc293byB3ecWCxIVjem9ueSBuYSBrYXJ0YWNoXG4vLyBpbXBvcnQgeyB1c2VXaXNobGlzdCB9IGZyb20gJ0AvaG9va3MvdXNlLXdpc2hsaXN0JztcbmltcG9ydCBRdWlja1ZpZXdNb2RhbCBmcm9tICdAL2NvbXBvbmVudHMvdWkvcXVpY2stdmlldy1tb2RhbCc7XG5pbXBvcnQgeyBmb3JtYXRQcmljZSB9IGZyb20gJ0AvdXRpbHMvZm9ybWF0LXByaWNlJztcblxuaW50ZXJmYWNlIEtpbmdQcm9kdWN0Q2FyZFByb3BzIHtcbiAgcHJvZHVjdDogV29vUHJvZHVjdDtcbiAgc2hvd0FjdGlvbnM/OiBib29sZWFuO1xuICB2YXJpYW50PzogJ2RlZmF1bHQnIHwgJ2NvbXBhY3QnIHwgJ2ZlYXR1cmVkJyB8ICdsaXN0JztcbiAgdGFiVHlwZT86IHN0cmluZztcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gS2luZ1Byb2R1Y3RDYXJkKHsgXG4gIHByb2R1Y3QsIFxuICBzaG93QWN0aW9ucyA9IHRydWUsIFxuICB2YXJpYW50ID0gJ2RlZmF1bHQnLFxuICB0YWJUeXBlXG59OiBLaW5nUHJvZHVjdENhcmRQcm9wcykge1xuICBjb25zdCBbaXNMb2FkaW5nLCBzZXRJc0xvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbaXNRdWlja1ZpZXdPcGVuLCBzZXRJc1F1aWNrVmlld09wZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc2hvd1ZhcmlhbnRzLCBzZXRTaG93VmFyaWFudHNdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc2VsZWN0ZWRWYXJpYW50LCBzZXRTZWxlY3RlZFZhcmlhbnRdID0gdXNlU3RhdGU8c3RyaW5nPignJyk7XG4gIGNvbnN0IFt2YXJpYXRpb25zTG9hZGVkLCBzZXRWYXJpYXRpb25zTG9hZGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3ZhcmlhdGlvbnMsIHNldFZhcmlhdGlvbnNdID0gdXNlU3RhdGU8QXJyYXk8e1xuICAgIGlkOiBudW1iZXI7XG4gICAgYXR0cmlidXRlcz86IEFycmF5PHsgc2x1Zzogc3RyaW5nOyBvcHRpb246IHN0cmluZyB9PjtcbiAgICBwcmljZTogc3RyaW5nO1xuICAgIHJlZ3VsYXJfcHJpY2U6IHN0cmluZztcbiAgICBzYWxlX3ByaWNlOiBzdHJpbmc7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIG1lbnVfb3JkZXI6IG51bWJlcjtcbiAgfT4+KFtdKTtcbiAgY29uc3QgW2lzSG92ZXJlZCwgc2V0SXNIb3ZlcmVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2lzQnV0dG9uSG92ZXJlZCwgc2V0SXNCdXR0b25Ib3ZlcmVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2lzRHJvcGRvd25PcGVuLCBzZXRJc0Ryb3Bkb3duT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtpc0NsaWVudCwgc2V0SXNDbGllbnRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBkcm9wZG93blJlZiA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudD4obnVsbCk7XG4gIFxuICAvLyBIYW5kbGUgaHlkcmF0aW9uXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0SXNDbGllbnQodHJ1ZSk7XG4gIH0sIFtdKTtcblxuICAvLyBDbG9zZSBkcm9wZG93biB3aGVuIGNsaWNraW5nIG91dHNpZGVcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBoYW5kbGVDbGlja091dHNpZGUgPSAoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IHtcbiAgICAgIGlmIChkcm9wZG93blJlZi5jdXJyZW50ICYmICFkcm9wZG93blJlZi5jdXJyZW50LmNvbnRhaW5zKGV2ZW50LnRhcmdldCBhcyBOb2RlKSkge1xuICAgICAgICBzZXRJc0Ryb3Bkb3duT3BlbihmYWxzZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGlmIChpc0Ryb3Bkb3duT3Blbikge1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgaGFuZGxlQ2xpY2tPdXRzaWRlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgaGFuZGxlQ2xpY2tPdXRzaWRlKTtcbiAgICB9O1xuICB9LCBbaXNEcm9wZG93bk9wZW5dKTtcblxuICAvLyBEZWJ1ZyB2YXJpYXRpb25zIHN0YXRlIGNoYW5nZXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zb2xlLmxvZygn8J+UhCB2YXJpYXRpb25zIHN0YXRlIGNoYW5nZWQ6JywgdmFyaWF0aW9ucyk7XG4gICAgY29uc29sZS5sb2coJ/CflIQgdmFyaWF0aW9ucy5sZW5ndGg6JywgdmFyaWF0aW9ucy5sZW5ndGgpO1xuICAgIGNvbnNvbGUubG9nKCfwn5SEIHZhcmlhdGlvbnMgdHlwZTonLCB0eXBlb2YgdmFyaWF0aW9ucyk7XG4gICAgY29uc29sZS5sb2coJ/CflIQgdmFyaWF0aW9ucyBpcyBhcnJheTonLCBBcnJheS5pc0FycmF5KHZhcmlhdGlvbnMpKTtcbiAgfSwgW3ZhcmlhdGlvbnNdKTtcbiAgXG4gIC8vIFNhZmVseSBhY2Nlc3Mgc3RvcmVzIHdpdGggZXJyb3IgaGFuZGxpbmdcbiAgbGV0IGFkZEl0ZW0sIG9wZW5DYXJ0LCB0b2dnbGVGYXZvcml0ZSwgaXNGYXZvcml0ZTtcbiAgdHJ5IHtcbiAgICBjb25zdCBjYXJ0U3RvcmUgPSB1c2VDYXJ0U3RvcmUoKTtcbiAgICBhZGRJdGVtID0gY2FydFN0b3JlLmFkZEl0ZW07XG4gICAgb3BlbkNhcnQgPSBjYXJ0U3RvcmUub3BlbkNhcnQ7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS53YXJuKCdDYXJ0IHN0b3JlIG5vdCBhdmFpbGFibGU6JywgZXJyb3IpO1xuICAgIGFkZEl0ZW0gPSAoKSA9PiB7fTtcbiAgICBvcGVuQ2FydCA9ICgpID0+IHt9O1xuICB9XG4gIFxuICB0cnkge1xuICAgIGNvbnN0IGZhdm9yaXRlc1N0b3JlID0gdXNlRmF2b3JpdGVzU3RvcmUoKTtcbiAgICB0b2dnbGVGYXZvcml0ZSA9IGZhdm9yaXRlc1N0b3JlLnRvZ2dsZUZhdm9yaXRlO1xuICAgIGlzRmF2b3JpdGUgPSBmYXZvcml0ZXNTdG9yZS5pc0Zhdm9yaXRlO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUud2FybignRmF2b3JpdGVzIHN0b3JlIG5vdCBhdmFpbGFibGU6JywgZXJyb3IpO1xuICAgIHRvZ2dsZUZhdm9yaXRlID0gKCkgPT4ge307XG4gICAgaXNGYXZvcml0ZSA9ICgpID0+IGZhbHNlO1xuICB9XG5cbiAgLy8gV2lzaGxpc3QgdmlhIHNhZmUgaG9vayAoU1NSLWd1YXJkZWQpXG4gIC8vIFdpc2hsaXN0IFVJIHd5xYLEhWN6b255IG5hIGthcnRhY2gg4oCTIHpvc3RhamUgdHlsa28gVWx1YmlvbmVcblxuICBjb25zdCBoYW5kbGVBZGRUb0NhcnQgPSBhc3luYyAoKSA9PiB7XG4gICAgc2V0SXNMb2FkaW5nKHRydWUpO1xuICAgIHRyeSB7XG4gICAgICBsZXQgY2FydEl0ZW07XG4gICAgICBcbiAgICAgIGlmIChwcm9kdWN0LnR5cGUgPT09ICd2YXJpYWJsZScgJiYgc2VsZWN0ZWRWYXJpYW50KSB7XG4gICAgICAgIC8vIEZvciB2YXJpYWJsZSBwcm9kdWN0cyB3aXRoIHNlbGVjdGVkIHZhcmlhbnQsIGdldCB0aGUgc3BlY2lmaWMgdmFyaWF0aW9uXG4gICAgICAgIGNvbnN0IHZhcmlhdGlvbnMgPSBhd2FpdCB3b29Db21tZXJjZVNlcnZpY2UuZ2V0UHJvZHVjdFZhcmlhdGlvbnMocHJvZHVjdC5pZCk7XG4gICAgICAgIGNvbnN0IHNlbGVjdGVkVmFyaWF0aW9uID0gdmFyaWF0aW9ucy52YXJpYXRpb25zPy5maW5kKCh2YXJpYXRpb24pID0+IFxuICAgICAgICAgIHZhcmlhdGlvbi5hdHRyaWJ1dGVzPy5zb21lKChhdHRyKSA9PiBcbiAgICAgICAgICAgIGF0dHIuc2x1ZyA9PT0gJ3BhX3BvamVtbm9zYycgJiYgYXR0ci5vcHRpb24gPT09IHNlbGVjdGVkVmFyaWFudFxuICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChzZWxlY3RlZFZhcmlhdGlvbikge1xuICAgICAgICAgIGNhcnRJdGVtID0ge1xuICAgICAgICAgICAgaWQ6IHNlbGVjdGVkVmFyaWF0aW9uLmlkLFxuICAgICAgICAgICAgbmFtZTogYCR7cHJvZHVjdC5uYW1lfSAtICR7c2VsZWN0ZWRWYXJpYW50fWAsXG4gICAgICAgICAgICBwcmljZTogcGFyc2VGbG9hdChzZWxlY3RlZFZhcmlhdGlvbi5wcmljZSksXG4gICAgICAgICAgICByZWd1bGFyX3ByaWNlOiBwYXJzZUZsb2F0KHNlbGVjdGVkVmFyaWF0aW9uLnJlZ3VsYXJfcHJpY2UpLFxuICAgICAgICAgICAgc2FsZV9wcmljZTogcGFyc2VGbG9hdChzZWxlY3RlZFZhcmlhdGlvbi5zYWxlX3ByaWNlKSxcbiAgICAgICAgICAgIGltYWdlOiBpbWFnZVVybCxcbiAgICAgICAgICAgIHBlcm1hbGluazogYC9wcm9kdWt0LyR7cHJvZHVjdC5zbHVnfWAsXG4gICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBGYWxsYmFjayB0byBtYWluIHByb2R1Y3QgaWYgdmFyaWF0aW9uIG5vdCBmb3VuZFxuICAgICAgICAgIGNhcnRJdGVtID0ge1xuICAgICAgICAgICAgaWQ6IHByb2R1Y3QuaWQsXG4gICAgICAgICAgICBuYW1lOiBwcm9kdWN0Lm5hbWUsXG4gICAgICAgICAgICBwcmljZTogcGFyc2VGbG9hdChwcm9kdWN0LnByaWNlKSxcbiAgICAgICAgICAgIHJlZ3VsYXJfcHJpY2U6IHBhcnNlRmxvYXQocHJvZHVjdC5yZWd1bGFyX3ByaWNlKSxcbiAgICAgICAgICAgIHNhbGVfcHJpY2U6IHBhcnNlRmxvYXQocHJvZHVjdC5zYWxlX3ByaWNlKSxcbiAgICAgICAgICAgIGltYWdlOiBpbWFnZVVybCxcbiAgICAgICAgICAgIHBlcm1hbGluazogYC9wcm9kdWt0LyR7cHJvZHVjdC5zbHVnfWAsXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gRm9yIHNpbXBsZSBwcm9kdWN0cyBvciB2YXJpYWJsZSBwcm9kdWN0cyB3aXRob3V0IHNlbGVjdGVkIHZhcmlhbnRcbiAgICAgICAgY2FydEl0ZW0gPSB7XG4gICAgICAgICAgaWQ6IHByb2R1Y3QuaWQsXG4gICAgICAgICAgbmFtZTogcHJvZHVjdC5uYW1lLFxuICAgICAgICAgIHByaWNlOiBwYXJzZUZsb2F0KHByb2R1Y3QucHJpY2UpLFxuICAgICAgICAgIHJlZ3VsYXJfcHJpY2U6IHBhcnNlRmxvYXQocHJvZHVjdC5yZWd1bGFyX3ByaWNlKSxcbiAgICAgICAgICBzYWxlX3ByaWNlOiBwYXJzZUZsb2F0KHByb2R1Y3Quc2FsZV9wcmljZSksXG4gICAgICAgICAgaW1hZ2U6IGltYWdlVXJsLFxuICAgICAgICAgIHBlcm1hbGluazogYC9wcm9kdWt0LyR7cHJvZHVjdC5zbHVnfWAsXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIGNvbnNvbGUubG9nKCfwn5uSIEFkZGluZyB0byBjYXJ0IGZyb20gY2FyZDonLCBjYXJ0SXRlbSk7XG4gICAgICBhZGRJdGVtKGNhcnRJdGVtKTtcbiAgICAgIG9wZW5DYXJ0KCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0LFgsSFZCBkb2Rhd2FuaWEgZG8ga29zenlrYTonLCBlcnJvcik7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVRvZ2dsZUZhdm9yaXRlID0gKCkgPT4ge1xuICAgIHRvZ2dsZUZhdm9yaXRlKHByb2R1Y3QpO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVF1aWNrVmlldyA9ICgpID0+IHtcbiAgICBzZXRJc1F1aWNrVmlld09wZW4odHJ1ZSk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlVmFyaWFudFNlbGVjdCA9ICh2YXJpYW50OiBzdHJpbmcpID0+IHtcbiAgICBzZXRTZWxlY3RlZFZhcmlhbnQodmFyaWFudCk7XG4gICAgc2V0U2hvd1ZhcmlhbnRzKGZhbHNlKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVTaG93VmFyaWFudHMgPSBhc3luYyAoKSA9PiB7XG4gICAgY29uc29sZS5sb2coJ/CflIQgaGFuZGxlU2hvd1ZhcmlhbnRzIGNhbGxlZCBmb3IgcHJvZHVjdDonLCBwcm9kdWN0LmlkKTtcbiAgICBpZiAoIXZhcmlhdGlvbnNMb2FkZWQpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgd29vQ29tbWVyY2VTZXJ2aWNlLmdldFByb2R1Y3RWYXJpYXRpb25zKHByb2R1Y3QuaWQpO1xuICAgICAgICBjb25zb2xlLmxvZygn8J+UhCBWYXJpYXRpb25zIHJlc3BvbnNlOicsIHJlc3BvbnNlKTtcbiAgICAgICAgLy8gQVBJIHp3cmFjYSB3YXJpYW50eSBqYWtvIHRhYmxpY8SZIGJlenBvxZtyZWRuaW8sIG5pZSB3IG9iaWVrY2llIHogd8WCYcWbY2l3b8WbY2nEhSB2YXJpYXRpb25zXG4gICAgICAgIGNvbnN0IHZhcmlhdGlvbnMgPSBBcnJheS5pc0FycmF5KHJlc3BvbnNlKSA/IHJlc3BvbnNlIDogKHJlc3BvbnNlLnZhcmlhdGlvbnMgfHwgW10pO1xuICAgICAgICBjb25zb2xlLmxvZygn8J+UhCBTZXR0aW5nIHZhcmlhdGlvbnM6JywgdmFyaWF0aW9ucyk7XG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5SEIHZhcmlhdGlvbnMgdHlwZTonLCB0eXBlb2YgdmFyaWF0aW9ucyk7XG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5SEIHZhcmlhdGlvbnMgaXMgYXJyYXk6JywgQXJyYXkuaXNBcnJheSh2YXJpYXRpb25zKSk7XG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5SEIHZhcmlhdGlvbnMgbGVuZ3RoOicsIHZhcmlhdGlvbnMubGVuZ3RoKTtcbiAgICAgICAgc2V0VmFyaWF0aW9ucyhbLi4udmFyaWF0aW9uc10pOyAvLyBGb3JjZSBuZXcgYXJyYXkgcmVmZXJlbmNlXG4gICAgICAgIHNldFZhcmlhdGlvbnNMb2FkZWQodHJ1ZSk7XG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5SEIFZhcmlhdGlvbnMgc2V0LCB2YXJpYXRpb25zTG9hZGVkOicsIHRydWUpO1xuICAgICAgICAvLyBGb3JjZSByZS1yZW5kZXIgYnkgdXBkYXRpbmcgc3RhdGVcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ/CflIQgQWZ0ZXIgdGltZW91dCAtIHZhcmlhdGlvbnM6JywgdmFyaWF0aW9ucyk7XG4gICAgICAgIH0sIDEwMCk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdCxYLEhWQgxYJhZG93YW5pYSB3YXJpYW50w7N3OicsIGVycm9yKTtcbiAgICAgIH1cbiAgICB9XG4gICAgc2V0U2hvd1ZhcmlhbnRzKHRydWUpO1xuICAgIHNldElzRHJvcGRvd25PcGVuKHRydWUpO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUFkZFRvQ2FydFdpdGhWYXJpYW50ID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmIChwcm9kdWN0LnR5cGUgPT09ICd2YXJpYWJsZScgJiYgIXNlbGVjdGVkVmFyaWFudCkge1xuICAgICAgaGFuZGxlU2hvd1ZhcmlhbnRzKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGF3YWl0IGhhbmRsZUFkZFRvQ2FydCgpO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUFkZFRvQ2FydFdpdGhWYXJpYXRpb24gPSBhc3luYyAodmFyaWF0aW9uOiB7IFxuICAgIGlkOiBudW1iZXI7IFxuICAgIHByaWNlOiBzdHJpbmc7IFxuICAgIHJlZ3VsYXJfcHJpY2U6IHN0cmluZzsgXG4gICAgc2FsZV9wcmljZTogc3RyaW5nOyBcbiAgICBhdHRyaWJ1dGVzPzogQXJyYXk8eyBzbHVnOiBzdHJpbmc7IG9wdGlvbjogc3RyaW5nIH0+OyBcbiAgfSwgdmFyaWFudE5hbWU6IHN0cmluZykgPT4ge1xuICAgIGNvbnNvbGUubG9nKCfwn5uSIGhhbmRsZUFkZFRvQ2FydFdpdGhWYXJpYXRpb24gY2FsbGVkIHdpdGg6JywgdmFyaWF0aW9uLCB2YXJpYW50TmFtZSk7XG4gICAgY29uc29sZS5sb2coJ/Cfm5IgYWRkSXRlbSBmdW5jdGlvbjonLCBhZGRJdGVtKTtcbiAgICBjb25zb2xlLmxvZygn8J+bkiBvcGVuQ2FydCBmdW5jdGlvbjonLCBvcGVuQ2FydCk7XG4gICAgXG4gICAgc2V0SXNMb2FkaW5nKHRydWUpO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBjYXJ0SXRlbSA9IHtcbiAgICAgICAgaWQ6IHZhcmlhdGlvbi5pZCxcbiAgICAgICAgbmFtZTogYCR7cHJvZHVjdC5uYW1lfSAtICR7dmFyaWFudE5hbWV9YCxcbiAgICAgICAgcHJpY2U6IHBhcnNlRmxvYXQodmFyaWF0aW9uLnByaWNlKSxcbiAgICAgICAgcmVndWxhcl9wcmljZTogcGFyc2VGbG9hdCh2YXJpYXRpb24ucmVndWxhcl9wcmljZSksXG4gICAgICAgIHNhbGVfcHJpY2U6IHBhcnNlRmxvYXQodmFyaWF0aW9uLnNhbGVfcHJpY2UpLFxuICAgICAgICBpbWFnZTogaW1hZ2VVcmwsXG4gICAgICAgIHBlcm1hbGluazogYC9wcm9kdWt0LyR7cHJvZHVjdC5zbHVnfWAsXG4gICAgICB9O1xuXG4gICAgICBjb25zb2xlLmxvZygn8J+bkiBBZGRpbmcgdmFyaWF0aW9uIHRvIGNhcnQ6JywgY2FydEl0ZW0pO1xuICAgICAgY29uc29sZS5sb2coJ/Cfm5IgQ2FsbGluZyBhZGRJdGVtLi4uJyk7XG4gICAgICBhZGRJdGVtKGNhcnRJdGVtKTtcbiAgICAgIGNvbnNvbGUubG9nKCfwn5uSIGFkZEl0ZW0gY2FsbGVkLCBub3cgY2FsbGluZyBvcGVuQ2FydC4uLicpO1xuICAgICAgb3BlbkNhcnQoKTtcbiAgICAgIGNvbnNvbGUubG9nKCfwn5uSIG9wZW5DYXJ0IGNhbGxlZCcpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdCxYLEhWQgZG9kYXdhbmlhIHdhcmlhbnR1IGRvIGtvc3p5a2E6JywgZXJyb3IpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xuICAgIH1cbiAgfTtcblxuICAvLyBHZXQgYXZhaWxhYmxlIHZhcmlhbnRzIGZyb20gbG9hZGVkIHZhcmlhdGlvbnNcbiAgY29uc3QgZ2V0QXZhaWxhYmxlVmFyaWFudHMgPSAoKSA9PiB7XG4gICAgY29uc29sZS5sb2coJ/CflIQgZ2V0QXZhaWxhYmxlVmFyaWFudHMgY2FsbGVkIC0gdmFyaWF0aW9uczonLCB2YXJpYXRpb25zKTtcbiAgICBjb25zb2xlLmxvZygn8J+UhCB2YXJpYXRpb25zLmxlbmd0aDonLCB2YXJpYXRpb25zLmxlbmd0aCk7XG4gICAgY29uc29sZS5sb2coJ/CflIQgdmFyaWF0aW9uc0xvYWRlZDonLCB2YXJpYXRpb25zTG9hZGVkKTtcbiAgICBcbiAgICBpZiAodmFyaWF0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCB2YXJpYW50cyA9IHZhcmlhdGlvbnMubWFwKCh2YXJpYXRpb246IGFueSkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZygn8J+UhCBQcm9jZXNzaW5nIHZhcmlhdGlvbjonLCB2YXJpYXRpb24pO1xuICAgICAgICAvLyBabmFqZMW6IHBpZXJ3c3p5IGRvc3TEmXBueSBhdHJ5YnV0IChwb2plbW5vxZvEhywga29sb3IsIHJvem1pYXIsIGV0Yy4pXG4gICAgICAgIGNvbnN0IGZpcnN0QXR0ciA9IHZhcmlhdGlvbi5hdHRyaWJ1dGVzPy5maW5kKChhdHRyOiBhbnkpID0+IFxuICAgICAgICAgIGF0dHIuc2x1ZyAmJiBhdHRyLm9wdGlvblxuICAgICAgICApO1xuICAgICAgICBjb25zb2xlLmxvZygn8J+UhCBGaXJzdCBhdHRyIGZvdW5kOicsIGZpcnN0QXR0cik7XG4gICAgICAgIGNvbnN0IHZhcmlhbnROYW1lID0gZmlyc3RBdHRyPy5vcHRpb24gfHwgdmFyaWF0aW9uLm5hbWUgfHwgYFdhcmlhbnQgJHt2YXJpYXRpb24uaWR9YDtcbiAgICAgICAgY29uc29sZS5sb2coJ/CflIQgVmFyaWFudCBuYW1lOicsIHZhcmlhbnROYW1lKTtcbiAgICAgICAgcmV0dXJuIHZhcmlhbnROYW1lO1xuICAgICAgfSk7XG4gICAgICBjb25zb2xlLmxvZygn8J+UhCBNYXBwZWQgdmFyaWFudHM6JywgdmFyaWFudHMpO1xuICAgICAgcmV0dXJuIHZhcmlhbnRzO1xuICAgIH1cbiAgICBcbiAgICBjb25zb2xlLmxvZygn8J+UhCBObyB2YXJpYXRpb25zLCB0cnlpbmcgcHJvZHVjdCBhdHRyaWJ1dGVzJyk7XG4gICAgLy8gRmFsbGJhY2sgdG8gcHJvZHVjdCBhdHRyaWJ1dGVzIC0gem5hamTFuiBwaWVyd3N6eSBhdHJ5YnV0IHogb3BjamFtaVxuICAgIGlmICghcHJvZHVjdC5hdHRyaWJ1dGVzKSB7XG4gICAgICBjb25zb2xlLmxvZygn8J+UhCBObyBwcm9kdWN0IGF0dHJpYnV0ZXMnKTtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgY29uc3QgZmlyc3RBdHRyV2l0aE9wdGlvbnMgPSBwcm9kdWN0LmF0dHJpYnV0ZXMuZmluZCgoYXR0cikgPT4gXG4gICAgICAoYXR0ciBhcyBhbnkpLm9wdGlvbnMgJiYgKGF0dHIgYXMgYW55KS5vcHRpb25zLmxlbmd0aCA+IDBcbiAgICApO1xuICAgIGlmICghZmlyc3RBdHRyV2l0aE9wdGlvbnMpIHtcbiAgICAgIGNvbnNvbGUubG9nKCfwn5SEIE5vIGF0dHJpYnV0ZXMgd2l0aCBvcHRpb25zJyk7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIGNvbnN0IG9wdHMgPSAoZmlyc3RBdHRyV2l0aE9wdGlvbnMgYXMgYW55KS5vcHRpb25zIHx8IFtdO1xuICAgIGNvbnNvbGUubG9nKCfwn5SEIFByb2R1Y3QgYXR0cmlidXRlIG9wdGlvbnM6Jywgb3B0cyk7XG4gICAgcmV0dXJuIG9wdHMubWFwKChvOiBhbnkpID0+IHtcbiAgICAgIGlmICh0eXBlb2YgbyA9PT0gJ3N0cmluZycpIHJldHVybiBvO1xuICAgICAgaWYgKHR5cGVvZiBvID09PSAnb2JqZWN0JyAmJiBvLm5hbWUpIHJldHVybiBvLm5hbWU7XG4gICAgICBpZiAodHlwZW9mIG8gPT09ICdvYmplY3QnICYmIG8uc2x1ZykgcmV0dXJuIG8uc2x1ZztcbiAgICAgIHJldHVybiBTdHJpbmcobyk7XG4gICAgfSkuZmlsdGVyKEJvb2xlYW4pO1xuICB9O1xuXG4gIC8vIEdldCBhdHRyaWJ1dGUgbmFtZSBmb3IgZGlzcGxheVxuICBjb25zdCBnZXRBdHRyaWJ1dGVOYW1lID0gKCkgPT4ge1xuICAgIGlmICh2YXJpYXRpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IGZpcnN0VmFyaWF0aW9uID0gdmFyaWF0aW9uc1swXTtcbiAgICAgIGNvbnN0IGZpcnN0QXR0ciA9IGZpcnN0VmFyaWF0aW9uLmF0dHJpYnV0ZXM/LmZpbmQoKGF0dHI6IHsgc2x1Zzogc3RyaW5nOyBvcHRpb246IHN0cmluZyB9KSA9PiBcbiAgICAgICAgYXR0ci5zbHVnICYmIGF0dHIub3B0aW9uXG4gICAgICApO1xuICAgICAgaWYgKGZpcnN0QXR0cikge1xuICAgICAgICAvLyBNYXAgY29tbW9uIGF0dHJpYnV0ZSBzbHVncyB0byBkaXNwbGF5IG5hbWVzXG4gICAgICAgIGNvbnN0IGF0dHJOYW1lczogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfSA9IHtcbiAgICAgICAgICAncGFfcG9qZW1ub3NjJzogJ1BvamVtbm/Fm8SHJyxcbiAgICAgICAgICAncGFfa29sb3InOiAnS29sb3InLFxuICAgICAgICAgICdwYV9yb3ptaWFyJzogJ1Jvem1pYXInLFxuICAgICAgICAgICdwYV9tYXRlcmlhbCc6ICdNYXRlcmlhxYInLFxuICAgICAgICAgICdwYV90eXAnOiAnVHlwJ1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gYXR0ck5hbWVzW2ZpcnN0QXR0ci5zbHVnXSB8fCBmaXJzdEF0dHIuc2x1Zy5yZXBsYWNlKCdwYV8nLCAnJykucmVwbGFjZSgnXycsICcgJykudG9VcHBlckNhc2UoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLy8gRmFsbGJhY2sgdG8gcHJvZHVjdCBhdHRyaWJ1dGVzXG4gICAgaWYgKHByb2R1Y3QuYXR0cmlidXRlcyAmJiBwcm9kdWN0LmF0dHJpYnV0ZXMubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgZmlyc3RBdHRyID0gcHJvZHVjdC5hdHRyaWJ1dGVzLmZpbmQoKGF0dHIpID0+IFxuICAgICAgICAoYXR0ciBhcyBhbnkpLm9wdGlvbnMgJiYgKGF0dHIgYXMgYW55KS5vcHRpb25zLmxlbmd0aCA+IDBcbiAgICAgICk7XG4gICAgICByZXR1cm4gKGZpcnN0QXR0ciBhcyBhbnkpPy5uYW1lIHx8ICdXYXJpYW50JztcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuICdXYXJpYW50JztcbiAgfTtcblxuICBjb25zdCBpc09uU2FsZSA9IHdvb0NvbW1lcmNlU2VydmljZS5pc1Byb2R1Y3RPblNhbGUocHJvZHVjdCk7XG4gIGNvbnN0IGRpc2NvdW50ID0gd29vQ29tbWVyY2VTZXJ2aWNlLmdldFByb2R1Y3REaXNjb3VudChwcm9kdWN0KTtcbiAgLy8gSGFuZGxlIGJvdGggZnVsbCBXb29Qcm9kdWN0IGFuZCBzaW1wbGlmaWVkIEFQSSBkYXRhXG4gIGNvbnN0IGltYWdlVXJsID0gKCgpID0+IHtcbiAgICAvLyBDaGVjayBpZiBwcm9kdWN0IGhhcyBpbWFnZXMgYXJyYXkgKGZ1bGwgV29vUHJvZHVjdCBmb3JtYXQpXG4gICAgaWYgKEFycmF5LmlzQXJyYXkoKHByb2R1Y3QgYXMgV29vUHJvZHVjdCkuaW1hZ2VzKSAmJiAocHJvZHVjdCBhcyBXb29Qcm9kdWN0KS5pbWFnZXMubGVuZ3RoID4gMCkge1xuICAgICAgcmV0dXJuIHdvb0NvbW1lcmNlU2VydmljZS5nZXRQcm9kdWN0SW1hZ2VVcmwocHJvZHVjdCwgJ21lZGl1bScpO1xuICAgIH1cbiAgICBcbiAgICAvLyBDaGVjayBpZiBwcm9kdWN0IGhhcyBzaW5nbGUgaW1hZ2UgcHJvcGVydHkgKHNpbXBsaWZpZWQgQVBJIGZvcm1hdClcbiAgICBpZiAodHlwZW9mIChwcm9kdWN0IGFzIHsgaW1hZ2U/OiBzdHJpbmcgfSkuaW1hZ2UgPT09ICdzdHJpbmcnICYmIChwcm9kdWN0IGFzIHsgaW1hZ2U/OiBzdHJpbmcgfSkuaW1hZ2UpIHtcbiAgICAgIGNvbnN0IGltYWdlVXJsID0gKHByb2R1Y3QgYXMgYW55KS5pbWFnZTtcbiAgICAgIC8vIENvbnZlcnQgdG8gaGlnaGVyIHF1YWxpdHkgaW1hZ2UgYnkgcmVwbGFjaW5nIHNpemUgc3VmZml4XG4gICAgICBpZiAoaW1hZ2VVcmwuaW5jbHVkZXMoJy0zMDB4MzAwLicpKSB7XG4gICAgICAgIHJldHVybiBpbWFnZVVybC5yZXBsYWNlKCctMzAweDMwMC4nLCAnLTYwMHg2MDAuJyk7XG4gICAgICB9IGVsc2UgaWYgKGltYWdlVXJsLmluY2x1ZGVzKCctMTUweDE1MC4nKSkge1xuICAgICAgICByZXR1cm4gaW1hZ2VVcmwucmVwbGFjZSgnLTE1MHgxNTAuJywgJy02MDB4NjAwLicpO1xuICAgICAgfSBlbHNlIGlmIChpbWFnZVVybC5pbmNsdWRlcygnLTEwMHgxMDAuJykpIHtcbiAgICAgICAgcmV0dXJuIGltYWdlVXJsLnJlcGxhY2UoJy0xMDB4MTAwLicsICctNjAweDYwMC4nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpbWFnZVVybDtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuICcvaW1hZ2VzL3BsYWNlaG9sZGVyLXByb2R1Y3QuanBnJztcbiAgfSkoKTtcbiAgY29uc3QgcHJpY2UgPSB3b29Db21tZXJjZVNlcnZpY2UuZm9ybWF0UHJpY2UocHJvZHVjdC5wcmljZSk7XG4gIGNvbnN0IHJlZ3VsYXJQcmljZSA9IHdvb0NvbW1lcmNlU2VydmljZS5mb3JtYXRQcmljZShwcm9kdWN0LnJlZ3VsYXJfcHJpY2UpO1xuXG4gIC8vIEhlbHBlciBmdW5jdGlvbiB0byBnZXQgYnJhbmQgZnJvbSBhdHRyaWJ1dGVzXG4gIGNvbnN0IGdldEJyYW5kID0gKCk6IHN0cmluZyB8IG51bGwgPT4ge1xuICAgIGlmICghcHJvZHVjdC5hdHRyaWJ1dGVzKSByZXR1cm4gbnVsbDtcbiAgICBjb25zdCBicmFuZEF0dHIgPSBwcm9kdWN0LmF0dHJpYnV0ZXMuZmluZCgoYXR0cjogeyBuYW1lOiBzdHJpbmc7IG9wdGlvbnM6IHN0cmluZ1tdIH0pID0+IFxuICAgICAgYXR0ci5uYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ21hcmthJylcbiAgICApO1xuICAgIGlmICghYnJhbmRBdHRyKSByZXR1cm4gbnVsbDtcbiAgICBjb25zdCBmaXJzdCA9IGJyYW5kQXR0ci5vcHRpb25zPy5bMF07XG4gICAgaWYgKCFmaXJzdCkgcmV0dXJuIG51bGw7XG4gICAgcmV0dXJuIHR5cGVvZiBmaXJzdCA9PT0gJ3N0cmluZycgPyBmaXJzdCA6IChmaXJzdCBhcyBhbnkpPy5uYW1lIHx8IChmaXJzdCBhcyBhbnkpPy5zbHVnIHx8IFN0cmluZyhmaXJzdCk7XG4gIH07XG5cbiAgLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGdldCBtYWluIGNhdGVnb3J5IChwYXJlbnQ6IDApXG4gIGNvbnN0IGdldE1haW5DYXRlZ29yeSA9ICgpOiBzdHJpbmcgfCBudWxsID0+IHtcbiAgICBjb25zdCBjYXRzID0gKHByb2R1Y3QgYXMgeyBjYXRlZ29yaWVzPzogQXJyYXk8eyBuYW1lOiBzdHJpbmcgfT4gfSkuY2F0ZWdvcmllcztcbiAgICBpZiAoIWNhdHMgfHwgY2F0cy5sZW5ndGggPT09IDApIHJldHVybiBudWxsO1xuICAgIFxuICAgIC8vIE1haW4gY2F0ZWdvcmllcyAocGFyZW50OiAwKSBhcmU6IE1lem90ZXJhcGlhLCBQZWVsaW5naSwgU3R5bXVsYXRvcnksIFd5cGXFgm5pYWN6ZVxuICAgIGNvbnN0IG1haW5DYXRlZ29yaWVzID0gWydNZXpvdGVyYXBpYScsICdQZWVsaW5naScsICdTdHltdWxhdG9yeScsICdXeXBlxYJuaWFjemUnXTtcbiAgICBcbiAgICAvLyBGaW5kIHRoZSBmaXJzdCBtYWluIGNhdGVnb3J5IGluIHRoZSBwcm9kdWN0J3MgY2F0ZWdvcmllc1xuICAgIGNvbnN0IG1haW4gPSBjYXRzLmZpbmQoKGMpID0+IHtcbiAgICAgIGNvbnN0IGNhdGVnb3J5TmFtZSA9IHR5cGVvZiBjID09PSAnc3RyaW5nJyA/IGMgOiBjPy5uYW1lO1xuICAgICAgcmV0dXJuIGNhdGVnb3J5TmFtZSAmJiBtYWluQ2F0ZWdvcmllcy5pbmNsdWRlcyhjYXRlZ29yeU5hbWUpO1xuICAgIH0pO1xuICAgIFxuICAgIGlmIChtYWluKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIG1haW4gPT09ICdzdHJpbmcnID8gbWFpbiA6IG1haW4/Lm5hbWU7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiBudWxsO1xuICB9O1xuXG4gIGNvbnN0IHJlbmRlclByaWNlID0gKCkgPT4ge1xuICAgIGlmIChpc09uU2FsZSkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1ib2xkIHRleHQtZm9yZWdyb3VuZFwiPntwcmljZX08L3NwYW4+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LW11dGVkLWZvcmVncm91bmQgbGluZS10aHJvdWdoXCI+e3JlZ3VsYXJQcmljZX08L3NwYW4+XG4gICAgICAgICAgPEJhZGdlIHZhcmlhbnQ9XCJkZXN0cnVjdGl2ZVwiIGNsYXNzTmFtZT1cInRleHQteHNcIj5cbiAgICAgICAgICAgIC17ZGlzY291bnR9JVxuICAgICAgICAgIDwvQmFkZ2U+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1ib2xkIHRleHQtZm9yZWdyb3VuZFwiPntwcmljZX08L3NwYW4+O1xuICB9O1xuXG4gIGNvbnN0IHJlbmRlclJhdGluZyA9ICgpID0+IHtcbiAgICBjb25zdCByYXRpbmcgPSBwYXJzZUZsb2F0KHByb2R1Y3QuYXZlcmFnZV9yYXRpbmcpO1xuICAgIGlmIChpc05hTihyYXRpbmcpIHx8IHJhdGluZyA9PT0gMCkgcmV0dXJuIG51bGw7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMVwiPlxuICAgICAgICA8U3RhciBjbGFzc05hbWU9XCJ3LTQgaC00IGZpbGwtY3VycmVudCB0ZXh0LWZvcmVncm91bmRcIiAvPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiPntyYXRpbmcudG9GaXhlZCgxKX08L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kXCI+KHtwcm9kdWN0LnJhdGluZ19jb3VudH0pPC9zcGFuPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfTtcblxuICBjb25zdCByZW5kZXJTdG9ja1N0YXR1cyA9ICgpID0+IHtcbiAgICBpZiAocHJvZHVjdC5zdG9ja19zdGF0dXMgPT09ICdvdXRvZnN0b2NrJykge1xuICAgICAgcmV0dXJuIDxCYWRnZSB2YXJpYW50PVwic2Vjb25kYXJ5XCIgY2xhc3NOYW1lPVwidGV4dC14c1wiPk5pZWRvc3TEmXBueTwvQmFkZ2U+O1xuICAgIH1cbiAgICBpZiAocHJvZHVjdC5zdG9ja19zdGF0dXMgPT09ICdvbmJhY2tvcmRlcicpIHtcbiAgICAgIHJldHVybiA8QmFkZ2UgdmFyaWFudD1cInNlY29uZGFyeVwiIGNsYXNzTmFtZT1cInRleHQteHNcIj5OYSB6YW3Ds3dpZW5pZTwvQmFkZ2U+O1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcblxuICBpZiAodmFyaWFudCA9PT0gJ2NvbXBhY3QnKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxDYXJkIGNsYXNzTmFtZT1cImdyb3VwIGhvdmVyOnNoYWRvdy1sZyB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0zMDAgYm9yZGVyLWJvcmRlci81MFwiPlxuICAgICAgICA8TGluayBocmVmPXtgL3Byb2R1a3QvJHtwcm9kdWN0LnNsdWd9YH0+XG4gICAgICAgICAgPENhcmRIZWFkZXIgY2xhc3NOYW1lPVwicC0zIHBiLTBcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmUgYXNwZWN0LXNxdWFyZSBvdmVyZmxvdy1oaWRkZW4gcm91bmRlZC1sZ1wiPlxuICAgICAgICAgICAgICA8SW1hZ2VcbiAgICAgICAgICAgICAgICBzcmM9e2ltYWdlVXJsfVxuICAgICAgICAgICAgICAgIGFsdD17cHJvZHVjdC5uYW1lfVxuICAgICAgICAgICAgICAgIHdpZHRoPXszMDB9XG4gICAgICAgICAgICAgICAgaGVpZ2h0PXszMDB9XG4gICAgICAgICAgICAgICAgc2l6ZXM9XCIobWF4LXdpZHRoOiA2NDBweCkgNTB2dywgKG1heC13aWR0aDogMTAyNHB4KSAzM3Z3LCAyNXZ3XCJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgaC1mdWxsIG9iamVjdC1jb3ZlciBncm91cC1ob3ZlcjpzY2FsZS0xMDUgdHJhbnNpdGlvbi10cmFuc2Zvcm0gZHVyYXRpb24tMzAwXCJcbiAgICAgICAgICAgICAgICBsb2FkaW5nPVwibGF6eVwiXG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIHtpc09uU2FsZSAmJiAoXG4gICAgICAgICAgICAgICAgPEJhZGdlIHZhcmlhbnQ9XCJkZXN0cnVjdGl2ZVwiIGNsYXNzTmFtZT1cImFic29sdXRlIHRvcC0yIGxlZnQtMiB0ZXh0LXhzXCI+XG4gICAgICAgICAgICAgICAgICAte2Rpc2NvdW50fSVcbiAgICAgICAgICAgICAgICA8L0JhZGdlPlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9DYXJkSGVhZGVyPlxuICAgICAgICAgIDxDYXJkQ29udGVudCBjbGFzc05hbWU9XCJweC01IHB5LTJcIj5cbiAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJmb250LW1lZGl1bSB0ZXh0LXNtIHRleHQtZm9yZWdyb3VuZCBsaW5lLWNsYW1wLTIgbWItMVwiPlxuICAgICAgICAgICAgICB7cHJvZHVjdC5uYW1lfVxuICAgICAgICAgICAgPC9oMz5cbiAgICAgICAgICAgIHtyZW5kZXJQcmljZSgpfVxuICAgICAgICAgICAge3JlbmRlclJhdGluZygpfVxuICAgICAgICAgIDwvQ2FyZENvbnRlbnQ+XG4gICAgICAgIDwvTGluaz5cbiAgICAgIDwvQ2FyZD5cbiAgICApO1xuICB9XG5cbiAgaWYgKHZhcmlhbnQgPT09ICdmZWF0dXJlZCcpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPENhcmQgY2xhc3NOYW1lPVwiZ3JvdXAgaG92ZXI6c2hhZG93LXhsIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTMwMCBib3JkZXItYm9yZGVyLzUwIGJnLWdyYWRpZW50LXRvLWJyIGZyb20tYmFja2dyb3VuZCB0by1tdXRlZC8yMFwiPlxuICAgICAgICA8TGluayBocmVmPXtgL3Byb2R1a3QvJHtwcm9kdWN0LnNsdWd9YH0+XG4gICAgICAgICAgPENhcmRIZWFkZXIgY2xhc3NOYW1lPVwicC00IHBiLTBcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmUgYXNwZWN0LXNxdWFyZSBvdmVyZmxvdy1oaWRkZW4gcm91bmRlZC1sZ1wiPlxuICAgICAgICAgICAgICA8SW1hZ2VcbiAgICAgICAgICAgICAgICBzcmM9e2ltYWdlVXJsfVxuICAgICAgICAgICAgICAgIGFsdD17cHJvZHVjdC5uYW1lfVxuICAgICAgICAgICAgICAgIHdpZHRoPXszMDB9XG4gICAgICAgICAgICAgICAgaGVpZ2h0PXszMDB9XG4gICAgICAgICAgICAgICAgc2l6ZXM9XCIobWF4LXdpZHRoOiA2NDBweCkgNTB2dywgKG1heC13aWR0aDogMTAyNHB4KSAzM3Z3LCAyNXZ3XCJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgaC1mdWxsIG9iamVjdC1jb3ZlciBncm91cC1ob3ZlcjpzY2FsZS0xMDUgdHJhbnNpdGlvbi10cmFuc2Zvcm0gZHVyYXRpb24tMzAwXCJcbiAgICAgICAgICAgICAgICBsb2FkaW5nPVwibGF6eVwiXG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIHtpc09uU2FsZSAmJiAoXG4gICAgICAgICAgICAgICAgPEJhZGdlIHZhcmlhbnQ9XCJkZXN0cnVjdGl2ZVwiIGNsYXNzTmFtZT1cImFic29sdXRlIHRvcC0zIGxlZnQtMyB0ZXh0LXNtIGJvcmRlci0yIGJvcmRlci1kZXN0cnVjdGl2ZS8yMCByb3VuZGVkLXhsIHB4LTMgcHktMVwiPlxuICAgICAgICAgICAgICAgICAgLXtkaXNjb3VudH0lXG4gICAgICAgICAgICAgICAgPC9CYWRnZT5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAge3Byb2R1Y3QuZmVhdHVyZWQgJiYgIWlzT25TYWxlICYmIChcbiAgICAgICAgICAgICAgICA8QmFkZ2UgY2xhc3NOYW1lPVwiYWJzb2x1dGUgdG9wLTMgcmlnaHQtMyB0ZXh0LXNtIGJnLXByaW1hcnkgdGV4dC1wcmltYXJ5LWZvcmVncm91bmQgYm9yZGVyLTIgYm9yZGVyLXByaW1hcnkvMjAgcm91bmRlZC14bCBweC0zIHB5LTFcIj5cbiAgICAgICAgICAgICAgICAgIFBvbGVjYW55XG4gICAgICAgICAgICAgICAgPC9CYWRnZT5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAge2lzT25TYWxlICYmIHByb2R1Y3QuZmVhdHVyZWQgJiYgKFxuICAgICAgICAgICAgICAgIDxCYWRnZSBjbGFzc05hbWU9XCJhYnNvbHV0ZSB0b3AtMyByaWdodC0zIHRleHQtc20gYmctYW1iZXItNjAwIHRleHQtd2hpdGUgYm9yZGVyLTIgYm9yZGVyLWFtYmVyLTUwMC8yMCByb3VuZGVkLXhsIHB4LTMgcHktMVwiPlxuICAgICAgICAgICAgICAgICAgUHJvbW9jamFcbiAgICAgICAgICAgICAgICA8L0JhZGdlPlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9DYXJkSGVhZGVyPlxuICAgICAgICAgIDxDYXJkQ29udGVudCBjbGFzc05hbWU9XCJweC02IHB5LTNcIj5cbiAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIHRleHQtbGcgdGV4dC1mb3JlZ3JvdW5kIGxpbmUtY2xhbXAtMiBtYi0yXCI+XG4gICAgICAgICAgICAgIHtwcm9kdWN0Lm5hbWV9XG4gICAgICAgICAgICA8L2gzPlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LW11dGVkLWZvcmVncm91bmQgbGluZS1jbGFtcC0yIG1iLTNcIj5cbiAgICAgICAgICAgICAge3Byb2R1Y3Quc2hvcnRfZGVzY3JpcHRpb259XG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICB7cmVuZGVyUHJpY2UoKX1cbiAgICAgICAgICAgIHtyZW5kZXJSYXRpbmcoKX1cbiAgICAgICAgICAgIHtyZW5kZXJTdG9ja1N0YXR1cygpfVxuICAgICAgICAgIDwvQ2FyZENvbnRlbnQ+XG4gICAgICAgIDwvTGluaz5cbiAgICAgICAge3Nob3dBY3Rpb25zICYmIChcbiAgICAgICAgICA8Q2FyZEZvb3RlciBjbGFzc05hbWU9XCJweC02IHB0LTAgcGItNFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGdhcC0yIHctZnVsbFwiPlxuICAgICAgICAgICAgICB7cHJvZHVjdC50eXBlID09PSAndmFyaWFibGUnICYmIGlzRHJvcGRvd25PcGVuID8gKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIHNwYWNlLXktMlwiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDAgbWItMlwiPld5Ymllcnogd2FyaWFudDo8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LXdyYXAgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAge2dldEF2YWlsYWJsZVZhcmlhbnRzKCkubWFwKCh2YXJpYW50OiBzdHJpbmcpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk9e3ZhcmlhbnR9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVWYXJpYW50U2VsZWN0KHZhcmlhbnQpfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgcHgtMyBweS0yIHRleHQtc20gcm91bmRlZC1sZyBib3JkZXIgdHJhbnNpdGlvbi1jb2xvcnMgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRWYXJpYW50ID09PSB2YXJpYW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnYmctYmxhY2sgdGV4dC13aGl0ZSBib3JkZXItYmxhY2snXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAnYmctd2hpdGUgdGV4dC1ncmF5LTcwMCBib3JkZXItZ3JheS0zMDAgaG92ZXI6Ym9yZGVyLWJsYWNrJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAge3ZhcmlhbnR9XG4gICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICB7c2VsZWN0ZWRWYXJpYW50ICYmIChcbiAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiBcbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVBZGRUb0NhcnR9XG4gICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzTG9hZGluZyB8fCBwcm9kdWN0LnN0b2NrX3N0YXR1cyA9PT0gJ291dG9mc3RvY2snfVxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBoLTEyIHB5LTYgaG92ZXI6YmctYmxhY2sgaG92ZXI6dGV4dC13aGl0ZSB0cmFuc2l0aW9uLWNvbG9ycyB0ZXh0LWJhc2VcIlxuICAgICAgICAgICAgICAgICAgICAgIHNpemU9XCJzbVwiXG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICA8U2hvcHBpbmdDYXJ0IGNsYXNzTmFtZT1cInctNCBoLTQgbXItMlwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAge2lzTG9hZGluZyA/ICdEb2Rhd2FuaWUuLi4nIDogYERvZGFqICR7c2VsZWN0ZWRWYXJpYW50fSBkbyBrb3N6eWthYH1cbiAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgIDxCdXR0b24gXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVBZGRUb0NhcnRXaXRoVmFyaWFudH1cbiAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtpc0xvYWRpbmcgfHwgcHJvZHVjdC5zdG9ja19zdGF0dXMgPT09ICdvdXRvZnN0b2NrJ31cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXgtMSBoLTEwIHB5LTIgaG92ZXI6YmctYmxhY2sgaG92ZXI6dGV4dC13aGl0ZSB0cmFuc2l0aW9uLWNvbG9ycyB0ZXh0LXNtXCJcbiAgICAgICAgICAgICAgICAgIHNpemU9XCJzbVwiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPFNob3BwaW5nQ2FydCBjbGFzc05hbWU9XCJ3LTQgaC00IG1yLTJcIiAvPlxuICAgICAgICAgICAgICAgICAge2lzTG9hZGluZyA/ICdEb2Rhd2FuaWUuLi4nIDogKHByb2R1Y3QudHlwZSA9PT0gJ3ZhcmlhYmxlJyA/ICdXeWJpZXJ6IHdhcmlhbnQnIDogJ0RvZGFqIGRvIGtvc3p5a2EnKX1cbiAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJvdXRsaW5lXCJcbiAgICAgICAgICAgICAgICBzaXplPVwic21cIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVF1aWNrVmlld31cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC0zIGgtMTAgaG92ZXI6YmctYmxhY2sgaG92ZXI6dGV4dC13aGl0ZSB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cIlN6eWJraSBwb2RnbMSFZFwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8RXllIGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPlxuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJvdXRsaW5lXCJcbiAgICAgICAgICAgICAgICBzaXplPVwic21cIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVRvZ2dsZUZhdm9yaXRlfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YHB4LTMgaC0xMCBob3ZlcjpiZy1ibGFjayBob3Zlcjp0ZXh0LXdoaXRlIHRyYW5zaXRpb24tY29sb3JzICR7aXNDbGllbnQgJiYgaXNGYXZvcml0ZShwcm9kdWN0LmlkKSA/ICd0ZXh0LWRlc3RydWN0aXZlJyA6ICcnfWB9XG4gICAgICAgICAgICAgICAgYXJpYS1sYWJlbD17aXNDbGllbnQgJiYgaXNGYXZvcml0ZShwcm9kdWN0LmlkKSA/IFwiVXN1xYQgeiB1bHViaW9ueWNoXCIgOiBcIkRvZGFqIGRvIHVsdWJpb255Y2hcIn1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxIZWFydCBjbGFzc05hbWU9e2B3LTQgaC00ICR7aXNDbGllbnQgJiYgaXNGYXZvcml0ZShwcm9kdWN0LmlkKSA/ICdmaWxsLWN1cnJlbnQnIDogJyd9YH0gLz5cbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgIHsvKiBXaXNobGlzdCBidXR0b24gcmVtb3ZlZCAqL31cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvQ2FyZEZvb3Rlcj5cbiAgICAgICAgKX1cbiAgICAgICAgXG4gICAgICAgIHsvKiBRdWljayBWaWV3IE1vZGFsICovfVxuICAgICAgICA8UXVpY2tWaWV3TW9kYWxcbiAgICAgICAgICBpc09wZW49e2lzUXVpY2tWaWV3T3Blbn1cbiAgICAgICAgICBvbkNsb3NlPXsoKSA9PiBzZXRJc1F1aWNrVmlld09wZW4oZmFsc2UpfVxuICAgICAgICAgIHByb2R1Y3Q9e3Byb2R1Y3R9XG4gICAgICAgIC8+XG4gICAgICA8L0NhcmQ+XG4gICAgKTtcbiAgfVxuXG4gIC8vIExpc3QgdmFyaWFudCAtIGhvcml6b250YWwgbGF5b3V0XG4gIGlmICh2YXJpYW50ID09PSAnbGlzdCcpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPENhcmQgXG4gICAgICAgIGNsYXNzTmFtZT1cImdyb3VwIGhvdmVyOnNoYWRvdy1sZyB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0zMDAgYm9yZGVyLWdyYXktMjAwIHJvdW5kZWQteGwgb3ZlcmZsb3ctaGlkZGVuIHJlbGF0aXZlXCJcbiAgICAgICAgb25Nb3VzZUVudGVyPXsoKSA9PiB7XG4gICAgICAgICAgc2V0SXNIb3ZlcmVkKHRydWUpO1xuICAgICAgICAgIC8vIExvYWQgdmFyaWF0aW9ucyBvbiBob3ZlciBmb3IgdmFyaWFibGUgcHJvZHVjdHNcbiAgICAgICAgICBpZiAocHJvZHVjdC50eXBlID09PSAndmFyaWFibGUnICYmICF2YXJpYXRpb25zTG9hZGVkKSB7XG4gICAgICAgICAgICBoYW5kbGVTaG93VmFyaWFudHMoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH19XG4gICAgICAgIG9uTW91c2VMZWF2ZT17KCkgPT4ge1xuICAgICAgICAgIHNldElzSG92ZXJlZChmYWxzZSk7XG4gICAgICAgIH19XG4gICAgICA+XG4gICAgICAgIDxMaW5rIGhyZWY9e2AvcHJvZHVrdC8ke3Byb2R1Y3Quc2x1Z31gfSBjbGFzc05hbWU9XCJmbGV4IGgtNDBcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNDAgaC00MCBmbGV4LXNocmluay0wIHJlbGF0aXZlXCI+XG4gICAgICAgICAgICA8SW1hZ2VcbiAgICAgICAgICAgICAgc3JjPXtpbWFnZVVybH1cbiAgICAgICAgICAgICAgYWx0PXtwcm9kdWN0Lm5hbWV9XG4gICAgICAgICAgICAgIHdpZHRoPXsxNjB9XG4gICAgICAgICAgICAgIGhlaWdodD17MTYwfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgaC1mdWxsIG9iamVjdC1jb3ZlciBncm91cC1ob3ZlcjpzY2FsZS0xMDUgdHJhbnNpdGlvbi10cmFuc2Zvcm0gZHVyYXRpb24tMzAwXCJcbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHsvKiBCYWRnZSAqL31cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgdG9wLTIgbGVmdC0yXCI+XG4gICAgICAgICAgICAgIHtpc09uU2FsZSA/IChcbiAgICAgICAgICAgICAgICA8QmFkZ2UgY2xhc3NOYW1lPVwiYmctcmVkLTEwMCB0ZXh0LXJlZC04MDAgdGV4dC14cyBweC0yIHB5LTEgcm91bmRlZC1mdWxsIGJvcmRlci0wXCI+XG4gICAgICAgICAgICAgICAgICBQcm9tb2NqYVxuICAgICAgICAgICAgICAgIDwvQmFkZ2U+XG4gICAgICAgICAgICAgICkgOiBwcm9kdWN0LmZlYXR1cmVkID8gKFxuICAgICAgICAgICAgICAgIDxCYWRnZSBjbGFzc05hbWU9XCJiZy1ncmVlbi0xMDAgdGV4dC1ncmVlbi04MDAgdGV4dC14cyBweC0yIHB5LTEgcm91bmRlZC1mdWxsIGJvcmRlci0wXCI+XG4gICAgICAgICAgICAgICAgICBQb2xlY2FueVxuICAgICAgICAgICAgICAgIDwvQmFkZ2U+XG4gICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTEgcHgtNiBweS00IGZsZXggZmxleC1jb2wganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCB0ZXh0LWxnIHRleHQtZ3JheS05MDAgZ3JvdXAtaG92ZXI6dGV4dC1ibGFjayB0cmFuc2l0aW9uLWNvbG9ycyBsaW5lLWNsYW1wLTJcIj5cbiAgICAgICAgICAgICAgICB7cHJvZHVjdC5uYW1lfVxuICAgICAgICAgICAgICA8L2gzPlxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMVwiPlxuICAgICAgICAgICAgICAgIHtyZW5kZXJQcmljZSgpfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMVwiPlxuICAgICAgICAgICAgICAgIHtyZW5kZXJSYXRpbmcoKX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTFcIj5cbiAgICAgICAgICAgICAgICB7cmVuZGVyU3RvY2tTdGF0dXMoKX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAge3Nob3dBY3Rpb25zICYmIChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtNCBtdC00XCI+XG4gICAgICAgICAgICAgICAge3Byb2R1Y3QudHlwZSA9PT0gJ3ZhcmlhYmxlJyA/IChcbiAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVTaG93VmFyaWFudHMoKTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgc2l6ZT1cInNtXCJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmctYmxhY2sgaG92ZXI6YmctZ3JheS04MDAgdGV4dC13aGl0ZSBweC04IHB5LTMgdGV4dC1zbSBmb250LW1lZGl1bSByb3VuZGVkLWxnXCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgV3liaWVyeiB3YXJpYW50XG4gICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZUFkZFRvQ2FydCgpO1xuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17cHJvZHVjdC5zdG9ja19zdGF0dXMgPT09ICdvdXRvZnN0b2NrJyB8fCBpc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICAgIHNpemU9XCJzbVwiXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJnLWJsYWNrIGhvdmVyOmJnLWdyYXktODAwIHRleHQtd2hpdGUgcHgtOCBweS0zIHRleHQtc20gZm9udC1tZWRpdW0gcm91bmRlZC1sZ1wiXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIHtpc0xvYWRpbmcgPyAnRG9kYXdhbmllLi4uJyA6ICdEb2RhaiBkbyBrb3N6eWthJ31cbiAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgdmFyaWFudD1cIm91dGxpbmVcIlxuICAgICAgICAgICAgICAgICAgc2l6ZT1cInNtXCJcbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlUXVpY2tWaWV3KCk7XG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtNCBweS0zIGgtMTAgdy0xMCByb3VuZGVkLWxnIGJvcmRlci1ncmF5LTIwMCBob3Zlcjpib3JkZXItZ3JheS0zMDBcIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDxFeWUgY2xhc3NOYW1lPVwidy00IGgtNFwiIC8+XG4gICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgdmFyaWFudD1cIm91dGxpbmVcIlxuICAgICAgICAgICAgICAgICAgc2l6ZT1cInNtXCJcbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlVG9nZ2xlRmF2b3JpdGUoKTtcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BweC00IHB5LTMgaC0xMCB3LTEwIHJvdW5kZWQtbGcgJHtcbiAgICAgICAgICAgICAgICAgICAgaXNDbGllbnQgJiYgaXNGYXZvcml0ZShwcm9kdWN0LmlkKSA/ICd0ZXh0LXJlZC01MDAgYm9yZGVyLXJlZC0yMDAgYmctcmVkLTUwIGhvdmVyOmJnLXJlZC0xMDAnIDogJ3RleHQtZ3JheS01MDAgYm9yZGVyLWdyYXktMjAwIGhvdmVyOmJvcmRlci1ncmF5LTMwMCdcbiAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDxIZWFydCBjbGFzc05hbWU9e2B3LTQgaC00ICR7aXNDbGllbnQgJiYgaXNGYXZvcml0ZShwcm9kdWN0LmlkKSA/ICdmaWxsLWN1cnJlbnQnIDogJyd9YH0gLz5cbiAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICB7LyogV2lzaGxpc3QgaWNvbiByZW1vdmVkICovfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvTGluaz5cbiAgICAgICAgXG4gICAgICAgIHsvKiBIb3ZlciBvdmVybGF5IHdpdGggdmFyaWFudHMgZm9yIHZhcmlhYmxlIHByb2R1Y3RzIGluIGxpc3QgdmlldyAqL31cbiAgICAgICAge3Byb2R1Y3QudHlwZSA9PT0gJ3ZhcmlhYmxlJyAmJiB2YXJpYXRpb25zLmxlbmd0aCA+IDAgJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgYWJzb2x1dGUgaW5zZXQtMCBiZy13aGl0ZS81MCBiYWNrZHJvcC1ibHVyLXNtIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTMwMCAke1xuICAgICAgICAgICAgaXNIb3ZlcmVkID8gJ29wYWNpdHktMTAwJyA6ICdvcGFjaXR5LTAgcG9pbnRlci1ldmVudHMtbm9uZSdcbiAgICAgICAgICB9YH0+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wganVzdGlmeS1jZW50ZXIgaXRlbXMtY2VudGVyIGgtZnVsbCBwLTZcIj5cbiAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1ib2xkIHRleHQtZ3JheS05MDAgbWItNCB0ZXh0LWNlbnRlclwiPld5Ymllcnogd2FyaWFudDwvaDM+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LXdyYXAgZ2FwLTMganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICB7Z2V0QXZhaWxhYmxlVmFyaWFudHMoKS5tYXAoKHZhcmlhbnQ6IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgICAgY29uc3QgdmFyaWF0aW9uID0gdmFyaWF0aW9ucy5maW5kKCh2OiB7IFxuICAgICAgICAgICAgICAgICAgICBpZDogbnVtYmVyOyBcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlcz86IEFycmF5PHsgc2x1Zzogc3RyaW5nOyBvcHRpb246IHN0cmluZyB9PjsgXG4gICAgICAgICAgICAgICAgICB9KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFpuYWpkxbogd2FyaWFjasSZIGt0w7NyYSBtYSB0ZW4gc2FtIGF0cnlidXRcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlyc3RBdHRyID0gdi5hdHRyaWJ1dGVzPy5maW5kKChhdHRyOiB7IHNsdWc6IHN0cmluZzsgb3B0aW9uOiBzdHJpbmcgfSkgPT4gXG4gICAgICAgICAgICAgICAgICAgICAgYXR0ci5zbHVnICYmIGF0dHIub3B0aW9uXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmaXJzdEF0dHI/Lm9wdGlvbiA9PT0gdmFyaWFudDtcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICBjb25zdCB2YXJpYW50UHJpY2UgPSB2YXJpYXRpb24/LnByaWNlIHx8IHZhcmlhdGlvbj8uc2FsZV9wcmljZSB8fCB2YXJpYXRpb24/LnJlZ3VsYXJfcHJpY2U7XG4gICAgICAgICAgICAgICAgICBjb25zdCBpc09uU2FsZSA9IHZhcmlhdGlvbj8uc2FsZV9wcmljZSAmJiBwYXJzZUZsb2F0KHZhcmlhdGlvbi5zYWxlX3ByaWNlKSA8IHBhcnNlRmxvYXQodmFyaWF0aW9uLnJlZ3VsYXJfcHJpY2UgfHwgJzAnKTtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHJlZ3VsYXJQcmljZSA9IHZhcmlhdGlvbj8ucmVndWxhcl9wcmljZTtcbiAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgIGtleT17dmFyaWFudH1cbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YXJpYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlQWRkVG9DYXJ0V2l0aFZhcmlhdGlvbih2YXJpYXRpb24sIHZhcmlhbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIgcC0zIGJvcmRlciBib3JkZXItZ3JheS0yMDAgcm91bmRlZC14bCBob3Zlcjpib3JkZXItZ3JheS05MDAgaG92ZXI6c2hhZG93LW1kIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTIwMCBiZy13aGl0ZVwiXG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS05MDAgbWItMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAge3ZhcmlhbnR9XG4gICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyBmb250LWJvbGQgdGV4dC1ncmF5LTkwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAge3ZhcmlhbnRQcmljZSAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2lzT25TYWxlID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1yZWQtNjAwXCI+e2Zvcm1hdFByaWNlKHBhcnNlRmxvYXQodmFyaWFudFByaWNlKSl9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cmVndWxhclByaWNlICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwIGxpbmUtdGhyb3VnaCBtbC0xXCI+e2Zvcm1hdFByaWNlKHBhcnNlRmxvYXQocmVndWxhclByaWNlKSl9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPntmb3JtYXRQcmljZShwYXJzZUZsb2F0KHZhcmlhbnRQcmljZSkpfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgICAgXG4gICAgICAgIHsvKiBRdWljayBWaWV3IE1vZGFsICovfVxuICAgICAgICA8UXVpY2tWaWV3TW9kYWxcbiAgICAgICAgICBpc09wZW49e2lzUXVpY2tWaWV3T3Blbn1cbiAgICAgICAgICBvbkNsb3NlPXsoKSA9PiBzZXRJc1F1aWNrVmlld09wZW4oZmFsc2UpfVxuICAgICAgICAgIHByb2R1Y3Q9e3Byb2R1Y3R9XG4gICAgICAgIC8+XG4gICAgICA8L0NhcmQ+XG4gICAgKTtcbiAgfVxuXG4gIC8vIERlZmF1bHQgdmFyaWFudCAtIG1hdGNoaW5nIHRoZSBzY3JlZW5zaG90IGRlc2lnblxuICByZXR1cm4gKFxuICAgIDxDYXJkIFxuICAgICAgY2xhc3NOYW1lPVwiZ3JvdXAgZmxleCBmbGV4LWNvbCBoLWZ1bGwgaG92ZXI6c2hhZG93LWxnIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTMwMCBib3JkZXItZ3JheS0yMDAgcm91bmRlZC0yeGwgc206cm91bmRlZC0zeGwgb3ZlcmZsb3ctaGlkZGVuIHAtMCByZWxhdGl2ZVwiXG4gICAgICBvbk1vdXNlRW50ZXI9eygpID0+IHtcbiAgICAgICAgc2V0SXNIb3ZlcmVkKHRydWUpO1xuICAgICAgICAvLyBMb2FkIHZhcmlhdGlvbnMgb24gaG92ZXIgZm9yIHZhcmlhYmxlIHByb2R1Y3RzXG4gICAgICAgIGlmIChwcm9kdWN0LnR5cGUgPT09ICd2YXJpYWJsZScgJiYgIXZhcmlhdGlvbnNMb2FkZWQpIHtcbiAgICAgICAgICBoYW5kbGVTaG93VmFyaWFudHMoKTtcbiAgICAgICAgfVxuICAgICAgfX1cbiAgICAgIG9uTW91c2VMZWF2ZT17KCkgPT4ge1xuICAgICAgICBzZXRJc0hvdmVyZWQoZmFsc2UpO1xuICAgICAgfX1cbiAgICA+XG4gICAgICA8TGluayBcbiAgICAgICAgaHJlZj17YC9wcm9kdWt0LyR7cHJvZHVjdC5zbHVnfWB9IFxuICAgICAgICBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIGZsZXgtZ3Jvd1wiXG4gICAgICAgIG9uQ2xpY2s9eyhlKSA9PiB7XG4gICAgICAgICAgLy8gUHJldmVudCBuYXZpZ2F0aW9uIGlmIGNsaWNraW5nIG9uIGFjdGlvbiBidXR0b25zXG4gICAgICAgICAgaWYgKChlLnRhcmdldCBhcyBIVE1MRWxlbWVudCkuY2xvc2VzdCgnYnV0dG9uJykpIHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH19XG4gICAgICA+XG4gICAgICAgIDxDYXJkSGVhZGVyIGNsYXNzTmFtZT1cInAtMCByZWxhdGl2ZVwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmUgYXNwZWN0LXNxdWFyZSBvdmVyZmxvdy1oaWRkZW5cIj5cbiAgICAgICAgICAgIDxJbWFnZVxuICAgICAgICAgICAgICBzcmM9e2ltYWdlVXJsfVxuICAgICAgICAgICAgICBhbHQ9e3Byb2R1Y3QubmFtZX1cbiAgICAgICAgICAgICAgd2lkdGg9ezMwMH1cbiAgICAgICAgICAgICAgaGVpZ2h0PXszMDB9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBoLWZ1bGwgb2JqZWN0LWNvdmVyIGdyb3VwLWhvdmVyOnNjYWxlLTEwNSB0cmFuc2l0aW9uLXRyYW5zZm9ybSBkdXJhdGlvbi0zMDBcIlxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgey8qIEJhZGdlIC0gdG9wIGxlZnQgKi99XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIHRvcC0yIGxlZnQtMlwiPlxuICAgICAgICAgICAgICB7dGFiVHlwZSA9PT0gJ3Byb21vY2plJyB8fCBpc09uU2FsZSA/IChcbiAgICAgICAgICAgICAgICA8QmFkZ2UgY2xhc3NOYW1lPVwiYmctcmVkLTEwMCB0ZXh0LXJlZC04MDAgdGV4dC14cyBweC0zIHB5LTEgcm91bmRlZC1mdWxsIGJvcmRlci0wXCI+XG4gICAgICAgICAgICAgICAgICBQcm9tb2NqYVxuICAgICAgICAgICAgICAgIDwvQmFkZ2U+XG4gICAgICAgICAgICAgICkgOiB0YWJUeXBlID09PSAnbm93b3NjaScgPyAoXG4gICAgICAgICAgICAgICAgPEJhZGdlIGNsYXNzTmFtZT1cImJnLWJsdWUtMTAwIHRleHQtYmx1ZS04MDAgdGV4dC14cyBweC0zIHB5LTEgcm91bmRlZC1mdWxsIGJvcmRlci0wXCI+XG4gICAgICAgICAgICAgICAgICBOb3dvxZvEh1xuICAgICAgICAgICAgICAgIDwvQmFkZ2U+XG4gICAgICAgICAgICAgICkgOiB0YWJUeXBlID09PSAncG9sZWNhbmUnIHx8IHByb2R1Y3QuZmVhdHVyZWQgPyAoXG4gICAgICAgICAgICAgICAgPEJhZGdlIGNsYXNzTmFtZT1cImJnLWdyZWVuLTEwMCB0ZXh0LWdyZWVuLTgwMCB0ZXh0LXhzIHB4LTMgcHktMSByb3VuZGVkLWZ1bGwgYm9yZGVyLTBcIj5cbiAgICAgICAgICAgICAgICAgIFBvbGVjYW55XG4gICAgICAgICAgICAgICAgPC9CYWRnZT5cbiAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICA8QmFkZ2UgY2xhc3NOYW1lPVwiYmctYmx1ZS0xMDAgdGV4dC1ibHVlLTgwMCB0ZXh0LXhzIHB4LTMgcHktMSByb3VuZGVkLWZ1bGwgYm9yZGVyLTBcIj5cbiAgICAgICAgICAgICAgICAgIE5vd2/Fm8SHXG4gICAgICAgICAgICAgICAgPC9CYWRnZT5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICB7LyogSWNvbnMgLSB0b3AgcmlnaHQgKi99XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIHRvcC0yIHJpZ2h0LTIgZmxleCBnYXAtMlwiPlxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgb25DbGljaz17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICBoYW5kbGVRdWlja1ZpZXcoKTtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctOCBoLTggYmctd2hpdGUvODAgaG92ZXI6Ymctd2hpdGUgaG92ZXI6c2hhZG93LW1kIHJvdW5kZWQtZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0xNTBcIlxuICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJTenlia2kgcG9kZ2zEhWRcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPEV5ZSBjbGFzc05hbWU9XCJ3LTQgaC00IHRleHQtZ3JheS03MDBcIiAvPlxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgaGFuZGxlVG9nZ2xlRmF2b3JpdGUoKTtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctOCBoLTggYmctd2hpdGUvODAgaG92ZXI6Ymctd2hpdGUgaG92ZXI6c2hhZG93LW1kIHJvdW5kZWQtZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0xNTBcIlxuICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9e2lzQ2xpZW50ICYmIGlzRmF2b3JpdGUocHJvZHVjdC5pZCkgPyBcIlVzdcWEIHogdWx1YmlvbnljaFwiIDogXCJEb2RhaiBkbyB1bHViaW9ueWNoXCJ9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8SGVhcnQgY2xhc3NOYW1lPXtgdy00IGgtNCAke2lzQ2xpZW50ICYmIGlzRmF2b3JpdGUocHJvZHVjdC5pZCkgPyAnZmlsbC1jdXJyZW50IHRleHQtcmVkLTUwMCcgOiAndGV4dC1ncmF5LTcwMCd9YH0gLz5cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIHsvKiBXaXNobGlzdCBpY29uIHJlbW92ZWQgKi99XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L0NhcmRIZWFkZXI+XG4gICAgICAgIFxuICAgICAgICA8Q2FyZENvbnRlbnQgY2xhc3NOYW1lPVwicHgtMyBzbTpweC00IHB5LTIgZmxleC1ncm93XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHNtOnRleHQtc20gdGV4dC1ncmF5LTUwMCBtYi0yIGZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICB7Z2V0TWFpbkNhdGVnb3J5KCkgfHwgJ0JleiBrYXRlZ29yaWknfVxuICAgICAgICAgICAge2dldEJyYW5kKCkgJiYgKFxuICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xIGgtMSBiZy1ncmF5LTMwMCByb3VuZGVkLWZ1bGwgbXgtMlwiPjwvZGl2PlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTQwMFwiPntnZXRCcmFuZCgpfTwvc3Bhbj5cbiAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LWZvcmVncm91bmQgdGV4dC1iYXNlIHNtOnRleHQtbGcgbWItMiBsaW5lLWNsYW1wLTJcIj5cbiAgICAgICAgICAgIHtwcm9kdWN0Lm5hbWV9XG4gICAgICAgICAgPC9wPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1sZyBzbTp0ZXh0LXhsIGZvbnQtYm9sZCB0ZXh0LWZvcmVncm91bmRcIj5cbiAgICAgICAgICAgIHtwcmljZX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9DYXJkQ29udGVudD5cbiAgICAgIDwvTGluaz5cbiAgICAgIFxuICAgICAgey8qIEhvdmVyIG92ZXJsYXkgd2l0aCB2YXJpYW50cyBmb3IgdmFyaWFibGUgcHJvZHVjdHMgKi99XG4gICAgICB7cHJvZHVjdC50eXBlID09PSAndmFyaWFibGUnICYmIHZhcmlhdGlvbnMubGVuZ3RoID4gMCAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgYWJzb2x1dGUgaW5zZXQtMCBiZy13aGl0ZS81MCBiYWNrZHJvcC1ibHVyLXNtIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTMwMCAke1xuICAgICAgICAgIGlzSG92ZXJlZCA/ICdvcGFjaXR5LTEwMCcgOiAnb3BhY2l0eS0wIHBvaW50ZXItZXZlbnRzLW5vbmUnXG4gICAgICAgIH1gfT5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wganVzdGlmeS1jZW50ZXIgaXRlbXMtY2VudGVyIGgtZnVsbCBwLTZcIj5cbiAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtYm9sZCB0ZXh0LWdyYXktOTAwIG1iLTQgdGV4dC1jZW50ZXJcIj5XeWJpZXJ6IHdhcmlhbnQ8L2gzPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtd3JhcCBnYXAtMyBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgICB7Z2V0QXZhaWxhYmxlVmFyaWFudHMoKS5tYXAoKHZhcmlhbnQ6IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhcmlhdGlvbiA9IHZhcmlhdGlvbnMuZmluZCgodjogeyBcbiAgICAgICAgICAgICAgICAgIGlkOiBudW1iZXI7IFxuICAgICAgICAgICAgICAgICAgYXR0cmlidXRlcz86IEFycmF5PHsgc2x1Zzogc3RyaW5nOyBvcHRpb246IHN0cmluZyB9PjsgXG4gICAgICAgICAgICAgICAgfSkgPT4ge1xuICAgICAgICAgICAgICAgICAgLy8gWm5hamTFuiB3YXJpYWNqxJkga3TDs3JhIG1hIHRlbiBzYW0gYXRyeWJ1dFxuICAgICAgICAgICAgICAgICAgY29uc3QgZmlyc3RBdHRyID0gdi5hdHRyaWJ1dGVzPy5maW5kKChhdHRyOiB7IHNsdWc6IHN0cmluZzsgb3B0aW9uOiBzdHJpbmcgfSkgPT4gXG4gICAgICAgICAgICAgICAgICAgIGF0dHIuc2x1ZyAmJiBhdHRyLm9wdGlvblxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBmaXJzdEF0dHI/Lm9wdGlvbiA9PT0gdmFyaWFudDtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBjb25zdCB2YXJpYW50UHJpY2UgPSB2YXJpYXRpb24/LnByaWNlIHx8IHZhcmlhdGlvbj8uc2FsZV9wcmljZSB8fCB2YXJpYXRpb24/LnJlZ3VsYXJfcHJpY2U7XG4gICAgICAgICAgICAgICAgY29uc3QgaXNPblNhbGUgPSB2YXJpYXRpb24/LnNhbGVfcHJpY2UgJiYgcGFyc2VGbG9hdCh2YXJpYXRpb24uc2FsZV9wcmljZSkgPCBwYXJzZUZsb2F0KHZhcmlhdGlvbi5yZWd1bGFyX3ByaWNlIHx8ICcwJyk7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVndWxhclByaWNlID0gdmFyaWF0aW9uPy5yZWd1bGFyX3ByaWNlO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIGtleT17dmFyaWFudH1cbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAodmFyaWF0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVBZGRUb0NhcnRXaXRoVmFyaWF0aW9uKHZhcmlhdGlvbiwgdmFyaWFudCk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlciBwLTMgYm9yZGVyIGJvcmRlci1ncmF5LTIwMCByb3VuZGVkLXhsIGhvdmVyOmJvcmRlci1ncmF5LTkwMCBob3ZlcjpzaGFkb3ctbWQgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMjAwIGJnLXdoaXRlXCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktOTAwIG1iLTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICB7dmFyaWFudH1cbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgZm9udC1ib2xkIHRleHQtZ3JheS05MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICB7dmFyaWFudFByaWNlICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtpc09uU2FsZSA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1yZWQtNjAwXCI+e2Zvcm1hdFByaWNlKHBhcnNlRmxvYXQodmFyaWFudFByaWNlKSl9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3JlZ3VsYXJQcmljZSAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDAgbGluZS10aHJvdWdoIG1sLTFcIj57Zm9ybWF0UHJpY2UocGFyc2VGbG9hdChyZWd1bGFyUHJpY2UpKX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPntmb3JtYXRQcmljZShwYXJzZUZsb2F0KHZhcmlhbnRQcmljZSkpfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuICAgICAgXG4gICAgICB7c2hvd0FjdGlvbnMgJiYgKFxuICAgICAgICA8Q2FyZEZvb3RlciBjbGFzc05hbWU9XCJweC0zIHNtOnB4LTQgcGItNCBtdC1hdXRvXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgcmVsYXRpdmVcIiByZWY9e2Ryb3Bkb3duUmVmfT5cbiAgICAgICAgICAgIDxCdXR0b24gXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgaWYgKHByb2R1Y3QudHlwZSA9PT0gJ3ZhcmlhYmxlJykge1xuICAgICAgICAgICAgICAgICAgLy8gRm9yIHZhcmlhYmxlIHByb2R1Y3RzLCBqdXN0IHNob3cgaG92ZXIgb3ZlcmxheSAobm8gZHJvcGRvd24pXG4gICAgICAgICAgICAgICAgICBoYW5kbGVTaG93VmFyaWFudHMoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgaGFuZGxlQWRkVG9DYXJ0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICBvbk1vdXNlRW50ZXI9eygpID0+IHtcbiAgICAgICAgICAgICAgICBzZXRJc0J1dHRvbkhvdmVyZWQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgaWYgKHByb2R1Y3QudHlwZSA9PT0gJ3ZhcmlhYmxlJyAmJiAhdmFyaWF0aW9uc0xvYWRlZCkge1xuICAgICAgICAgICAgICAgICAgaGFuZGxlU2hvd1ZhcmlhbnRzKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICBvbk1vdXNlTGVhdmU9eygpID0+IHtcbiAgICAgICAgICAgICAgICBzZXRJc0J1dHRvbkhvdmVyZWQoZmFsc2UpO1xuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICBkaXNhYmxlZD17aXNMb2FkaW5nIHx8IHByb2R1Y3Quc3RvY2tfc3RhdHVzID09PSAnb3V0b2ZzdG9jayd9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBiZy13aGl0ZSBib3JkZXIgYm9yZGVyLWJsYWNrIHRleHQtZ3JheS05MDAgaG92ZXI6YmctZ3JheS01MCByb3VuZGVkLWxnIHB5LTMgZm9udC1tZWRpdW0gdGV4dC1zbVwiXG4gICAgICAgICAgICAgIHNpemU9XCJsZ1wiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxTaG9wcGluZ0NhcnQgY2xhc3NOYW1lPVwidy00IGgtNCBtci0yXCIgLz5cbiAgICAgICAgICAgICAge2lzTG9hZGluZyA/ICdEb2Rhd2FuaWUuLi4nIDogKHByb2R1Y3QudHlwZSA9PT0gJ3ZhcmlhYmxlJyA/ICdXeWJpZXJ6IHdhcmlhbnQnIDogJ0RvZGFqIGRvIGtvc3p5a2EnKX1cbiAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgXG4gICAgICAgICAgICB7LyogT2xkIGRyb3Bkb3duIHJlbW92ZWQgLSB1c2luZyBob3ZlciBvdmVybGF5IGluc3RlYWQgKi99XG4gICAgICAgICAgICB7ZmFsc2UgJiYgcHJvZHVjdC50eXBlID09PSAndmFyaWFibGUnICYmIGlzRHJvcGRvd25PcGVuICYmIChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBib3R0b20tZnVsbCBsZWZ0LTAgcmlnaHQtMCBtYi0yIGJnLXdoaXRlIGJvcmRlciBib3JkZXItZ3JheS0yMDAgcm91bmRlZC0yeGwgc2hhZG93LWxnIHAtNCB6LTEwXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtc2VtaWJvbGQgdGV4dC1ncmF5LTkwMCBtYi0zIHRleHQtY2VudGVyXCI+V3liaWVyeiB3YXJpYW50PC9kaXY+XG4gICAgICAgICAgICAgICAgeyF2YXJpYXRpb25zTG9hZGVkID8gKFxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBweS00XCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYW5pbWF0ZS1zcGluIHJvdW5kZWQtZnVsbCBoLTYgdy02IGJvcmRlci1iLTIgYm9yZGVyLWdyYXktOTAwIG14LWF1dG9cIj48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS01MDAgbXQtMlwiPsWBYWRvd2FuaWUgd2FyaWFudMOzdy4uLjwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKSA6IGdldEF2YWlsYWJsZVZhcmlhbnRzKCkubGVuZ3RoID09PSAwID8gKFxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBweS00IHRleHQtZ3JheS01MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgQnJhayBkb3N0xJlwbnljaCB3YXJpYW50w7N3XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtd3JhcCBnYXAtMiBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICB7Z2V0QXZhaWxhYmxlVmFyaWFudHMoKS5tYXAoKHZhcmlhbnQ6IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2YXJpYXRpb24gPSB2YXJpYXRpb25zLmZpbmQoKHY6IHsgXG4gICAgICAgICAgICAgICAgICAgICAgaWQ6IG51bWJlcjsgXG4gICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlcz86IEFycmF5PHsgc2x1Zzogc3RyaW5nOyBvcHRpb246IHN0cmluZyB9PjsgXG4gICAgICAgICAgICAgICAgICAgIH0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAvLyBabmFqZMW6IHdhcmlhY2rEmSBrdMOzcmEgbWEgdGVuIHNhbSBhdHJ5YnV0XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlyc3RBdHRyID0gdi5hdHRyaWJ1dGVzPy5maW5kKChhdHRyOiB7IHNsdWc6IHN0cmluZzsgb3B0aW9uOiBzdHJpbmcgfSkgPT4gXG4gICAgICAgICAgICAgICAgICAgICAgICBhdHRyLnNsdWcgJiYgYXR0ci5vcHRpb25cbiAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmaXJzdEF0dHI/Lm9wdGlvbiA9PT0gdmFyaWFudDtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIGtleT17dmFyaWFudH1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfm5IgVmFyaWFudCBjbGlja2VkOicsIHZhcmlhbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+bkiBGb3VuZCB2YXJpYXRpb246JywgdmFyaWF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0U2VsZWN0ZWRWYXJpYW50KHZhcmlhbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRJc0Ryb3Bkb3duT3BlbihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YXJpYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+bkiBDYWxsaW5nIGhhbmRsZUFkZFRvQ2FydFdpdGhWYXJpYXRpb24gd2l0aDonLCB2YXJpYXRpb24sIHZhcmlhbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZUFkZFRvQ2FydFdpdGhWYXJpYXRpb24odmFyaWF0aW9uLCB2YXJpYW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+bkiBObyB2YXJpYXRpb24gZm91bmQgZm9yIHZhcmlhbnQ6JywgdmFyaWFudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BweC00IHB5LTIgdGV4dC1zbSBmb250LW1lZGl1bSByb3VuZGVkLWZ1bGwgYm9yZGVyLTIgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMjAwIHRyYW5zZm9ybSBob3ZlcjpzY2FsZS0xMDUgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRWYXJpYW50ID09PSB2YXJpYW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnYmctYmxhY2sgdGV4dC13aGl0ZSBib3JkZXItYmxhY2sgc2hhZG93LWxnJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogJ2JnLXRyYW5zcGFyZW50IHRleHQtZ3JheS03MDAgYm9yZGVyLWdyYXktMzAwIGhvdmVyOmJvcmRlci1ibGFjayBob3ZlcjpiZy1ncmF5LTUwJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbnQtYm9sZFwiPnt2YXJpYW50fTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7dmFyaWF0aW9uICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgb3BhY2l0eS03MCBtdC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7d29vQ29tbWVyY2VTZXJ2aWNlLmZvcm1hdFByaWNlKHZhcmlhdGlvbi5wcmljZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L0NhcmRGb290ZXI+XG4gICAgICApfVxuICAgICAgXG4gICAgICB7LyogUXVpY2sgVmlldyBNb2RhbCAqL31cbiAgICAgIDxRdWlja1ZpZXdNb2RhbFxuICAgICAgICBpc09wZW49e2lzUXVpY2tWaWV3T3Blbn1cbiAgICAgICAgb25DbG9zZT17KCkgPT4gc2V0SXNRdWlja1ZpZXdPcGVuKGZhbHNlKX1cbiAgICAgICAgcHJvZHVjdD17cHJvZHVjdH1cbiAgICAgIC8+XG4gICAgPC9DYXJkPlxuICApO1xufVxuIl0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlUmVmIiwid29vQ29tbWVyY2VTZXJ2aWNlIiwiQ2FyZCIsIkNhcmRDb250ZW50IiwiQ2FyZEZvb3RlciIsIkNhcmRIZWFkZXIiLCJCdXR0b24iLCJCYWRnZSIsIkhlYXJ0IiwiU2hvcHBpbmdDYXJ0IiwiRXllIiwiU3RhciIsIkxpbmsiLCJJbWFnZSIsInVzZUNhcnRTdG9yZSIsInVzZUZhdm9yaXRlc1N0b3JlIiwiUXVpY2tWaWV3TW9kYWwiLCJmb3JtYXRQcmljZSIsIktpbmdQcm9kdWN0Q2FyZCIsInByb2R1Y3QiLCJzaG93QWN0aW9ucyIsInZhcmlhbnQiLCJ0YWJUeXBlIiwiaXNMb2FkaW5nIiwic2V0SXNMb2FkaW5nIiwiaXNRdWlja1ZpZXdPcGVuIiwic2V0SXNRdWlja1ZpZXdPcGVuIiwic2hvd1ZhcmlhbnRzIiwic2V0U2hvd1ZhcmlhbnRzIiwic2VsZWN0ZWRWYXJpYW50Iiwic2V0U2VsZWN0ZWRWYXJpYW50IiwidmFyaWF0aW9uc0xvYWRlZCIsInNldFZhcmlhdGlvbnNMb2FkZWQiLCJ2YXJpYXRpb25zIiwic2V0VmFyaWF0aW9ucyIsImlzSG92ZXJlZCIsInNldElzSG92ZXJlZCIsImlzQnV0dG9uSG92ZXJlZCIsInNldElzQnV0dG9uSG92ZXJlZCIsImlzRHJvcGRvd25PcGVuIiwic2V0SXNEcm9wZG93bk9wZW4iLCJpc0NsaWVudCIsInNldElzQ2xpZW50IiwiZHJvcGRvd25SZWYiLCJoYW5kbGVDbGlja091dHNpZGUiLCJldmVudCIsImN1cnJlbnQiLCJjb250YWlucyIsInRhcmdldCIsImRvY3VtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJjb25zb2xlIiwibG9nIiwibGVuZ3RoIiwiQXJyYXkiLCJpc0FycmF5IiwiYWRkSXRlbSIsIm9wZW5DYXJ0IiwidG9nZ2xlRmF2b3JpdGUiLCJpc0Zhdm9yaXRlIiwiY2FydFN0b3JlIiwiZXJyb3IiLCJ3YXJuIiwiZmF2b3JpdGVzU3RvcmUiLCJoYW5kbGVBZGRUb0NhcnQiLCJjYXJ0SXRlbSIsInR5cGUiLCJnZXRQcm9kdWN0VmFyaWF0aW9ucyIsImlkIiwic2VsZWN0ZWRWYXJpYXRpb24iLCJmaW5kIiwidmFyaWF0aW9uIiwiYXR0cmlidXRlcyIsInNvbWUiLCJhdHRyIiwic2x1ZyIsIm9wdGlvbiIsIm5hbWUiLCJwcmljZSIsInBhcnNlRmxvYXQiLCJyZWd1bGFyX3ByaWNlIiwic2FsZV9wcmljZSIsImltYWdlIiwiaW1hZ2VVcmwiLCJwZXJtYWxpbmsiLCJoYW5kbGVUb2dnbGVGYXZvcml0ZSIsImhhbmRsZVF1aWNrVmlldyIsImhhbmRsZVZhcmlhbnRTZWxlY3QiLCJoYW5kbGVTaG93VmFyaWFudHMiLCJyZXNwb25zZSIsInNldFRpbWVvdXQiLCJoYW5kbGVBZGRUb0NhcnRXaXRoVmFyaWFudCIsImhhbmRsZUFkZFRvQ2FydFdpdGhWYXJpYXRpb24iLCJ2YXJpYW50TmFtZSIsImdldEF2YWlsYWJsZVZhcmlhbnRzIiwidmFyaWFudHMiLCJtYXAiLCJmaXJzdEF0dHIiLCJmaXJzdEF0dHJXaXRoT3B0aW9ucyIsIm9wdGlvbnMiLCJvcHRzIiwibyIsIlN0cmluZyIsImZpbHRlciIsIkJvb2xlYW4iLCJnZXRBdHRyaWJ1dGVOYW1lIiwiZmlyc3RWYXJpYXRpb24iLCJhdHRyTmFtZXMiLCJyZXBsYWNlIiwidG9VcHBlckNhc2UiLCJpc09uU2FsZSIsImlzUHJvZHVjdE9uU2FsZSIsImRpc2NvdW50IiwiZ2V0UHJvZHVjdERpc2NvdW50IiwiaW1hZ2VzIiwiZ2V0UHJvZHVjdEltYWdlVXJsIiwiaW5jbHVkZXMiLCJyZWd1bGFyUHJpY2UiLCJnZXRCcmFuZCIsImJyYW5kQXR0ciIsInRvTG93ZXJDYXNlIiwiZmlyc3QiLCJnZXRNYWluQ2F0ZWdvcnkiLCJjYXRzIiwiY2F0ZWdvcmllcyIsIm1haW5DYXRlZ29yaWVzIiwibWFpbiIsImMiLCJjYXRlZ29yeU5hbWUiLCJyZW5kZXJQcmljZSIsImRpdiIsImNsYXNzTmFtZSIsInNwYW4iLCJyZW5kZXJSYXRpbmciLCJyYXRpbmciLCJhdmVyYWdlX3JhdGluZyIsImlzTmFOIiwidG9GaXhlZCIsInJhdGluZ19jb3VudCIsInJlbmRlclN0b2NrU3RhdHVzIiwic3RvY2tfc3RhdHVzIiwiaHJlZiIsInNyYyIsImFsdCIsIndpZHRoIiwiaGVpZ2h0Iiwic2l6ZXMiLCJsb2FkaW5nIiwiaDMiLCJmZWF0dXJlZCIsInAiLCJzaG9ydF9kZXNjcmlwdGlvbiIsImJ1dHRvbiIsIm9uQ2xpY2siLCJkaXNhYmxlZCIsInNpemUiLCJhcmlhLWxhYmVsIiwiaXNPcGVuIiwib25DbG9zZSIsIm9uTW91c2VFbnRlciIsIm9uTW91c2VMZWF2ZSIsImUiLCJwcmV2ZW50RGVmYXVsdCIsInN0b3BQcm9wYWdhdGlvbiIsInYiLCJ2YXJpYW50UHJpY2UiLCJjbG9zZXN0IiwicmVmIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/king-product-card.tsx\n"));

/***/ })

});