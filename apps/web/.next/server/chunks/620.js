exports.id=620,exports.ids=[620],exports.modules={4415:(a,b,c)=>{"use strict";c.d(b,{default:()=>d});let d=(0,c(25459).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/ui/top-bar.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/ui/top-bar.tsx","default")},4489:(a,b,c)=>{"use strict";c.d(b,{default:()=>g});var d=c(78157),e=c(72886);let f=["\uD83C\uDF89 DARMOWA DOSTAWA OD 200ZŁ - SPRAWDŹ SZCZEG\xd3ŁY","\uD83D\uDD25 NOWOŚCI W KOSMETYKACH KOREAŃSKICH - DO -30%","\uD83D\uDC8E MEZOTERAPIA I NIĆ - PROFESJONALNE PRODUKTY"];function g(){return(0,d.jsx)("div",{className:"bg-black text-white overflow-hidden",children:(0,d.jsx)("div",{className:"relative h-12 flex items-center",children:(0,d.jsx)(e.P.div,{className:"flex whitespace-nowrap",animate:{x:[0,-1e3]},transition:{duration:20,repeat:1/0,ease:"linear"},children:f.map((a,b)=>(0,d.jsx)("span",{className:"inline-block mx-8 text-sm font-medium tracking-wider uppercase",children:a},b))})})})}},9699:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>e});var d=c(43560);let e=async a=>[{type:"image/x-icon",sizes:"16x16",url:(0,d.fillMetadataSegment)(".",await a.params,"favicon.ico")+""}]},10573:(a,b,c)=>{"use strict";c.d(b,{cn:()=>f});var d=c(79390),e=c(25442);function f(...a){return(0,e.QP)((0,d.$)(a))}},10615:(a,b,c)=>{"use strict";c.d(b,{default:()=>n});var d=c(78157),e=c(83042),f=c(72886),g=c(49198),h=c(40492),i=c(6046),j=c(48762),k=c(49170),l=c(32465),m=c(78657);function n(){let{favorites:a,isModalOpen:b,closeFavoritesModal:c,removeFromFavorites:n,clearFavorites:o,isLoading:p,lastSyncTime:q}=(0,j.I)();return(0,d.jsx)(e.N,{children:b&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(f.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-40",onClick:c}),(0,d.jsx)(f.P.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{duration:.2,ease:"easeOut"},className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:(0,d.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-4xl max-h-[90vh] flex flex-col",onClick:a=>a.stopPropagation(),children:[(0,d.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,d.jsx)(g.A,{className:"w-6 h-6 text-red-500 fill-current"}),(0,d.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Moje ulubione"}),(0,d.jsx)(l.E,{variant:"secondary",className:"ml-2",children:a.length}),p&&(0,d.jsx)("div",{className:"w-4 h-4 border-2 border-red-500 border-t-transparent rounded-full animate-spin"})]}),(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[a.length>0&&(0,d.jsxs)(k.$,{variant:"outline",size:"sm",onClick:()=>{confirm("Czy na pewno chcesz usunąć wszystkie ulubione produkty?")&&o()},className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:[(0,d.jsx)(h.A,{className:"w-4 h-4 mr-1"}),"Wyczyść wszystkie"]}),(0,d.jsx)(k.$,{variant:"ghost",size:"sm",onClick:c,className:"text-gray-500 hover:text-gray-700",children:(0,d.jsx)(i.A,{className:"w-5 h-5"})})]})]}),(0,d.jsx)("div",{className:"flex-1 overflow-y-auto p-6",children:0===a.length?(0,d.jsxs)("div",{className:"text-center py-12",children:[(0,d.jsx)(g.A,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,d.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Brak ulubionych produkt\xf3w"}),(0,d.jsx)("p",{className:"text-gray-600 mb-6",children:"Dodaj produkty do ulubionych, klikając ikonę serca"}),(0,d.jsx)(k.$,{onClick:c,children:"Kontynuuj zakupy"})]}):(0,d.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(a=>(0,d.jsxs)(f.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"relative group",children:[(0,d.jsx)("button",{onClick:()=>{n(a.id)},className:"absolute top-2 right-2 z-10 w-8 h-8 bg-white/90 hover:bg-white hover:shadow-md rounded-full flex items-center justify-center transition-all duration-150 opacity-0 group-hover:opacity-100",children:(0,d.jsx)(g.A,{className:"w-4 h-4 fill-current text-red-500"})}),(0,d.jsx)(m.A,{product:a,showActions:!0,variant:"default"})]},a.id))})}),a.length>0&&(0,d.jsx)("div",{className:"border-t border-gray-200 p-6",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"text-sm text-gray-600",children:[a.length," ",1===a.length?"produkt":"produkt\xf3w"," w ulubionych"]}),(0,d.jsx)(k.$,{onClick:c,children:"Zamknij"})]})})]})})]})})}},12821:(a,b,c)=>{"use strict";c.d(b,{default:()=>d});let d=(0,c(25459).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/ui/footer.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/ui/footer.tsx","default")},13742:(a,b,c)=>{"use strict";c.d(b,{A:()=>p});var d=c(78157),e=c(31768),f=c(83042),g=c(72886),h=c(6046),i=c(51383),j=c(92059),k=c(135),l=c(3603),m=c(84879),n=c(41921),o=c(39039);function p({isOpen:a,onClose:b,onSwitchToLogin:c,onRegistrationSuccess:p}){let{register:q,isLoading:r,error:s,isAuthenticated:t}=(0,n.n)(),[u,v]=(0,e.useState)({firstName:"",lastName:"",email:"",phone:"",password:"",confirmPassword:"",company:"",nip:"",invoiceRequest:!1}),[w,x]=(0,e.useState)(!1),[y,z]=(0,e.useState)(!1),[A,B]=(0,e.useState)({}),[C,D]=(0,e.useState)(!1),[E,F]=(0,e.useState)(!1),G=(a,b)=>{let c="";switch(a){case"email":let d=(0,o.DT)(b);d.isValid||(c=d.message);break;case"password":let e=(0,o.Oj)(b);e.isValid||(c=e.message);break;case"confirmPassword":let f=(0,o.C_)(u.password,b);f.isValid||(c=f.message)}B(b=>({...b,[a]:c}))},H=(a,b)=>{v(c=>({...c,[a]:b})),G(a,b),"password"===a&&G("confirmPassword",u.confirmPassword)},I=async a=>{if(a.preventDefault(),(()=>{let a={},b=(0,o.DT)(u.email);b.isValid||(a.email=b.message);let c=(0,o.Oj)(u.password);c.isValid||(a.password=c.message);let d=(0,o.C_)(u.password,u.confirmPassword);return d.isValid||(a.confirmPassword=d.message),C||(a.terms="Musisz zaakceptować regulamin"),B(a),0===Object.keys(a).length})())try{let a=await q({email:u.email,password:u.password,marketingConsent:E});p&&a&&p(a)}catch(a){console.error("Registration error:",a)}};return a?(0,d.jsx)(f.N,{children:(0,d.jsxs)(g.P.div,{className:"fixed inset-0 z-50 flex items-center justify-center p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[(0,d.jsx)(g.P.div,{className:"absolute inset-0 bg-black/50 backdrop-blur-[2px]",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:b}),(0,d.jsxs)(g.P.div,{className:"relative bg-white rounded-2xl shadow-xl w-full max-w-2xl mx-auto max-h-[90vh] overflow-y-auto",initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},transition:{duration:.2},children:[(0,d.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 sticky top-0 bg-white",children:[(0,d.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Zarejestruj się"}),(0,d.jsx)("button",{onClick:b,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,d.jsx)(h.A,{className:"w-6 h-6"})})]}),(0,d.jsxs)("form",{onSubmit:I,className:"p-6 space-y-6",children:[(0,d.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:(0,d.jsxs)("div",{className:"flex items-start",children:[(0,d.jsx)("div",{className:"flex-shrink-0",children:(0,d.jsx)("svg",{className:"w-5 h-5 text-blue-400 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,d.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),(0,d.jsxs)("div",{className:"ml-3",children:[(0,d.jsx)("h3",{className:"text-sm font-medium text-blue-800",children:"Szybka rejestracja"}),(0,d.jsx)("p",{className:"mt-1 text-sm text-blue-700",children:"Dane osobowe wypełnisz p\xf3źniej przy składaniu zam\xf3wienia i zostaną zapisane na stałe."})]})]})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)(i.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,d.jsx)("input",{id:"email",type:"email",value:u.email,onChange:a=>H("email",a.target.value),className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-black focus:border-transparent ${A.email?"border-red-300":"border-gray-300"}`,placeholder:"twoj@email.com",disabled:r})]}),A.email&&(0,d.jsxs)("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[(0,d.jsx)(j.A,{className:"w-4 h-4 mr-1"}),A.email]})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Hasło"}),(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)(k.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,d.jsx)("input",{id:"password",type:w?"text":"password",value:u.password,onChange:a=>H("password",a.target.value),className:`w-full pl-10 pr-12 py-3 border rounded-lg focus:ring-2 focus:ring-black focus:border-transparent ${A.password?"border-red-300":"border-gray-300"}`,placeholder:"••••••••",disabled:r}),(0,d.jsx)("button",{type:"button",onClick:()=>x(!w),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:w?(0,d.jsx)(l.A,{className:"w-5 h-5"}):(0,d.jsx)(m.A,{className:"w-5 h-5"})})]}),A.password&&(0,d.jsxs)("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[(0,d.jsx)(j.A,{className:"w-4 h-4 mr-1"}),A.password]}),!A.password&&u.password&&(0,d.jsx)("p",{className:"mt-1 text-xs text-green-600",children:"✓ Hasło spełnia wymagania"}),!u.password&&(0,d.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Minimum 8 znak\xf3w, mała i wielka litera, cyfra, znak specjalny"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Potwierdź hasło"}),(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)(k.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,d.jsx)("input",{id:"confirmPassword",type:y?"text":"password",value:u.confirmPassword,onChange:a=>H("confirmPassword",a.target.value),className:`w-full pl-10 pr-12 py-3 border rounded-lg focus:ring-2 focus:ring-black focus:border-transparent ${A.confirmPassword?"border-red-300":"border-gray-300"}`,placeholder:"••••••••",disabled:r}),(0,d.jsx)("button",{type:"button",onClick:()=>z(!y),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:y?(0,d.jsx)(l.A,{className:"w-5 h-5"}):(0,d.jsx)(m.A,{className:"w-5 h-5"})})]}),A.confirmPassword&&(0,d.jsxs)("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[(0,d.jsx)(j.A,{className:"w-4 h-4 mr-1"}),A.confirmPassword]})]})]}),(0,d.jsxs)("div",{className:"mb-6 relative overflow-hidden",children:[(0,d.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-500/10 via-pink-500/10 to-orange-500/10 rounded-xl"}),(0,d.jsx)("div",{className:"relative p-4 border border-purple-200/50 rounded-xl bg-white/80 backdrop-blur-sm",children:(0,d.jsxs)("label",{className:"cursor-pointer group",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)("input",{type:"checkbox",checked:E,onChange:a=>F(a.target.checked),className:"sr-only"}),(0,d.jsx)("div",{className:`w-5 h-5 rounded border-2 transition-all duration-200 flex items-center justify-center ${E?"bg-gradient-to-r from-purple-500 to-pink-500 border-transparent":"border-gray-300 group-hover:border-purple-400"}`,children:E&&(0,d.jsx)("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:(0,d.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),(0,d.jsx)("span",{className:"font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-pink-600",children:"Odbierz 10% rabatu!"})]}),(0,d.jsx)("p",{className:"text-sm text-gray-600 leading-relaxed ml-7",children:"Wyrażam zgodę na otrzymywanie ofert marketingowych i odbieram kod rabatowy 10% na pierwsze zakupy."})]})})]}),(0,d.jsxs)("div",{className:"mb-6 relative overflow-hidden",children:[(0,d.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-500/10 via-gray-600/10 to-gray-700/10 rounded-xl"}),(0,d.jsx)("div",{className:"relative p-4 border border-gray-200/50 rounded-xl bg-white/80 backdrop-blur-sm",children:(0,d.jsx)("label",{className:"cursor-pointer group",children:(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)("input",{type:"checkbox",checked:C,onChange:a=>D(a.target.checked),className:"sr-only"}),(0,d.jsx)("div",{className:`w-5 h-5 rounded border-2 transition-all duration-200 flex items-center justify-center ${C?"bg-gradient-to-r from-gray-700 to-gray-900 border-transparent":"border-gray-300 group-hover:border-gray-400"}`,children:C&&(0,d.jsx)("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:(0,d.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),(0,d.jsxs)("span",{className:"text-sm text-gray-700",children:[(0,d.jsx)("span",{className:"font-medium",children:"Akceptuję"})," ",(0,d.jsx)("a",{href:"/regulamin",className:"text-black underline hover:no-underline font-medium hover:text-gray-800 transition-colors",target:"_blank",rel:"noopener noreferrer",children:"regulamin"})," ",(0,d.jsx)("span",{className:"font-medium",children:"oraz"})," ",(0,d.jsx)("a",{href:"/polityka-prywatnosci",className:"text-black underline hover:no-underline font-medium hover:text-gray-800 transition-colors",target:"_blank",rel:"noopener noreferrer",children:"politykę prywatności"})]})]})})}),A.terms&&(0,d.jsx)("div",{className:"mt-2 p-3 bg-red-50 border border-red-200 rounded-lg",children:(0,d.jsxs)("p",{className:"text-sm text-red-600 flex items-center",children:[(0,d.jsx)(j.A,{className:"w-4 h-4 mr-2 flex-shrink-0"}),A.terms]})})]}),s&&(0,d.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[(0,d.jsxs)("p",{className:"text-sm text-red-600 flex items-center mb-3",children:[(0,d.jsx)(j.A,{className:"w-4 h-4 mr-2"}),s]}),s.includes("jest już zarejestrowany")&&(0,d.jsx)("button",{onClick:c,className:"text-sm text-blue-600 hover:text-blue-800 underline font-medium",children:"Przejdź do logowania"})]}),(0,d.jsx)("button",{type:"submit",disabled:r,className:"w-full bg-black text-white py-3 px-6 rounded-lg font-medium hover:bg-gray-800 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center justify-center",children:r?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Rejestracja..."]}):"Zarejestruj się"}),(0,d.jsx)("div",{className:"text-center",children:(0,d.jsxs)("p",{className:"text-sm text-gray-600",children:["Masz już konto?"," ",(0,d.jsx)("button",{type:"button",onClick:c,className:"text-black font-medium hover:underline transition-colors",children:"Zaloguj się"})]})})]})]})]})}):null}},14276:()=>{},16719:(a,b,c)=>{"use strict";c.d(b,{default:()=>t});var d=c(78157),e=c(31768),f=c(83042),g=c(72886),h=c(6046),i=c(51383),j=c(92059),k=c(135),l=c(3603),m=c(84879),n=c(41921),o=c(68625),p=c(5782);function q({isOpen:a,onClose:b,onBackToLogin:c}){let[f,k]=(0,e.useState)(""),[l,m]=(0,e.useState)(!1),[n,q]=(0,e.useState)(!1),[r,s]=(0,e.useState)(""),[t,u]=(0,e.useState)(""),v=async a=>{if(a.preventDefault(),f?/\S+@\S+\.\S+/.test(f)?(u(""),!0):(u("Nieprawidłowy format email"),!1):(u("Email jest wymagany"),!1)){m(!0),s("");try{let a=await fetch("/api/woocommerce?endpoint=customers/password-reset",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:f})});(await a.json()).success,q(!0)}catch(a){console.error("Password reset error:",a),q(!0)}finally{m(!1)}}},w=()=>{k(""),q(!1),s(""),u(""),b()},x=()=>{w(),c()};return a?(0,d.jsxs)(g.P.div,{className:"fixed inset-0 z-50 flex items-center justify-center p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[(0,d.jsx)(g.P.div,{className:"absolute inset-0 bg-black/50 backdrop-blur-[2px]",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:w}),(0,d.jsxs)(g.P.div,{className:"relative bg-white rounded-2xl shadow-xl w-full max-w-md mx-auto",initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},transition:{duration:.2},children:[(0,d.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,d.jsxs)("div",{className:"flex items-center",children:[!n&&(0,d.jsx)("button",{onClick:x,className:"mr-3 text-gray-400 hover:text-gray-600 transition-colors",children:(0,d.jsx)(o.A,{className:"w-5 h-5"})}),(0,d.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:n?"Email wysłany":"Zapomniałeś hasła?"})]}),(0,d.jsx)("button",{onClick:w,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,d.jsx)(h.A,{className:"w-6 h-6"})})]}),(0,d.jsx)("div",{className:"p-6",children:n?(0,d.jsxs)(g.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"text-center space-y-6",children:[(0,d.jsx)("div",{className:"mx-auto w-16 h-16 bg-green-100 rounded-full flex items-center justify-center",children:(0,d.jsx)(p.A,{className:"w-8 h-8 text-green-600"})}),(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"Sprawdź swoją skrzynkę"}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)("p",{className:"text-gray-600 leading-relaxed",children:"Wysłaliśmy link do resetowania hasła na adres:"}),(0,d.jsx)("p",{className:"font-semibold text-gray-900 text-lg bg-gray-50 px-3 py-2 rounded-lg border",children:f})]})]}),(0,d.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-5",children:(0,d.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,d.jsx)("div",{className:"flex-shrink-0",children:(0,d.jsx)(i.A,{className:"w-6 h-6 text-blue-600 mt-0.5"})}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("h4",{className:"text-base font-semibold text-blue-900 mb-3",children:"Co dalej?"}),(0,d.jsxs)("div",{className:"text-sm text-blue-800 space-y-2",children:[(0,d.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,d.jsx)("span",{className:"text-blue-600 font-bold",children:"1."}),(0,d.jsx)("span",{children:"Sprawdź folder spam/niechciane"})]}),(0,d.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,d.jsx)("span",{className:"text-blue-600 font-bold",children:"2."}),(0,d.jsx)("span",{children:"Kliknij link w emailu"})]}),(0,d.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,d.jsx)("span",{className:"text-blue-600 font-bold",children:"3."}),(0,d.jsx)("span",{children:"Ustaw nowe hasło"})]}),(0,d.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,d.jsx)("span",{className:"text-blue-600 font-bold",children:"4."}),(0,d.jsx)("span",{children:"Zaloguj się ponownie"})]})]})]})]})}),(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsx)("button",{onClick:w,className:"w-full bg-black text-white py-4 px-6 rounded-lg font-semibold text-base hover:bg-gray-800 transition-colors",children:"Rozumiem"}),(0,d.jsx)("button",{onClick:x,className:"w-full text-gray-600 hover:text-black transition-colors text-sm font-medium",children:"Wr\xf3ć do logowania"})]})]}):(0,d.jsxs)("form",{onSubmit:v,className:"space-y-6",children:[(0,d.jsxs)("div",{className:"text-center space-y-2",children:[(0,d.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Resetowanie hasła"}),(0,d.jsx)("p",{className:"text-gray-600",children:"Podaj sw\xf3j adres email, a wyślemy Ci link do resetowania hasła."})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Adres email"}),(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)(i.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,d.jsx)("input",{id:"email",type:"email",value:f,onChange:a=>{k(a.target.value),t&&u("")},className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-black focus:border-transparent ${t?"border-red-300":"border-gray-300"}`,placeholder:"twoj@email.com",disabled:l,autoFocus:!0})]}),t&&(0,d.jsxs)("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[(0,d.jsx)(j.A,{className:"w-4 h-4 mr-1"}),t]})]}),r&&(0,d.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,d.jsxs)("p",{className:"text-sm text-red-600 flex items-center",children:[(0,d.jsx)(j.A,{className:"w-4 h-4 mr-2"}),r]})}),(0,d.jsx)("button",{type:"submit",disabled:l,className:"w-full bg-black text-white py-3 px-6 rounded-lg font-medium hover:bg-gray-800 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center justify-center",children:l?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Wysyłanie..."]}):"Wyślij link resetujący"}),(0,d.jsx)("div",{className:"text-center",children:(0,d.jsxs)("button",{type:"button",onClick:x,className:"text-sm text-gray-600 hover:text-black transition-colors flex items-center justify-center mx-auto",children:[(0,d.jsx)(o.A,{className:"w-4 h-4 mr-1"}),"Wr\xf3ć do logowania"]})}),(0,d.jsx)("div",{className:"bg-gray-50 rounded-lg p-4",children:(0,d.jsxs)("p",{className:"text-xs text-gray-600 text-center",children:[(0,d.jsx)("strong",{children:"Nie otrzymałeś emaila?"}),(0,d.jsx)("br",{}),"Sprawdź folder spam lub skontaktuj się z obsługą klienta."]})})]})})]})]}):null}function r({isOpen:a,onClose:b,onSwitchToRegister:c}){let{login:o,isLoading:p,error:r,isAuthenticated:s}=(0,n.n)(),[t,u]=(0,e.useState)({email:"",password:""}),[v,w]=(0,e.useState)(!1),[x,y]=(0,e.useState)({}),[z,A]=(0,e.useState)(!1),B=async a=>{if(a.preventDefault(),(()=>{let a={};return t.email?/\S+@\S+\.\S+/.test(t.email)||(a.email="Nieprawidłowy format email"):a.email="Email jest wymagany",t.password?t.password.length<6&&(a.password="Hasło musi mieć co najmniej 6 znak\xf3w"):a.password="Hasło jest wymagane",y(a),0===Object.keys(a).length})())try{await o(t.email,t.password)}catch(a){console.error("Login error:",a)}},C=(a,b)=>{u(c=>({...c,[a]:b})),x[a]&&y(b=>({...b,[a]:""}))};return a?(0,d.jsxs)(f.N,{children:[(0,d.jsxs)(g.P.div,{className:"fixed inset-0 z-50 flex items-center justify-center p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[(0,d.jsx)(g.P.div,{className:"absolute inset-0 bg-black/50 backdrop-blur-[2px]",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:b}),(0,d.jsxs)(g.P.div,{className:"relative bg-white rounded-2xl shadow-xl w-full max-w-md mx-auto",initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},transition:{duration:.2},children:[(0,d.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,d.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Zaloguj się"}),(0,d.jsx)("button",{onClick:b,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,d.jsx)(h.A,{className:"w-6 h-6"})})]}),(0,d.jsxs)("form",{onSubmit:B,className:"p-6 space-y-6",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)(i.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,d.jsx)("input",{id:"email",type:"email",value:t.email,onChange:a=>C("email",a.target.value),className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-black focus:border-transparent ${x.email?"border-red-300":"border-gray-300"}`,placeholder:"twoj@email.com",disabled:p})]}),x.email&&(0,d.jsxs)("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[(0,d.jsx)(j.A,{className:"w-4 h-4 mr-1"}),x.email]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Hasło"}),(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)(k.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,d.jsx)("input",{id:"password",type:v?"text":"password",value:t.password,onChange:a=>C("password",a.target.value),className:`w-full pl-10 pr-12 py-3 border rounded-lg focus:ring-2 focus:ring-black focus:border-transparent ${x.password?"border-red-300":"border-gray-300"}`,placeholder:"••••••••",disabled:p}),(0,d.jsx)("button",{type:"button",onClick:()=>w(!v),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:v?(0,d.jsx)(l.A,{className:"w-5 h-5"}):(0,d.jsx)(m.A,{className:"w-5 h-5"})})]}),x.password&&(0,d.jsxs)("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[(0,d.jsx)(j.A,{className:"w-4 h-4 mr-1"}),x.password]})]}),r&&(0,d.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,d.jsxs)("p",{className:"text-sm text-red-600 flex items-center",children:[(0,d.jsx)(j.A,{className:"w-4 h-4 mr-2"}),r]})}),(0,d.jsx)("button",{type:"submit",disabled:p,className:"w-full bg-black text-white py-3 px-6 rounded-lg font-medium hover:bg-gray-800 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center justify-center",children:p?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Logowanie..."]}):"Zaloguj się"}),(0,d.jsx)("div",{className:"text-center",children:(0,d.jsxs)("p",{className:"text-sm text-gray-600",children:["Nie masz konta?"," ",(0,d.jsx)("button",{type:"button",onClick:c,className:"text-black font-medium hover:underline transition-colors",children:"Zarejestruj się"})]})}),(0,d.jsx)("div",{className:"text-center",children:(0,d.jsx)("button",{type:"button",onClick:()=>A(!0),className:"text-sm text-gray-600 hover:text-black transition-colors",children:"Zapomniałeś hasła?"})})]})]})]},"login-modal"),z&&(0,d.jsx)(q,{isOpen:z,onClose:()=>A(!1),onBackToLogin:()=>A(!1)},"forgot-password-modal")]}):null}var s=c(13742);function t(){let[a,b]=(0,e.useState)(!1),[c,f]=(0,e.useState)("login"),g=()=>{b(!1)};return a?(0,d.jsxs)(d.Fragment,{children:["login"===c&&(0,d.jsx)(r,{isOpen:a,onClose:g,onSwitchToRegister:()=>{f("register")}}),"register"===c&&(0,d.jsx)(s.A,{isOpen:a,onClose:g,onSwitchToLogin:()=>{f("login")}})]}):null}},18023:(a,b,c)=>{"use strict";function d(a){return new Intl.NumberFormat("pl-PL",{style:"currency",currency:"PLN",minimumFractionDigits:2,maximumFractionDigits:2}).format(a)}function e(a){return 1.23*a}function f(a){return d(e(a))+" (z VAT)"}c.d(b,{$g:()=>d,FP:()=>e,mF:()=>f})},19084:(a,b,c)=>{"use strict";c.d(b,{default:()=>d});let d=(0,c(25459).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/error-boundary.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/error-boundary.tsx","default")},20038:(a,b,c)=>{"use strict";c.d(b,{default:()=>k});var d=c(78157),e=c(31768),f=c.n(e),g=c(32903),h=c(90768);function i({error:a,resetError:b}){return(0,d.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:(0,d.jsxs)("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-6 text-center",children:[(0,d.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 bg-red-100 rounded-full flex items-center justify-center",children:(0,d.jsx)(g.A,{className:"w-8 h-8 text-red-600"})}),(0,d.jsx)("h1",{className:"text-xl font-bold text-gray-900 mb-2",children:"Ups! Coś poszło nie tak"}),(0,d.jsx)("p",{className:"text-gray-600 mb-4",children:"Wystąpił nieoczekiwany błąd. Spr\xf3buj odświeżyć stronę lub skontaktuj się z nami."}),!1,(0,d.jsxs)("div",{className:"flex gap-3 justify-center",children:[(0,d.jsxs)("button",{onClick:b,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[(0,d.jsx)(h.A,{className:"w-4 h-4"}),"Spr\xf3buj ponownie"]}),(0,d.jsx)("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Odśwież stronę"})]})]})})}class j extends f().Component{constructor(a){super(a),this.resetError=()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0})},this.state={hasError:!1}}static getDerivedStateFromError(a){return{hasError:!0,error:a}}componentDidCatch(a,b){this.setState({error:a,errorInfo:b}),console.error("Error caught by boundary:",a,b)}render(){if(this.state.hasError){let a=this.props.fallback||i;return(0,d.jsx)(a,{error:this.state.error,resetError:this.resetError})}return this.props.children}}let k=j},21209:(a,b,c)=>{"use strict";c.d(b,{Ay:()=>e,Of:()=>d});class d{constructor(){this.baseUrl="/api/woocommerce"}async getPaymentGateways(){try{let a=await fetch("/api/woocommerce?endpoint=payment_gateways",{headers:{Accept:"application/json"}});if(!a.ok){let b=await a.json();throw Error(b.error||"Nie udało się pobrać metod płatności")}let b=((await a.json()).gateways||[]).map(a=>({id:a.id,title:a.title||a.method_title||a.id,description:a.description||"",enabled:!0===a.enabled||"yes"===a.enabled}));return{success:!0,gateways:b}}catch(a){return console.error("Error fetching payment gateways:",a),{success:!1,error:"Nie udało się pobrać metod płatności"}}}async getHomepageData(){try{let a=await fetch(`${this.baseUrl}?endpoint=homepage&_fields=id,name,slug,price,regular_price,sale_price,on_sale,featured,images,stock_status,average_rating,rating_count`);if(!a.ok)throw Error(`HTTP error! status: ${a.status}`);return await a.json()}catch(a){throw console.error("Error fetching homepage data:",a),a}}async getShopData(a=1,b=12,c){try{let d=new URLSearchParams({endpoint:"shop",page:a.toString(),per_page:b.toString(),_fields:"id,name,slug,price,regular_price,sale_price,on_sale,featured,images,stock_status,average_rating,rating_count,categories,attributes"});c?.category&&d.append("category",c.category),c?.search&&d.append("search",c.search),c?.orderby&&d.append("orderby",c.orderby),c?.order&&d.append("order",c.order),c?.on_sale&&d.append("on_sale",String(c.on_sale)),c?.featured&&d.append("featured",String(c.featured)),c?.min_price!==void 0&&d.append("min_price",String(c.min_price)),c?.max_price!==void 0&&d.append("max_price",String(c.max_price)),c?.capacities&&c.capacities.length>0&&d.append("capacities",c.capacities.join(",")),c?.brands&&c.brands.length>0&&d.append("brands",c.brands.join(","));let e=await fetch(`http://localhost:3002/api/woocommerce?${d.toString()}`);if(!e.ok)throw Error(`HTTP error! status: ${e.status}`);let f=await e.json();return{products:f.products||[],total:parseInt(f.total)||0,totalPages:Math.ceil((parseInt(f.total)||0)/b),categories:f.categories||[],attributes:{capacities:f.attributes?.capacities||[],brands:f.attributes?.brands||[]}}}catch(a){throw console.error("Error fetching shop data:",a),a}}async getProductData(a){try{let b=await fetch(`${this.baseUrl}?endpoint=product/${a}`);if(!b.ok)throw Error(`HTTP error! status: ${b.status}`);return await b.json()}catch(a){throw console.error("Error fetching product data:",a),a}}async getProductById(a){try{let b=await fetch(`${this.baseUrl}?endpoint=products/${a}&cache=off`);if(!b.ok)throw Error(`HTTP error! status: ${b.status}`);return await b.json()}catch(a){throw console.error("Error fetching product by ID:",a),a}}async getProductBySlug(a){try{let b=await fetch(`${this.baseUrl}?endpoint=products&slug=${a}&cache=off`);if(!b.ok)throw Error(`HTTP error! status: ${b.status}`);let c=await b.json();return Array.isArray(c)&&c.length>0?c[0]:null}catch(a){throw console.error("Error fetching product by slug:",a),a}}async getCategories(){try{let a=await fetch(`${this.baseUrl}?endpoint=products/categories`);if(!a.ok)throw Error(`HTTP error! status: ${a.status}`);let b=await a.json();return{data:Array.isArray(b)?b:[b],total:Array.isArray(b)?b.length:1,totalPages:1,currentPage:1,perPage:100}}catch(a){return console.error("Error fetching categories:",a),this.getMockCategories()}}getMockCategories(){return{data:[{id:1,name:"Kremy",slug:"kremy",count:15},{id:2,name:"Serum",slug:"serum",count:8},{id:3,name:"Tonery",slug:"tonery",count:12},{id:4,name:"Maseczki",slug:"maseczki",count:6},{id:5,name:"Peelingi",slug:"peelingi",count:4}],total:5,totalPages:1,currentPage:1,perPage:100}}getMockProducts(a={}){let b=[{id:1,name:"Krem nawilżający z kwasem hialuronowym",slug:"krem-nawilzajacy-kwas-hialuronowy",price:"89.99",regular_price:"119.99",sale_price:"89.99",on_sale:!0,featured:!0,images:[{id:0,date_created:"",date_created_gmt:"",date_modified:"",date_modified_gmt:"",src:"/images/placeholder-product.jpg",name:"Placeholder",alt:"Krem nawilżający"}],categories:[{id:1,name:"Kremy",slug:"kremy"}],attributes:[],stock_status:"instock",short_description:"Intensywnie nawilżający krem z kwasem hialuronowym",description:"Profesjonalny krem nawilżający z kwasem hialuronowym dla sk\xf3ry twarzy.",sku:"KREM-001"},{id:2,name:"Serum witaminowe C + E",slug:"serum-witaminowe-c-e",price:"149.99",regular_price:"149.99",sale_price:"",on_sale:!1,featured:!0,images:[{id:0,date_created:"",date_created_gmt:"",date_modified:"",date_modified_gmt:"",src:"/images/placeholder-product.jpg",name:"Placeholder",alt:"Serum witaminowe"}],categories:[{id:2,name:"Serum",slug:"serum"}],attributes:[],stock_status:"instock",short_description:"Silne serum z witaminami C i E",description:"Mocne serum antyoksydacyjne z witaminami C i E.",sku:"SERUM-001"},{id:3,name:"Toner oczyszczający z kwasem salicylowym",slug:"toner-oczyszczajacy-kwas-salicylowy",price:"69.99",regular_price:"89.99",sale_price:"69.99",on_sale:!0,featured:!1,images:[{id:0,date_created:"",date_created_gmt:"",date_modified:"",date_modified_gmt:"",src:"/images/placeholder-product.jpg",name:"Placeholder",alt:"Toner oczyszczający"}],categories:[{id:3,name:"Tonery",slug:"tonery"}],attributes:[],stock_status:"instock",short_description:"Delikatny toner z kwasem salicylowym",description:"Oczyszczający toner z kwasem salicylowym dla sk\xf3ry problematycznej.",sku:"TONER-001"}];return{data:b,total:b.length,totalPages:1,currentPage:1,perPage:a.per_page||10}}async getProducts(a={}){try{let b=new URLSearchParams;a.per_page&&b.append("per_page",a.per_page.toString()),a.page&&b.append("page",a.page.toString()),a.search&&b.append("search",a.search),a.category&&b.append("category",a.category),a.orderby&&b.append("orderby",a.orderby),a.order&&b.append("order",a.order),a.featured&&b.append("featured",a.featured.toString()),a.on_sale&&b.append("on_sale",a.on_sale.toString()),a.stock_status&&b.append("stock_status",a.stock_status),a.min_price&&b.append("min_price",a.min_price),a.max_price&&b.append("max_price",a.max_price);let c=a.attribute,d=a.attribute_term;if(Array.isArray(c)&&Array.isArray(d))for(let a=0;a<Math.min(c.length,d.length);a+=1)b.append("attribute",String(c[a])),b.append("attribute_term",String(d[a]));else c&&b.append("attribute",String(c)),d&&b.append("attribute_term",String(d));(a.search||a.category||a.min_price||a.max_price||c||d)&&(b.append("cache","off"),b.append("_",String(Date.now())));let e=await fetch(`${this.baseUrl}?endpoint=products&${b}`);if(!e.ok)throw Error(`HTTP error! status: ${e.status}`);let f=await e.json();return{data:Array.isArray(f)?f:[f],total:Array.isArray(f)?f.length:1,totalPages:1,currentPage:1,perPage:a.per_page||10}}catch(b){return console.error("Error fetching products:",b),this.getMockProducts(a)}}async getProduct(a){try{let b=await fetch(`${this.baseUrl}?endpoint=products/${a}`);if(!b.ok)throw Error(`HTTP error! status: ${b.status}`);return await b.json()}catch(a){return console.error("Error fetching product:",a),{id:0,name:"Produkt niedostępny",slug:"produkt-niedostepny",permalink:"",date_created:"",date_created_gmt:"",date_modified:"",date_modified_gmt:"",type:"simple",status:"private",featured:!1,catalog_visibility:"visible",description:"",short_description:"",sku:"",price:"0",regular_price:"0",sale_price:"",date_on_sale_from:null,date_on_sale_from_gmt:null,date_on_sale_to:null,date_on_sale_to_gmt:null,price_html:"",on_sale:!1,purchasable:!1,total_sales:0,virtual:!1,downloadable:!1,downloads:[],download_limit:-1,download_expiry:-1,tax_status:"taxable",tax_class:"",manage_stock:!1,stock_quantity:0,stock_status:"outofstock",backorders:"no",backorders_allowed:!1,backordered:!1,sold_individually:!1,weight:"",dimensions:{length:"",width:"",height:""},shipping_required:!1,shipping_taxable:!1,shipping_class:"",shipping_class_id:0,categories:[],reviews_allowed:!1,average_rating:"0",rating_count:0,related_ids:[],upsell_ids:[],cross_sell_ids:[],parent_id:0,purchase_note:"",tags:[],images:[],attributes:[],default_attributes:[],variations:[],grouped_products:[],menu_order:0,meta_data:[],_links:{self:[],collection:[]}}}}async getNonce(){try{let a=await fetch("https://qvwltjhdjw.cfolks.pl/wp-json/king-cart/v1/nonce");if(!a.ok)throw Error(`HTTP error! status: ${a.status}`);let b=await a.text(),c=b,d=b.match(/\{.*\}/);return d&&(c=d[0]),JSON.parse(c)}catch(a){throw console.error("Error getting nonce:",a),a}}async addToCart(a,b=1,c){try{if(!(await this.getNonce()).success)throw Error("Failed to get nonce");let d=await fetch("/api/cart-proxy",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a,quantity:b,variation:c})});if(!d.ok)return{success:!1,message:`HTTP ${d.status}`};return await d.json()}catch(a){return{success:!1,message:a instanceof Error?a.message:"unknown error"}}}async removeFromCart(a){try{let b=await this.getNonce();if(!b.success)throw Error("Failed to get nonce");let c=await fetch("https://qvwltjhdjw.cfolks.pl/wp-json/king-cart/v1/remove-item",{method:"POST",headers:{"Content-Type":"application/json","X-WP-Nonce":b.nonce},body:JSON.stringify({key:a})});if(!c.ok)throw Error(`HTTP error! status: ${c.status}`);return await c.json()}catch(a){throw console.error("Error removing from cart:",a),a}}async updateCartItem(a,b){try{let c=await this.getNonce();if(!c.success)throw Error("Failed to get nonce");let d=await fetch("https://qvwltjhdjw.cfolks.pl/wp-json/king-cart/v1/update-item",{method:"POST",headers:{"Content-Type":"application/json","X-WP-Nonce":c.nonce},body:JSON.stringify({key:a,quantity:b})});if(!d.ok)throw Error(`HTTP error! status: ${d.status}`);return await d.json()}catch(a){throw console.error("Error updating cart item:",a),a}}async getCart(){try{let a=await fetch("https://qvwltjhdjw.cfolks.pl/wp-json/king-cart/v1/cart");if(!a.ok)throw Error(`HTTP error! status: ${a.status}`);return await a.json()}catch(a){throw console.error("Error getting cart:",a),a}}async getProductReviews(a){try{let b=await fetch(`${this.baseUrl}?endpoint=reviews&product_id=${a}&cache=off`);if(!b.ok)throw Error(`HTTP error! status: ${b.status}`);return await b.json()}catch(a){throw console.error("Error fetching product reviews:",a),a}}async createProductReview(a){try{let b=await fetch("/api/reviews",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!b.ok){let a=await b.json().catch(()=>({}));throw Error(a.error||`HTTP error! status: ${b.status}`)}let c=await b.json();return{success:!0,review:{id:c.id,review:c.review,rating:c.rating,reviewer:c.reviewer,date_created:c.date_created}}}catch(a){return console.error("Error creating product review:",a),{success:!1,error:a instanceof Error?a.message:"Failed to create review"}}}async loginUser(a,b){try{let b=await fetch("https://qvwltjhdjw.cfolks.pl/wp-json/wc/v3/customers",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Basic "+btoa("ck_deb61eadd7301ebfc5f8074ce7c53c6668eb725d:cs_0de18ed0e013f96aebfb51c77f506bb94e416cb8")}});if(!b.ok)throw Error(`HTTP error! status: ${b.status}`);let c=(await b.json()).find(b=>b.email===a);if(!c)return{success:!1,error:"Użytkownik nie znaleziony. Sprawdź email lub zarejestruj się."};return{success:!0,user:{id:c.id,email:c.email,name:`${c.first_name||""} ${c.last_name||""}`.trim()||c.email,token:"mock-token"}}}catch(a){return console.error("Error logging in user:",a),{success:!1,error:a instanceof Error?a.message:"Błąd logowania. Sprawdź email i hasło."}}}async registerUser(a){try{let b={email:a.email,password:a.password,first_name:a.first_name||"",last_name:a.last_name||"",billing:{first_name:a.first_name||"",last_name:a.last_name||""},shipping:{first_name:a.first_name||"",last_name:a.last_name||""}},c=await fetch("https://qvwltjhdjw.cfolks.pl/wp-json/wc/v3/customers",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Basic "+btoa("ck_deb61eadd7301ebfc5f8074ce7c53c6668eb725d:cs_0de18ed0e013f96aebfb51c77f506bb94e416cb8")},body:JSON.stringify(b)});if(!c.ok){let a=await c.text();try{let b=JSON.parse(a);if("registration-error-email-exists"===b.code)throw Error(b.message||"Email już istnieje")}catch(a){}throw Error(`HTTP error! status: ${c.status}`)}let d=await c.json();return{success:!0,message:"Rejestracja udana!",user:{id:d.id,username:d.username,email:d.email}}}catch(a){throw console.error("Error registering user:",a),a}}isProductOnSale(a){return a.on_sale||!1}getProductDiscount(a){if(!this.isProductOnSale(a))return 0;let b=parseFloat(a.regular_price||"0"),c=parseFloat(a.sale_price||a.price||"0");return 0===b?0:Math.round((b-c)/b*100)}getProductImageUrl(a,b="medium"){if(!a.images||0===a.images.length)return"/images/placeholder-product.jpg";let c=a.images[0],d="";if("string"==typeof c)d=c;else{if("object"!=typeof c||!c.src)return"/images/placeholder-product.jpg";d=c.src}return d.includes("-300x300.")?d=d.replace("-300x300.","-600x600."):d.includes("-150x150.")?d=d.replace("-150x150.","-600x600."):d.includes("-100x100.")&&(d=d.replace("-100x100.","-600x600.")),d}formatPrice(a){let b="string"==typeof a?parseFloat(a):a;return new Intl.NumberFormat("pl-PL",{style:"currency",currency:"PLN",minimumFractionDigits:2}).format(b)}async getShippingMethods(a="PL",b="",c="",d=""){try{let e=new URLSearchParams({endpoint:"shipping_methods",country:a,state:b,city:c,postcode:d,_fields:"id,method_id,title,cost,settings,zone_id,zone_name"}),f=await fetch(`/api/woocommerce?${e.toString()}`);if(!f.ok){let a=await f.json();throw Error(a.error||"Nie udało się pobrać metod wysyłki")}return((await f.json()).shipping_methods||[]).map(a=>{var b;let c=0,d=0;if("flexible_shipping_single"===a.method_id){let b=a.settings;if(b&&b.method_free_shipping&&b.method_free_shipping.value&&(d=parseFloat(b.method_free_shipping.value)),b&&b.method_rules&&b.method_rules.value&&b.method_rules.value.length>0){let a=b.method_rules.value;a[0]&&a[0].cost_per_order&&(c=parseFloat(a[0].cost_per_order))}}else if("flat_rate"===a.method_id){let b=a.settings;b&&b.cost&&b.cost.value&&(c=parseFloat(b.cost.value))}return{id:a.id,method_id:a.method_id,method_title:a.settings?.method_title?.value||a.method_title||a.title||"Dostawa",method_description:(b=a.settings?.method_description?.value||"")?b.replace(/<[^>]*>/g,"").replace(/&rarr;/g,"→").replace(/&nbsp;/g," ").replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').trim():"",cost:c,free_shipping_threshold:d,zone_id:a.zone_id||0,zone_name:a.zone_name||"",settings:a.settings}})}catch(a){return console.error("Error fetching shipping methods:",a),{success:!0,methods:[{id:"1",method_id:"free_shipping",method_title:"Darmowa wysyłka",method_description:"Darmowa dostawa od 200 zł",cost:0,free_shipping_threshold:2e4,zone_id:"1",zone_name:"Polska"},{id:"2",method_id:"flat_rate",method_title:"Kurier DPD",method_description:"Dostawa w 1-2 dni robocze",cost:1500,free_shipping_threshold:0,zone_id:"1",zone_name:"Polska"},{id:"3",method_id:"local_pickup",method_title:"Odbi\xf3r osobisty",method_description:"Gdańsk, ul. Partyzant\xf3w 8/101",cost:0,free_shipping_threshold:0,zone_id:"1",zone_name:"Polska"}]}}}async getProductVariations(a){try{let b=await fetch(`/api/woocommerce?endpoint=products/${a}/variations&_fields=id,attributes,price,regular_price,sale_price,name,menu_order`);if(!b.ok)throw Error(`HTTP error! status: ${b.status}`);return await b.json()}catch(a){return console.error("Error fetching product variations:",a),{success:!1,error:"Nie udało się pobrać wariant\xf3w produktu"}}}async getProductAttributes(){try{let a=await fetch("/api/woocommerce?endpoint=products/attributes&_fields=id,name,slug,type,order_by,has_archives");if(!a.ok)throw Error(`HTTP error! status: ${a.status}`);return await a.json()}catch(a){return console.error("Error fetching product attributes:",a),{success:!1,error:"Nie udało się pobrać atrybut\xf3w produktu"}}}}let e=new d},24678:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,48365,23)),Promise.resolve().then(c.t.bind(c,64596,23)),Promise.resolve().then(c.t.bind(c,56186,23)),Promise.resolve().then(c.t.bind(c,67805,23)),Promise.resolve().then(c.t.bind(c,27561,23)),Promise.resolve().then(c.t.bind(c,47569,23)),Promise.resolve().then(c.t.bind(c,42747,23)),Promise.resolve().then(c.t.bind(c,56676,23)),Promise.resolve().then(c.bind(c,97225))},27820:(a,b,c)=>{"use strict";c.d(b,{default:()=>t});var d=c(78157),e=c(83042),f=c(72886),g=c(12551),h=c(6046),i=c(20065),j=c(51470),k=c(65740),l=c(40492),m=c(16960),n=c(47169),o=c(41921),p=c(18023),q=c(94496),r=c.n(q),s=c(91712);function t(){let{isOpen:a,closeCart:b,items:c,total:q,itemCount:t,removeItem:u,updateQuantity:v}=(0,n.x)(),{isAuthenticated:w}=(0,o.n)(),x=q/1.23,y=Math.max(0,200-x),z=Math.min(100,x/200*100),A=(a,b)=>{v(a.id,b,a.variant?.id)};return(0,d.jsx)(e.N,{children:a&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(f.P.div,{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:b}),(0,d.jsxs)(f.P.div,{className:"fixed right-0 top-0 h-full bg-white shadow-2xl z-50  w-full max-w-sm lg:max-w-md xl:max-w-lg lg:border-l lg:border-gray-200 flex flex-col rounded-l-2xl rounded-bl-2xl lg:rounded-l-2xl lg:rounded-bl-2xl",initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:200},children:[(0,d.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",onClick:a=>a.stopPropagation(),children:[(0,d.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,d.jsx)(g.A,{className:"w-6 h-6 text-black"}),(0,d.jsxs)("h2",{className:"text-xl font-bold text-black",children:["Koszyk (",t,")"]})]}),(0,d.jsx)("button",{onClick:b,className:"p-2 hover:bg-gray-100 rounded-full transition-colors","aria-label":"Zamknij koszyk",children:(0,d.jsx)(h.A,{className:"w-5 h-5 text-gray-600"})})]}),c.length>0&&(0,d.jsx)("div",{className:"px-6 pt-4",onClick:a=>a.stopPropagation(),children:(0,d.jsx)(f.P.div,{initial:{opacity:0,y:-6},animate:{opacity:1,y:0},className:"rounded-lg border border-emerald-200 bg-emerald-50 p-4",children:(0,d.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,d.jsx)("div",{className:"mt-0.5",children:(0,d.jsx)(i.A,{className:"w-5 h-5 text-emerald-700"})}),(0,d.jsxs)("div",{className:"flex-1",children:[y>0?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("p",{className:"text-sm text-emerald-900 font-medium",children:["Darmowa dostawa od ",(0,d.jsx)("span",{className:"font-semibold",children:"200,00\xa0zł (netto)"})]}),(0,d.jsxs)("p",{className:"text-sm text-emerald-800 mt-0.5",children:["Brakuje jeszcze ",(0,d.jsx)("span",{className:"font-semibold text-emerald-900",children:(0,p.$g)(y)})," do darmowej dostawy."]})]}):(0,d.jsx)("p",{className:"text-sm font-medium text-emerald-800",children:"Masz darmową dostawę! \uD83C\uDF89"}),(0,d.jsx)("div",{className:"mt-3 h-2 w-full rounded-full bg-emerald-100 overflow-hidden",children:(0,d.jsx)("div",{className:"h-full rounded-full bg-emerald-600 transition-all",style:{width:`${z}%`}})})]})]})})}),(0,d.jsx)("div",{className:"flex-1 overflow-y-auto p-6 pb-0",onClick:a=>a.stopPropagation(),children:0===c.length?(0,d.jsxs)("div",{className:"text-center py-12",children:[(0,d.jsx)(g.A,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,d.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Tw\xf3j koszyk jest pusty"}),(0,d.jsx)("p",{className:"text-gray-500 mb-6",children:"Dodaj produkty, aby rozpocząć zakupy"}),(0,d.jsx)("button",{onClick:b,className:"bg-black text-white px-6 py-3 rounded-lg font-medium hover:bg-gray-800 transition-colors",children:"Przejdź do sklepu"})]}):(0,d.jsx)("div",{className:"space-y-2",children:c.map((a,b)=>(0,d.jsxs)("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",onClick:a=>a.stopPropagation(),children:[(0,d.jsx)("div",{className:"w-12 h-12 bg-gray-200 rounded-lg flex-shrink-0",children:a.image?(0,d.jsx)(s.default,{src:a.image,alt:a.name,width:48,height:48,className:"w-full h-full object-cover rounded-lg"}):(0,d.jsx)("div",{className:"w-full h-full bg-gray-300 rounded-lg flex items-center justify-center",children:(0,d.jsx)(g.A,{className:"w-4 h-4 text-gray-500"})})}),(0,d.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,d.jsx)("h3",{className:"text-xs font-medium text-gray-900 leading-tight",children:a.name}),a.variant&&"Pojemność"!==a.variant.name&&(0,d.jsx)("p",{className:"text-xs text-gray-500",children:a.variant.value}),(0,d.jsxs)("p",{className:"text-xs font-medium text-black mt-0.5",children:[(0,p.$g)(a.sale_price||a.price)," (netto)"]})]}),(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)("button",{onClick:()=>A(a,a.quantity-1),className:"p-1 hover:bg-gray-200 rounded transition-colors","aria-label":"Zmniejsz ilość",children:(0,d.jsx)(j.A,{className:"w-4 h-4 text-gray-600"})}),(0,d.jsx)("span",{className:"w-8 text-center text-sm font-medium",children:a.quantity}),(0,d.jsx)("button",{onClick:()=>A(a,a.quantity+1),className:"p-1 hover:bg-gray-200 rounded transition-colors","aria-label":"Zwiększ ilość",children:(0,d.jsx)(k.A,{className:"w-4 h-4 text-gray-600"})})]}),(0,d.jsx)("button",{onClick:()=>{u(a.id,a.variant?.id)},className:"p-2 hover:bg-red-100 rounded-full transition-colors text-red-600","aria-label":"Usuń produkt",children:(0,d.jsx)(l.A,{className:"w-4 h-4"})})]},`${a.id}-${a.variant?.id||"default"}-${b}`))})}),c.length>0&&(0,d.jsxs)("div",{className:"border-t border-gray-200 p-6 space-y-4 bg-white rounded-bl-2xl",onClick:a=>a.stopPropagation(),children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,d.jsx)("span",{className:"text-lg font-bold text-gray-900",children:"Razem:"}),(0,d.jsxs)("span",{className:"text-xl font-bold text-black",children:[(0,p.$g)(x)," (netto)"]})]}),(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsxs)("div",{className:"flex space-x-3",children:[(0,d.jsx)(r(),{href:"/koszyk",className:"flex-1 border-2 border-black text-black py-3 px-4 rounded-lg font-medium hover:bg-black hover:text-white transition-colors flex items-center justify-center",onClick:b,children:(0,d.jsx)("span",{children:"Zobacz koszyk"})}),(0,d.jsxs)(r(),{href:"/checkout",className:"flex-1 border-2 border-black text-black py-3 px-4 rounded-lg font-medium hover:bg-black hover:text-white transition-colors flex items-center justify-center space-x-2",onClick:b,children:[(0,d.jsx)("span",{children:"Kasa"}),(0,d.jsx)(m.A,{className:"w-4 h-4"})]})]}),w&&(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsxs)(r(),{href:"/checkout?payment=google_pay",className:"w-full py-2 px-4 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg font-medium hover:from-blue-700 hover:to-blue-800 transition-all flex items-center justify-center space-x-2",onClick:b,children:[(0,d.jsxs)("svg",{viewBox:"0 0 24 24",className:"w-4 h-4",fill:"currentColor",children:[(0,d.jsx)("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,d.jsx)("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,d.jsx)("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,d.jsx)("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),(0,d.jsx)("span",{children:"Google Pay"})]}),(0,d.jsxs)(r(),{href:"/checkout?payment=apple_pay",className:"w-full py-2 px-4 bg-gradient-to-r from-gray-800 to-black text-white rounded-lg font-medium hover:from-gray-700 hover:to-gray-900 transition-all flex items-center justify-center space-x-2",onClick:b,children:[(0,d.jsx)("svg",{viewBox:"0 0 24 24",className:"w-4 h-4",fill:"currentColor",children:(0,d.jsx)("path",{d:"M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11z"})}),(0,d.jsx)("span",{children:"Apple Pay"})]})]})]})]})]})]})})}},28487:(a,b,c)=>{Promise.resolve().then(c.bind(c,20038)),Promise.resolve().then(c.bind(c,16719)),Promise.resolve().then(c.bind(c,27820)),Promise.resolve().then(c.bind(c,10615)),Promise.resolve().then(c.bind(c,47991)),Promise.resolve().then(c.bind(c,42980)),Promise.resolve().then(c.bind(c,4489))},32465:(a,b,c)=>{"use strict";c.d(b,{E:()=>h});var d=c(78157);c(31768);var e=c(4306),f=c(10573);let g=(0,e.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function h({className:a,variant:b,...c}){return(0,d.jsx)("div",{className:(0,f.cn)(g({variant:b}),a),...c})}},39039:(a,b,c)=>{"use strict";function d(a){if(!a)return{isValid:!0};let b=a.replace(/[\s-]/g,"");if(!/^\d{10}$/.test(b))return{isValid:!1,message:"NIP musi składać się z 10 cyfr"};let c=[6,5,7,2,3,4,5,6,7],d=0;for(let a=0;a<9;a++)d+=parseInt(b[a])*c[a];return d%11!==parseInt(b[9])?{isValid:!1,message:"Nieprawidłowy NIP - błąd w sumie kontrolnej"}:{isValid:!0}}function e(a,b=!0){if(!a||!a.trim())return b?{isValid:!1,message:"Numer telefonu jest wymagany"}:{isValid:!0};let c=a.replace(/[\s\-\(\)]/g,"");return[/^\+48\d{9}$/,/^48\d{9}$/,/^0\d{9}$/,/^\d{9}$/].some(a=>a.test(c))?{isValid:!0}:{isValid:!1,message:"Nieprawidłowy numer telefonu (format: +48 123 456 789 lub 123 456 789)"}}function f(a){return a?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a)?{isValid:!0}:{isValid:!1,message:"Nieprawidłowy format adresu email"}:{isValid:!1,message:"Email jest wymagany"}}function g(a,b){return!a||a.trim().length<2?{isValid:!1,message:`${b} musi mieć co najmniej 2 znaki`}:a.trim().length>50?{isValid:!1,message:`${b} może mieć maksymalnie 50 znak\xf3w`}:{isValid:!0}}function h(a){return a?a.trim().length<2?{isValid:!1,message:"Nazwa firmy musi mieć co najmniej 2 znaki"}:a.trim().length>100?{isValid:!1,message:"Nazwa firmy może mieć maksymalnie 100 znak\xf3w"}:{isValid:!0}:{isValid:!0}}function i(a,b,c=!0){return a&&a.trim()?a.trim().length<5?{isValid:!1,message:`${b} musi mieć co najmniej 5 znak\xf3w`}:a.trim().length>200?{isValid:!1,message:`${b} może mieć maksymalnie 200 znak\xf3w`}:{isValid:!0}:c?{isValid:!1,message:`${b} jest wymagany`}:{isValid:!0}}function j(a,b=!0){if(!a||!a.trim())return b?{isValid:!1,message:"Kod pocztowy jest wymagany"}:{isValid:!0};let c=a.replace(/\s/g,"");return/^\d{2}-\d{3}$/.test(c)?{isValid:!0}:{isValid:!1,message:"Nieprawidłowy kod pocztowy (format: XX-XXX)"}}function k(a){return a?a.length<8?{isValid:!1,message:"Hasło musi mieć co najmniej 8 znak\xf3w"}:/(?=.*[a-z])/.test(a)?/(?=.*[A-Z])/.test(a)?/(?=.*\d)/.test(a)?/(?=.*[@$!%*?&])/.test(a)?{isValid:!0}:{isValid:!1,message:"Hasło musi zawierać znak specjalny (@$!%*?&)"}:{isValid:!1,message:"Hasło musi zawierać cyfrę"}:{isValid:!1,message:"Hasło musi zawierać wielką literę"}:{isValid:!1,message:"Hasło musi zawierać małą literę"}:{isValid:!1,message:"Hasło jest wymagane"}}function l(a,b){return b?a!==b?{isValid:!1,message:"Hasła nie są identyczne"}:{isValid:!0}:{isValid:!1,message:"Potwierdzenie hasła jest wymagane"}}function m(a){if(!a)return"";let b=a.replace(/[\s-]/g,"");return 10===b.length?`${b.slice(0,3)}-${b.slice(3,6)}-${b.slice(6,8)}-${b.slice(8)}`:a}function n(a){if(!a)return"";let b=a.replace(/[\s\-\(\)]/g,"");return b.startsWith("+48")&&12===b.length?`+48 ${b.slice(3,6)} ${b.slice(6,9)} ${b.slice(9)}`:b.startsWith("48")&&11===b.length?`+48 ${b.slice(2,5)} ${b.slice(5,8)} ${b.slice(8)}`:b.startsWith("0")&&10===b.length?`${b.slice(0,3)} ${b.slice(3,6)} ${b.slice(6)}`:a}c.d(b,{C_:()=>l,DT:()=>f,FY:()=>e,Oj:()=>k,ci:()=>d,jl:()=>i,jn:()=>j,qH:()=>n,vb:()=>h,yS:()=>g,zP:()=>m})},41921:(a,b,c)=>{"use strict";c.d(b,{n:()=>g});var d=c(19154),e=c(7904),f=c(21209);let g=(0,d.v)()((0,e.Zr)((a,b)=>({user:null,token:null,isAuthenticated:!1,isLoading:!1,error:null,login:async(b,c)=>{a({isLoading:!0,error:null});try{let d=await f.Ay.loginUser(b,c);if(!d.success||!d.user)throw Error("Błąd logowania");let e=d.user,g={id:e.id,email:e.email,firstName:e.first_name||e.name?.split(" ")[0]||"",lastName:e.last_name||e.name?.split(" ").slice(1).join(" ")||"",role:"customer",billing:{address:e.billing?.address_1||"",city:e.billing?.city||"",postcode:e.billing?.postcode||"",country:e.billing?.country||"PL",phone:e.billing?.phone||"",company:e.billing?.company||"",nip:e.billing?.nip||""},shipping:{address:e.shipping?.address_1||"",city:e.shipping?.city||"",postcode:e.shipping?.postcode||"",country:e.shipping?.country||"PL"}},h=e.token;return a({user:g,token:h,isAuthenticated:!0,isLoading:!1,error:null}),!0}catch(b){return console.error("Login error:",b),a({error:"Błąd logowania. Sprawdź email i hasło.",isLoading:!1}),!1}},register:async b=>{a({isLoading:!0,error:null});try{let c=await f.Ay.registerUser({username:b.email,email:b.email,password:b.password,first_name:"",last_name:""});if(b.marketingConsent)try{await fetch("/api/newsletter/subscribe",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:b.email,firstName:b.firstName,lastName:b.lastName,consent:!0,source:"registration"})})}catch(a){console.error("❌ Newsletter subscription error:",a)}if(!c.success||!c.user)throw Error("Błąd rejestracji");let d=c.user,e={id:d.id,email:d.email,firstName:b.firstName||"",lastName:b.lastName||"",role:"customer",billing:{address:"",city:"",postcode:"",country:"PL",phone:b.phone||""},shipping:{address:"",city:"",postcode:"",country:"PL"}},g="woo-user-token-"+d.id;return a({user:e,token:g,isAuthenticated:!0,isLoading:!1,error:null}),!0}catch(c){console.error("Registration error:",c);let b="Błąd rejestracji. Spr\xf3buj ponownie.";return c instanceof Error&&(b=c.message.includes("registration-error-email-exists")||c.message.includes("Email już istnieje")?"Ten adres email jest już zarejestrowany. Zaloguj się lub użyj innego adresu.":c.message.includes("400")?"Błąd rejestracji. Sprawdź wprowadzone dane i spr\xf3buj ponownie.":c.message),a({error:b,isLoading:!1}),!1}},logout:()=>{a({user:null,token:null,isAuthenticated:!1,error:null})},refreshToken:async()=>{let{token:a}=b();if(!a)return!1;try{return await new Promise(a=>setTimeout(a,500)),!0}catch(a){return console.error("Token refresh error:",a),b().logout(),!1}},updateUser:c=>{let{user:d}=b();d&&a({user:{...d,...c}})},updateProfile:async c=>{let{user:d}=b();if(!d?.id)return{success:!1,message:"Użytkownik nie jest zalogowany"};a({isLoading:!0,error:null});try{let e=await fetch("/api/woocommerce?endpoint=customer/update-profile",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({customer_id:d.id,profile_data:c})}),f=await e.json();if(f.success){let{updateUser:c}=b();return c(f.customer),a({isLoading:!1,error:null}),{success:!0,message:f.message,customer:f.customer}}throw Error(f.error||"Nie udało się zaktualizować profilu")}catch(b){return a({isLoading:!1,error:b.message||"Wystąpił błąd podczas aktualizacji profilu"}),{success:!1,message:b.message||"Wystąpił błąd podczas aktualizacji profilu"}}},changePassword:async(c,d)=>{let{user:e}=b();if(!e?.id)return{success:!1,message:"Użytkownik nie jest zalogowany"};a({isLoading:!0,error:null});try{let b=await fetch("/api/woocommerce?endpoint=customer/change-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({customer_id:e.id,current_password:c,new_password:d})}),f=await b.json();if(f.success)return a({isLoading:!1,error:null}),{success:!0,message:f.message};throw Error(f.error||"Nie udało się zmienić hasła")}catch(b){return a({isLoading:!1,error:b.message||"Wystąpił błąd podczas zmiany hasła"}),{success:!1,message:b.message||"Wystąpił błąd podczas zmiany hasła"}}},clearError:()=>{a({error:null})},setToken:b=>{a({token:b,isAuthenticated:!0})},clearToken:()=>{a({token:null,isAuthenticated:!1})},fetchUserProfile:async()=>{let{token:c,user:d}=b();if(c&&d)try{let b=await fetch("/api/woocommerce?endpoint=customers/"+d.id,{method:"GET",headers:{Authorization:`Bearer ${c}`,"Content-Type":"application/json"}});if(!b.ok)throw Error("Failed to fetch user profile");let e=await b.json(),f=e.meta_data?.find(a=>"billing_nip"===a.key),g=f?.value||"",h={id:e.id,email:e.email,firstName:e.first_name||"",lastName:e.last_name||"",role:"customer",billing:{address:e.billing?.address_1||"",city:e.billing?.city||"",postcode:e.billing?.postcode||"",country:e.billing?.country||"PL",phone:e.billing?.phone||"",company:e.billing?.company||"",nip:g},shipping:{address:e.shipping?.address_1||"",city:e.shipping?.city||"",postcode:e.shipping?.postcode||"",country:e.shipping?.country||"PL"}};a({user:h})}catch(a){console.error("❌ Error fetching user profile:",a)}}}),{name:"filler-auth-storage",partialize:a=>({user:a.user,token:a.token,isAuthenticated:a.isAuthenticated})}))},42980:(a,b,c)=>{"use strict";c.d(b,{default:()=>M});var d=c(78157),e=c(31768),f=c(83042),g=c(72886),h=c(95320),i=c(51383),j=c(56283),k=c(36022),l=c(7225),m=c(60494),n=c(49198),o=c(97452),p=c(22785),q=c(76779),r=c(6046),s=c(8911),t=c(47169),u=c(41921),v=c(48762),w=c(78656),x=c(94496),y=c.n(x),z=c(82610),A=c(5782),B=c(82361),C=c(36564),D=c(90768),E=c(84879);class F{constructor(){this.emailTemplates=new Map,this.sentEmails=[],this.baseUrl="https://qvwltjhdjw.cfolks.pl",this.initializeTemplates()}initializeTemplates(){this.emailTemplates.set("order_confirmation",{id:"order_confirmation",name:"Potwierdzenie zam\xf3wienia",subject:"Potwierdzenie zam\xf3wienia #{orderNumber} - FILLER",html:`
        <!DOCTYPE html>
        <html lang="pl">
        <head>
          <meta charset="UTF-8">
          <meta name="viewport" content="width=device-width, initial-scale=1.0">
          <title>Potwierdzenie zam\xf3wienia</title>
          <style>
            body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; }
            .container { max-width: 600px; margin: 0 auto; padding: 20px; }
            .header { background: #000; color: white; padding: 20px; text-align: center; }
            .content { background: #f9f9f9; padding: 20px; }
            .order-details { background: white; padding: 20px; margin: 20px 0; border-radius: 8px; }
            .item { border-bottom: 1px solid #eee; padding: 10px 0; }
            .total { font-weight: bold; font-size: 18px; text-align: right; margin-top: 20px; }
            .footer { text-align: center; margin-top: 20px; color: #666; }
          </style>
        </head>
        <body>
          <div class="container">
            <div class="header">
              <h1>FILLER</h1>
              <p>Potwierdzenie zam\xf3wienia</p>
            </div>
            
            <div class="content">
              <h2>Dziękujemy za zam\xf3wienie!</h2>
              <p>Witaj {customerName},</p>
              <p>Twoje zam\xf3wienie zostało złożone pomyślnie. Oto szczeg\xf3ły:</p>
              
              <div class="order-details">
                <h3>Zam\xf3wienie #{orderNumber}</h3>
                <p><strong>Data:</strong> {orderDate}</p>
                <p><strong>Metoda płatności:</strong> {paymentMethod}</p>
                
                <h4>Produkty:</h4>
                {items}
                
                <div class="total">
                  <strong>Razem: {total} zł</strong>
                </div>
              </div>
              
              <div class="order-details">
                <h4>Adres rozliczeniowy:</h4>
                <p>{billingAddress}</p>
                
                <h4>Adres dostawy:</h4>
                <p>{shippingAddress}</p>
              </div>
              
              <p>Status zam\xf3wienia będziesz m\xf3gł śledzić w swoim koncie.</p>
              <p>W razie pytań, skontaktuj się z naszym działem obsługi klienta.</p>
            </div>
            
            <div class="footer">
              <p>FILLER - Profesjonalne produkty do pielęgnacji</p>
              <p>\xa9 2024 FILLER. Wszystkie prawa zastrzeżone.</p>
            </div>
          </div>
        </body>
        </html>
      `,text:`
        Potwierdzenie zam\xf3wienia #{orderNumber} - FILLER
        
        Dziękujemy za zam\xf3wienie!
        
        Witaj {customerName},
        
        Twoje zam\xf3wienie zostało złożone pomyślnie. Oto szczeg\xf3ły:
        
        Zam\xf3wienie #{orderNumber}
        Data: {orderDate}
        Metoda płatności: {paymentMethod}
        
        Produkty:
        {items}
        
        Razem: {total} zł
        
        Adres rozliczeniowy:
        {billingAddress}
        
        Adres dostawy:
        {shippingAddress}
        
        Status zam\xf3wienia będziesz m\xf3gł śledzić w swoim koncie.
        W razie pytań, skontaktuj się z naszym działem obsługi klienta.
        
        FILLER - Profesjonalne produkty do pielęgnacji
        \xa9 2024 FILLER. Wszystkie prawa zastrzeżone.
      `}),this.emailTemplates.set("order_shipped",{id:"order_shipped",name:"Zam\xf3wienie wysłane",subject:"Twoje zam\xf3wienie #{orderNumber} zostało wysłane - FILLER",html:`
        <!DOCTYPE html>
        <html lang="pl">
        <head>
          <meta charset="UTF-8">
          <meta name="viewport" content="width=device-width, initial-scale=1.0">
          <title>Zam\xf3wienie wysłane</title>
          <style>
            body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; }
            .container { max-width: 600px; margin: 0 auto; padding: 20px; }
            .header { background: #000; color: white; padding: 20px; text-align: center; }
            .content { background: #f9f9f9; padding: 20px; }
            .tracking { background: #e8f5e8; padding: 20px; margin: 20px 0; border-radius: 8px; border-left: 4px solid #4caf50; }
            .footer { text-align: center; margin-top: 20px; color: #666; }
          </style>
        </head>
        <body>
          <div class="container">
            <div class="header">
              <h1>FILLER</h1>
              <p>Zam\xf3wienie wysłane</p>
            </div>
            
            <div class="content">
              <h2>Twoje zam\xf3wienie zostało wysłane! 🚚</h2>
              <p>Witaj {customerName},</p>
              <p>Mamy przyjemność poinformować, że Twoje zam\xf3wienie #{orderNumber} zostało wysłane.</p>
              
              <div class="tracking">
                <h3>Numer śledzenia:</h3>
                <p><strong>{trackingNumber}</strong></p>
                <p>Możesz śledzić status przesyłki na stronie kuriera.</p>
              </div>
              
              <p>Przewidywany czas dostawy: 1-3 dni robocze</p>
              <p>W razie pytań, skontaktuj się z naszym działem obsługi klienta.</p>
            </div>
            
            <div class="footer">
              <p>FILLER - Profesjonalne produkty do pielęgnacji</p>
              <p>\xa9 2024 FILLER. Wszystkie prawa zastrzeżone.</p>
            </div>
          </div>
        </body>
        </html>
      `,text:`
        Twoje zam\xf3wienie #{orderNumber} zostało wysłane! 🚚
        
        Witaj {customerName},
        
        Mamy przyjemność poinformować, że Twoje zam\xf3wienie #{orderNumber} zostało wysłane.
        
        Numer śledzenia: {trackingNumber}
        Możesz śledzić status przesyłki na stronie kuriera.
        
        Przewidywany czas dostawy: 1-3 dni robocze
        
        W razie pytań, skontaktuj się z naszym działem obsługi klienta.
        
        FILLER - Profesjonalne produkty do pielęgnacji
        \xa9 2024 FILLER. Wszystkie prawa zastrzeżone.
      `}),this.emailTemplates.set("order_delivered",{id:"order_delivered",name:"Zam\xf3wienie dostarczone",subject:"Twoje zam\xf3wienie #{orderNumber} zostało dostarczone - FILLER",html:`
        <!DOCTYPE html>
        <html lang="pl">
        <head>
          <meta charset="UTF-8">
          <meta name="viewport" content="width=device-width, initial-scale=1.0">
          <title>Zam\xf3wienie dostarczone</title>
          <style>
            body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; }
            .container { max-width: 600px; margin: 0 auto; padding: 20px; }
            .header { background: #000; color: white; padding: 20px; text-align: center; }
            .content { background: #f9f9f9; padding: 20px; }
            .success { background: #e8f5e8; padding: 20px; margin: 20px 0; border-radius: 8px; border-left: 4px solid #4caf50; }
            .footer { text-align: center; margin-top: 20px; color: #666; }
          </style>
        </head>
        <body>
          <div class="container">
            <div class="header">
              <h1>FILLER</h1>
              <p>Zam\xf3wienie dostarczone</p>
            </div>
            
            <div class="content">
              <h2>Twoje zam\xf3wienie zostało dostarczone! 🎉</h2>
              <p>Witaj {customerName},</p>
              <p>Mamy przyjemność poinformować, że Twoje zam\xf3wienie #{orderNumber} zostało dostarczone.</p>
              
              <div class="success">
                <h3>Dostawa zakończona pomyślnie!</h3>
                <p>Sprawdź czy wszystkie produkty są w porządku.</p>
                <p>W razie problem\xf3w, skontaktuj się z nami w ciągu 14 dni.</p>
              </div>
              
              <p>Dziękujemy za zakupy w FILLER!</p>
              <p>Mamy nadzieję, że produkty spełnią Twoje oczekiwania.</p>
            </div>
            
            <div class="footer">
              <p>FILLER - Profesjonalne produkty do pielęgnacji</p>
              <p>\xa9 2024 FILLER. Wszystkie prawa zastrzeżone.</p>
            </div>
          </div>
        </body>
        </html>
      `,text:`
        Twoje zam\xf3wienie #{orderNumber} zostało dostarczone! 🎉
        
        Witaj {customerName},
        
        Mamy przyjemność poinformować, że Twoje zam\xf3wienie #{orderNumber} zostało dostarczone.
        
        Dostawa zakończona pomyślnie!
        Sprawdź czy wszystkie produkty są w porządku.
        W razie problem\xf3w, skontaktuj się z nami w ciągu 14 dni.
        
        Dziękujemy za zakupy w FILLER!
        Mamy nadzieję, że produkty spełnią Twoje oczekiwania.
        
        FILLER - Profesjonalne produkty do pielęgnacji
        \xa9 2024 FILLER. Wszystkie prawa zastrzeżone.
      `}),this.emailTemplates.set("password_reset",{id:"password_reset",name:"Reset hasła",subject:"Reset hasła - FILLER",html:`
        <!DOCTYPE html>
        <html lang="pl">
        <head>
          <meta charset="UTF-8">
          <meta name="viewport" content="width=device-width, initial-scale=1.0">
          <title>Reset hasła</title>
          <style>
            body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; }
            .container { max-width: 600px; margin: 0 auto; padding: 20px; }
            .header { background: #000; color: white; padding: 20px; text-align: center; }
            .content { background: #f9f9f9; padding: 20px; }
            .button { display: inline-block; background: #000; color: white; padding: 12px 24px; text-decoration: none; border-radius: 4px; margin: 20px 0; }
            .footer { text-align: center; margin-top: 20px; color: #666; }
          </style>
        </head>
        <body>
          <div class="container">
            <div class="header">
              <h1>FILLER</h1>
              <p>Reset hasła</p>
            </div>
            
            <div class="content">
              <h2>Reset hasła</h2>
              <p>Witaj {customerName},</p>
              <p>Otrzymaliśmy prośbę o reset hasła do Twojego konta.</p>
              <p>Kliknij poniższy przycisk, aby ustawić nowe hasło:</p>
              
              <a href="{resetLink}" class="button">Ustaw nowe hasło</a>
              
              <p>Link jest ważny przez 24 godziny.</p>
              <p>Jeśli nie prosiłeś o reset hasła, zignoruj ten email.</p>
            </div>
            
            <div class="footer">
              <p>FILLER - Profesjonalne produkty do pielęgnacji</p>
              <p>\xa9 2024 FILLER. Wszystkie prawa zastrzeżone.</p>
            </div>
          </div>
        </body>
        </html>
      `,text:`
        Reset hasła - FILLER
        
        Witaj {customerName},
        
        Otrzymaliśmy prośbę o reset hasła do Twojego konta.
        
        Kliknij poniższy link, aby ustawić nowe hasło:
        {resetLink}
        
        Link jest ważny przez 24 godziny.
        
        Jeżeli nie prosiłeś o reset hasła, zignoruj ten email.
        
        FILLER - Profesjonalne produkty do pielęgnacji
        \xa9 2024 FILLER. Wszystkie prawa zastrzeżone.
      `})}async sendEmail(a){try{if(!this.emailTemplates.get(a.template))throw Error(`Szablon email '${a.template}' nie istnieje`);return{success:!0,messageId:this.generateMessageId(),status:"sent",message:"Email zostanie wysłany przez WooCommerce (adapter)",sentAt:new Date}}catch(a){return console.error("❌ Błąd wysyłania email przez WordPress:",a),{success:!1,messageId:this.generateMessageId(),status:"failed",message:a instanceof Error?a.message:"Nieznany błąd",sentAt:new Date}}}async sendOrderConfirmation(a){let b={orderNumber:a.orderNumber,customerName:a.customerName,customerEmail:a.customerEmail,orderDate:a.orderDate,total:this.formatPrice(a.total),items:this.formatOrderItems(a.items),billingAddress:this.formatAddress(a.billingAddress),shippingAddress:this.formatAddress(a.shippingAddress),paymentMethod:a.paymentMethod};return this.sendEmail({to:a.customerEmail,toName:a.customerName,template:"order_confirmation",variables:b})}async sendOrderShipped(a){if(!a.trackingNumber)throw Error("Brak numeru śledzenia dla wysłanego zam\xf3wienia");let b={orderNumber:a.orderNumber,customerName:a.customerName,trackingNumber:a.trackingNumber};return this.sendEmail({to:a.customerEmail,toName:a.customerName,template:"order_shipped",variables:b})}async sendOrderDelivered(a){let b={orderNumber:a.orderNumber,customerName:a.customerName};return this.sendEmail({to:a.customerEmail,toName:a.customerName,template:"order_delivered",variables:b})}async sendPasswordReset(a,b,c){return this.sendEmail({to:a,toName:b,template:"password_reset",variables:{customerName:b,resetLink:c}})}getSentEmails(){return[...this.sentEmails]}getTemplates(){return Array.from(this.emailTemplates.values())}processTemplate(a,b){let c=a;for(let[a,d]of Object.entries(b)){let b=`{${a}}`;c=c.replace(RegExp(b,"g"),String(d))}return c}formatOrderItems(a){return a.map(a=>`<div class="item">
        <strong>${a.name}</strong> x ${a.quantity} = ${this.formatPrice(a.total)}
      </div>`).join("")}formatAddress(a){return`${a.address}, ${a.city} ${a.postcode}, ${a.country}`}formatPrice(a){return`${(a/100).toFixed(2)} zł`}generateMessageId(){let a=Date.now(),b=Math.random().toString(36).substring(2,8);return`MSG-${a}-${b}`.toUpperCase()}delay(a){return new Promise(b=>setTimeout(b,a))}}let G=new F;function H({isOpen:a,onClose:b}){let[c,h]=(0,e.useState)([]),[j,k]=(0,e.useState)([]),[l,m]=(0,e.useState)(null),[n,o]=(0,e.useState)(!1),p=()=>{h(G.getTemplates()),k(G.getSentEmails())},q=async a=>{o(!0);try{let b={to:"test@example.com",toName:"Test User",template:a,variables:{orderNumber:"TEST-123",customerName:"Jan Kowalski",customerEmail:"jan@example.com",orderDate:new Date().toLocaleDateString("pl-PL"),total:"299.00 zł",items:'<div class="item"><strong>Test Product</strong> x 1 = 299.00 zł</div>',billingAddress:"ul. Testowa 123, Warszawa 00-001, PL",shippingAddress:"ul. Testowa 123, Warszawa 00-001, PL",paymentMethod:"Karta kredytowa",trackingNumber:"TRK123456789",resetLink:"https://example.com/reset-password"}},c=await G.sendEmail(b);c.success?p():console.error("❌ Błąd wysyłania test email:",c.message)}catch(a){console.error("❌ Błąd test email:",a)}finally{o(!1)}};return a?(0,d.jsx)(f.N,{children:(0,d.jsxs)(g.P.div,{className:"fixed inset-0 z-50 flex items-center justify-center p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[(0,d.jsx)(g.P.div,{className:"absolute inset-0 bg-black bg-opacity-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:b}),(0,d.jsxs)(g.P.div,{className:"relative bg-white rounded-lg shadow-xl w-full max-w-6xl mx-auto max-h-[90vh] overflow-y-auto",initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},transition:{duration:.2},children:[(0,d.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 sticky top-0 bg-white",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,d.jsx)(i.A,{className:"w-6 h-6 text-blue-600"}),(0,d.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Email Notification Center"})]}),(0,d.jsx)("button",{onClick:b,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,d.jsx)(B.A,{className:"w-6 h-6"})})]}),(0,d.jsxs)("div",{className:"p-6",children:[(0,d.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,d.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Szablony Email"}),(0,d.jsxs)("button",{onClick:p,className:"flex items-center space-x-2 text-sm text-gray-600 hover:text-black transition-colors",children:[(0,d.jsx)(D.A,{className:"w-4 h-4"}),(0,d.jsx)("span",{children:"Odśwież"})]})]}),(0,d.jsx)("div",{className:"space-y-3",children:c.map(a=>(0,d.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-gray-300 transition-colors",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,d.jsx)("h4",{className:"font-medium text-gray-900",children:a.name}),(0,d.jsx)("button",{onClick:()=>m(a),className:"text-blue-600 hover:text-blue-800 transition-colors",children:(0,d.jsx)(E.A,{className:"w-4 h-4"})})]}),(0,d.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:a.subject}),(0,d.jsx)("button",{onClick:()=>q(a.id),disabled:n,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:n?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Wysyłanie..."]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(z.A,{className:"w-4 h-4"}),"Wyślij test"]})})]},a.id))})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Historia wysłanych emaili"}),(0,d.jsx)("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:0===j.length?(0,d.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,d.jsx)(i.A,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"}),(0,d.jsx)("p",{children:"Brak wysłanych emaili"})]}):j.map(a=>(0,d.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(a=>{switch(a){case"sent":return(0,d.jsx)(z.A,{className:"w-4 h-4 text-blue-600"});case"delivered":return(0,d.jsx)(A.A,{className:"w-4 h-4 text-green-600"});case"failed":return(0,d.jsx)(B.A,{className:"w-4 h-4 text-red-600"});default:return(0,d.jsx)(C.A,{className:"w-4 h-4 text-gray-600"})}})(a.status),(0,d.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${(a=>{switch(a){case"sent":return"text-blue-600 bg-blue-50";case"delivered":return"text-green-600 bg-green-50";case"failed":return"text-red-600 bg-red-50";default:return"text-gray-600 bg-gray-50"}})(a.status)}`,children:a.status})]}),(0,d.jsx)("span",{className:"text-xs text-gray-500",children:a.sentAt.toLocaleString("pl-PL")})]}),(0,d.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:a.message}),(0,d.jsx)("p",{className:"text-xs text-gray-500 font-mono",children:a.messageId})]},a.messageId))})]})]}),l&&(0,d.jsxs)(g.P.div,{className:"fixed inset-0 z-60 flex items-center justify-center p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[(0,d.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-75",onClick:()=>m(null)}),(0,d.jsxs)("div",{className:"relative bg-white rounded-lg shadow-xl w-full max-w-4xl mx-auto max-h-[90vh] overflow-y-auto",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,d.jsxs)("h3",{className:"text-xl font-semibold text-gray-900",children:["Podgląd szablonu: ",l.name]}),(0,d.jsx)("button",{onClick:()=>m(null),className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,d.jsx)(B.A,{className:"w-6 h-6"})})]}),(0,d.jsxs)("div",{className:"p-6",children:[(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Temat:"}),(0,d.jsx)("p",{className:"text-gray-600",children:l.subject})]}),(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"HTML:"}),(0,d.jsx)("div",{className:"bg-gray-100 p-4 rounded-lg overflow-x-auto",children:(0,d.jsx)("pre",{className:"text-sm text-gray-800 whitespace-pre-wrap",children:l.html})})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Text:"}),(0,d.jsx)("div",{className:"bg-gray-100 p-4 rounded-lg",children:(0,d.jsx)("pre",{className:"text-sm text-gray-800 whitespace-pre-wrap",children:l.text})})]})]})]})]})]})]})]})}):null}var I=c(42028);c(21209);var J=c(18023),K=c(91712);function L({placeholder:a="Szukaj produkt\xf3w...",className:b="",onSearch:c}){let[i,j]=(0,e.useState)(""),[k,l]=(0,e.useState)(!1),[m,n]=(0,e.useState)([]),[o]=(0,e.useState)([]),[p,q]=(0,e.useState)([]),[s,t]=(0,e.useState)([]),[u,v]=(0,e.useState)(null),[w,x]=(0,e.useState)(!1),[y,z]=(0,e.useState)(!1),A=(0,e.useRef)(null),B=(0,e.useRef)(null),C=(0,e.useRef)(new Map),D=(0,e.useRef)(null),E=a=>{try{let b=localStorage.getItem("filler_recent_searches"),c=b?JSON.parse(b):[];(c=c.filter(b=>b!==a)).unshift(a),c=c.slice(0,10),localStorage.setItem("filler_recent_searches",JSON.stringify(c)),q(c)}catch(a){console.error("Error saving recent search:",a)}},F=(0,e.useCallback)(a=>{if(j(a),D.current&&clearTimeout(D.current),a.length<2){n([]),t([]),z(!1),l(!1);return}D.current=setTimeout(async()=>{if(!u){t([]),z(!1),l(!1);return}try{if(x(!0),l(!0),C.current.has(a)){let b=C.current.get(a)||[];t(b),z(b.length>0),x(!1);return}let b=(await u.getProducts({search:a,per_page:8})).data||[];C.current.set(a,b),t(b),z(b.length>0)}catch(a){console.error("Search error:",a),t([]),z(!1)}finally{x(!1)}},200)},[u]);return(0,d.jsxs)("div",{className:`relative ${b}`,ref:A,children:[(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,d.jsx)(h.A,{className:"h-5 w-5 text-gray-400"})}),(0,d.jsx)("input",{ref:B,type:"text",value:i,onChange:a=>F(a.target.value),onKeyDown:a=>{if("Enter"===a.key)i.trim()&&(E(i.trim()),l(!1),j(""),c?c(i.trim()):window.location.href=`/wyszukiwanie?q=${encodeURIComponent(i.trim())}`);else"Escape"===a.key&&l(!1)},onFocus:()=>{(i.length>=2||m.length>0||o.length>0)&&l(!0)},className:"block w-full pl-10 pr-10 py-3 border border-gray-300 rounded-lg leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-2 focus:ring-black focus:border-transparent text-sm",placeholder:a}),i&&(0,d.jsx)("button",{onClick:()=>{j(""),n([]),t([]),z(!1),l(!1),B.current?.focus()},className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:(0,d.jsx)(r.A,{className:"h-5 w-5 text-gray-400 hover:text-gray-600 transition-colors"})})]}),(0,d.jsx)(f.N,{children:k&&(0,d.jsxs)(g.P.div,{className:"absolute z-50 w-full mt-2 bg-white rounded-lg shadow-lg border border-gray-200 overflow-hidden",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:[w&&(0,d.jsxs)("div",{className:"p-4 text-center text-gray-500",children:[(0,d.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-black mx-auto"}),(0,d.jsx)("p",{className:"mt-2",children:"Wyszukiwanie..."})]}),!w&&y&&s.length>0&&(0,d.jsxs)("div",{className:"border-b border-gray-100",children:[(0,d.jsxs)("div",{className:"px-4 py-2 bg-gray-50 text-xs font-medium text-gray-600 uppercase tracking-wide",children:["Produkty (",s.length,")"]}),(0,d.jsx)("div",{className:"max-h-64 overflow-y-auto",children:s.map(a=>(0,d.jsxs)("div",{onClick:()=>{E(i),l(!1),j(""),window.location.href=`/produkt/${a.slug}`},className:"flex items-center p-3 hover:bg-gray-50 cursor-pointer transition-colors",children:[(0,d.jsx)("div",{className:"flex-shrink-0 w-12 h-12 bg-gray-200 rounded-lg mr-3",children:a.images&&a.images.length>0?(0,d.jsx)(K.default,{src:a.images[0].src,alt:a.images[0].alt||a.name,width:48,height:48,className:"w-full h-full object-cover rounded-lg"}):(0,d.jsx)("div",{className:"w-full h-full bg-gray-300 rounded-lg"})}),(0,d.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,d.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:a.name}),(0,d.jsx)("p",{className:"text-xs text-gray-500 truncate",children:a.categories&&a.categories.length>0?a.categories[0].name:"Produkt"}),(0,d.jsxs)("div",{className:"flex items-center mt-1",children:[(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)(I.A,{className:"w-3 h-3 text-yellow-400 fill-current"}),(0,d.jsx)("span",{className:"text-xs text-gray-600 ml-1",children:parseFloat(a.average_rating)||0})]}),(0,d.jsx)("span",{className:"text-xs text-gray-400 mx-2",children:"•"}),(0,d.jsxs)("span",{className:"text-xs text-gray-600",children:[a.rating_count," opinii"]})]})]}),(0,d.jsxs)("div",{className:"flex-shrink-0 ml-3 text-right",children:[(0,d.jsx)("p",{className:"text-sm font-medium text-gray-900",children:(0,J.$g)(parseFloat(a.sale_price||a.price||"0"))}),a.sale_price&&(0,d.jsx)("p",{className:"text-xs text-gray-500 line-through",children:(0,J.$g)(parseFloat(a.price||"0"))})]})]},a.id))})]}),!w&&i.length>=2&&!y&&0===m.length&&(0,d.jsxs)("div",{className:"p-4 text-center text-gray-500",children:[(0,d.jsx)(h.A,{className:"w-8 h-8 text-gray-300 mx-auto mb-2"}),(0,d.jsxs)("p",{children:['Nie znaleziono produkt\xf3w dla "',i,'"']}),(0,d.jsx)("p",{className:"text-sm mt-1",children:"Spr\xf3buj inne słowa kluczowe"})]}),!w&&0===i.length&&0===m.length&&0===s.length&&(0,d.jsxs)("div",{className:"p-4 text-center text-gray-500",children:[(0,d.jsx)(h.A,{className:"w-8 h-8 text-gray-300 mx-auto mb-2"}),(0,d.jsx)("p",{children:"Wpisz nazwę produktu, aby rozpocząć wyszukiwanie"})]})]})})]})}function M(){let[a,b]=(0,e.useState)(!1),[c,x]=(0,e.useState)(!1),[z,A]=(0,e.useState)(!1),[B,C]=(0,e.useState)(!1),[D,E]=(0,e.useState)(0),[F,G]=(0,e.useState)(!1),I=0,J=()=>{},K=null,M=!1,N=()=>{},O=()=>{};try{let a=(0,t.x)();I=a.itemCount,J=a.openCart}catch(a){console.warn("Cart store not available:",a)}try{let a=(0,u.n)();K=a.user,M=a.isAuthenticated,N=a.logout}catch(a){console.warn("Auth store not available:",a)}try{let a=(0,v.I)();O=a.openFavoritesModal,a.getFavoritesCount,a.favorites}catch(a){console.warn("Favorites store not available:",a)}let{getItemCount:P}=(0,w.n)();return P(),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-50",children:[(0,d.jsx)("div",{className:"max-w-[95vw] mx-auto px-4 sm:px-6",children:(0,d.jsxs)("div",{className:"flex items-center justify-between h-16 sm:h-20",children:[(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-black rounded-lg flex items-center justify-center mr-2 sm:mr-3",children:(0,d.jsx)("span",{className:"text-white text-lg sm:text-xl font-bold",children:"F"})}),(0,d.jsx)("span",{className:"text-xl sm:text-2xl font-bold text-black",children:"FILLER"})]}),(0,d.jsxs)("nav",{className:"hidden lg:flex items-center space-x-8",children:[(0,d.jsx)(y(),{href:"/",className:"text-gray-700 hover:text-black transition-colors font-medium",children:"Strona gł\xf3wna"}),(0,d.jsx)("a",{href:"/sklep",className:"text-gray-700 hover:text-black transition-colors font-medium",children:"Sklep"}),(0,d.jsx)("a",{href:"/o-nas",className:"text-gray-700 hover:text-black transition-colors font-medium",children:"O nas"}),(0,d.jsx)("a",{href:"/kontakt",className:"text-gray-700 hover:text-black transition-colors font-medium",children:"Kontakt"})]}),(0,d.jsxs)("div",{className:"flex items-center space-x-4 lg:space-x-6",children:[(0,d.jsx)("div",{className:"hidden md:block",children:(0,d.jsx)(L,{placeholder:"Szukaj produkt\xf3w...",className:"w-64"})}),(0,d.jsx)("button",{className:"md:hidden text-gray-700 hover:text-black transition duration-150 ease-out will-change-transform hover:scale-[1.04] active:scale-[0.98] hover:-translate-y-0.5 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-black/20 rounded",onClick:()=>C(!B),"aria-label":"Szukaj produkt\xf3w",children:(0,d.jsx)(h.A,{className:"w-6 h-6"})}),M&&K?.role==="admin"&&(0,d.jsx)("button",{onClick:()=>A(!0),className:"text-gray-700 hover:text-black transition duration-150 ease-out will-change-transform hover:scale-[1.04] active:scale-[0.98] hover:-translate-y-0.5 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-black/20 rounded",title:"Email Notification Center","aria-label":"Centrum powiadomień email",children:(0,d.jsx)(i.A,{className:"w-6 h-6"})}),(0,d.jsxs)("div",{className:"hidden md:flex items-center space-x-4",children:[M?(0,d.jsxs)("div",{className:"relative user-menu-container",children:[(0,d.jsxs)("button",{onClick:()=>x(!c),className:"text-gray-700 hover:text-black transition duration-150 ease-out will-change-transform hover:scale-[1.04] active:scale-[0.98] hover:-translate-y-0.5 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-black/20 rounded flex items-center space-x-2",children:[(0,d.jsx)(j.A,{className:"w-6 h-6"}),(0,d.jsx)("span",{className:"text-sm font-medium",children:K?.firstName||"Moje konto"}),(0,d.jsx)(k.A,{className:`w-4 h-4 transition-transform duration-200 ${c?"rotate-180":""}`})]}),(0,d.jsx)(f.N,{children:c&&(0,d.jsxs)(g.P.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2,ease:"easeOut"},className:"absolute right-0 top-full mt-2 w-64 bg-white rounded-xl shadow-lg border border-gray-200 py-2 z-50",children:[(0,d.jsx)("div",{className:"px-4 py-3 border-b border-gray-100",children:(0,d.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,d.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:(0,d.jsx)(j.A,{className:"w-5 h-5 text-white"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"font-medium text-gray-900 text-sm",children:K?.firstName&&K?.lastName?`${K.firstName} ${K.lastName}`:K?.email}),(0,d.jsx)("p",{className:"text-xs text-gray-500",children:K?.email})]})]})}),(0,d.jsxs)("div",{className:"py-1",children:[(0,d.jsxs)(y(),{href:"/moje-konto",className:"flex items-center space-x-3 px-4 py-3 text-sm text-gray-700 hover:bg-gray-50 hover:text-gray-900 transition-colors",onClick:()=>x(!1),children:[(0,d.jsx)(l.A,{className:"w-4 h-4"}),(0,d.jsx)("span",{children:"Moje konto"})]}),(0,d.jsxs)(y(),{href:"/moje-zamowienia",className:"flex items-center space-x-3 px-4 py-3 text-sm text-gray-700 hover:bg-gray-50 hover:text-gray-900 transition-colors",onClick:()=>x(!1),children:[(0,d.jsx)(m.A,{className:"w-4 h-4"}),(0,d.jsx)("span",{children:"Moje zam\xf3wienia"})]}),(0,d.jsxs)("button",{onClick:()=>{O(),x(!1)},className:"flex items-center space-x-3 px-4 py-3 text-sm text-gray-700 hover:bg-gray-50 hover:text-gray-900 transition-colors w-full text-left",children:[(0,d.jsx)(n.A,{className:"w-4 h-4"}),(0,d.jsx)("span",{children:"Ulubione"}),D>0&&(0,d.jsx)("span",{className:"ml-auto bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:D})]}),(0,d.jsxs)(y(),{href:"/moje-faktury",className:"flex items-center space-x-3 px-4 py-3 text-sm text-gray-700 hover:bg-gray-50 hover:text-gray-900 transition-colors",onClick:()=>x(!1),children:[(0,d.jsx)(o.A,{className:"w-4 h-4"}),(0,d.jsx)("span",{children:"Faktury"})]})]}),(0,d.jsx)("div",{className:"border-t border-gray-100 pt-1",children:(0,d.jsxs)("button",{onClick:()=>{N(),x(!1)},className:"flex items-center space-x-3 px-4 py-3 text-sm text-red-600 hover:bg-red-50 hover:text-red-700 transition-colors w-full text-left",children:[(0,d.jsx)(p.A,{className:"w-4 h-4"}),(0,d.jsx)("span",{children:"Wyloguj się"})]})})]})})]}):(0,d.jsx)("button",{type:"button",onClick:()=>{try{let a=new CustomEvent("openLogin");window.dispatchEvent(a),"undefined"!=typeof document&&document.dispatchEvent(a)}catch(a){console.error("[Auth] openLogin event error",a)}},className:"text-gray-700 hover:text-black transition duration-150 ease-out will-change-transform hover:scale-[1.04] active:scale-[0.98] hover:-translate-y-0.5 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-black/20 rounded","data-test":"open-login-btn","aria-label":"Zaloguj się",children:(0,d.jsx)(j.A,{className:"w-6 h-6"})}),(0,d.jsxs)("button",{className:"text-gray-700 hover:text-black transition duration-150 ease-out will-change-transform hover:scale-[1.04] active:scale-[0.98] hover:-translate-y-0.5 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-black/20 rounded relative group",onClick:O,title:"Ulubione","aria-label":"Ulubione produkty",children:[(0,d.jsx)(n.A,{className:"w-6 h-6 group-hover:text-red-500 transition-colors"}),F&&D>0&&(0,d.jsx)("span",{className:"pointer-events-none absolute -top-2 -right-2 bg-red-500 text-white text-[10px] rounded-full w-4 h-4 flex items-center justify-center ring-2 ring-white animate-pulse",children:D})]})]}),(0,d.jsxs)("button",{className:"text-gray-700 hover:text-black transition duration-150 ease-out will-change-transform hover:scale-[1.04] active:scale-[0.98] hover:-translate-y-0.5 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-black/20 rounded relative group",onClick:()=>{J()},title:"Koszyk","aria-label":"Koszyk zakupowy",children:[(0,d.jsx)(q.A,{className:"w-6 h-6 group-hover:text-green-600 transition-colors"}),I>0&&(0,d.jsx)("span",{className:"pointer-events-none absolute -top-2 -right-2 bg-green-500 text-white text-[10px] rounded-full w-4 h-4 flex items-center justify-center ring-2 ring-white animate-bounce",children:I})]}),(0,d.jsx)("button",{className:"lg:hidden text-gray-700 hover:text-black transition duration-150 ease-out will-change-transform hover:scale-[1.04] active:scale-[0.98] hover:-translate-y-0.5 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-black/20 rounded",onClick:()=>b(!a),"aria-label":a?"Zamknij menu":"Otw\xf3rz menu",children:a?(0,d.jsx)(r.A,{className:"w-6 h-6"}):(0,d.jsx)(s.A,{className:"w-6 h-6"})})]})]})}),(0,d.jsx)(f.N,{children:B&&(0,d.jsx)(g.P.div,{className:"md:hidden bg-white border-t border-gray-200 shadow-lg",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3,ease:"easeInOut"},children:(0,d.jsx)("div",{className:"px-4 py-4",children:(0,d.jsx)(L,{placeholder:"Szukaj produkt\xf3w...",className:"w-full"})})})}),(0,d.jsx)(f.N,{children:a&&(0,d.jsx)(g.P.div,{className:"lg:hidden bg-white border-t border-gray-200 shadow-lg",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3,ease:"easeInOut"},children:(0,d.jsxs)("div",{className:"px-6 py-6 space-y-6",children:[(0,d.jsxs)("nav",{className:"space-y-4",children:[(0,d.jsx)(y(),{href:"/",className:"block text-lg font-medium text-gray-700 hover:text-black transition-colors py-3 border-b border-gray-100",onClick:()=>{b(!1),C(!1)},children:"Strona gł\xf3wna"}),(0,d.jsx)("a",{href:"/sklep",className:"block text-lg font-medium text-gray-700 hover:text-black transition-colors py-3 border-b border-gray-100",onClick:()=>{b(!1),C(!1)},children:"Sklep"}),(0,d.jsx)("a",{href:"/o-nas",className:"block text-lg font-medium text-gray-700 hover:text-black transition-colors py-3 border-b border-gray-100",onClick:()=>{b(!1),C(!1)},children:"O nas"}),(0,d.jsx)("a",{href:"/kontakt",className:"block text-lg font-medium text-gray-700 hover:text-black transition-colors py-3 border-b border-gray-100",onClick:()=>{b(!1),C(!1)},children:"Kontakt"})]}),(0,d.jsxs)("div",{className:"flex items-center space-x-4 pt-4",children:[M?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(y(),{href:"/moje-konto",className:"flex items-center space-x-2 text-gray-700 hover:text-black transition-colors py-3",onClick:()=>b(!1),children:[(0,d.jsx)(j.A,{className:"w-6 h-6"}),(0,d.jsx)("span",{className:"text-sm font-medium",children:"Moje konto"})]}),(0,d.jsxs)(y(),{href:"/moje-zamowienia",className:"flex items-center space-x-2 text-gray-700 hover:text-black transition-colors py-3",onClick:()=>b(!1),children:[(0,d.jsx)(m.A,{className:"w-6 h-6"}),(0,d.jsx)("span",{className:"text-sm font-medium",children:"Moje zam\xf3wienia"})]}),(0,d.jsxs)("button",{onClick:()=>{N(),b(!1)},className:"flex items-center space-x-2 text-red-600 hover:text-red-700 transition-colors py-3",children:[(0,d.jsx)(p.A,{className:"w-6 h-6"}),(0,d.jsx)("span",{className:"text-sm font-medium",children:"Wyloguj się"})]})]}):(0,d.jsxs)("button",{onClick:()=>{b(!1),window.dispatchEvent(new CustomEvent("openLogin"))},className:"flex items-center space-x-2 text-gray-700 hover:text-black transition-colors py-3",children:[(0,d.jsx)(j.A,{className:"w-6 h-6"}),(0,d.jsx)("span",{className:"text-sm font-medium",children:"Zaloguj się"})]}),(0,d.jsxs)("button",{onClick:()=>{O(),b(!1)},className:"flex items-center space-x-2 text-gray-700 hover:text-black transition-colors py-3 w-full text-left",children:[(0,d.jsx)(n.A,{className:"w-6 h-6"}),(0,d.jsx)("span",{className:"text-sm font-medium",children:"Ulubione"}),D>0&&(0,d.jsx)("span",{className:"ml-auto bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:D})]})]})]})})})]}),(0,d.jsx)(H,{isOpen:z,onClose:()=>A(!1)})]})}},47169:(a,b,c)=>{"use strict";c.d(b,{x:()=>h});var d=c(19154),e=c(7904),f=c(21209),g=c(18023);let h=(0,d.v)()((0,e.Zr)((a,b)=>({items:[],isOpen:!1,total:0,itemCount:0,addItem:async c=>{try{let{items:d}=b(),e=d.findIndex(a=>a.id===c.id&&a.variant?.id===c.variant?.id);if(e>-1){let b=[...d];b[e].quantity+=c.quantity||1,a({items:b})}else{let b={...c,quantity:c.quantity||1};a({items:[...d,b]})}b().calculateTotal();try{(await f.Ay.addToCart(c.id,c.quantity||1,c.variant?{id:c.variant.id,attributes:c.attributes||{}}:void 0)).success}catch(a){}}catch(a){throw console.error("❌ Error adding item to cart:",a),a}},removeItem:async(c,d)=>{try{let{items:e}=b();if(e.find(a=>a.id===c&&(!d||a.variant?.id===d))){let f=e.filter(a=>!(a.id===c&&(!d||a.variant?.id===d)));a({items:f}),b().calculateTotal()}}catch(f){console.error("Error removing item from cart:",f);let{items:e}=b();a({items:e.filter(a=>!(a.id===c&&(!d||a.variant?.id===d)))}),b().calculateTotal()}},updateQuantity:async(c,d,e)=>{if(d<=0)return void await b().removeItem(c,e);try{let{items:f}=b(),g=f.map(a=>a.id!==c||e&&a.variant?.id!==e?a:{...a,quantity:d});a({items:g}),b().calculateTotal()}catch(g){console.error("Error updating item quantity:",g);let{items:f}=b();a({items:f.map(a=>a.id!==c||e&&a.variant?.id!==e?a:{...a,quantity:d})}),b().calculateTotal()}},clearCart:()=>{a({items:[],total:0,itemCount:0})},toggleCart:()=>{a(a=>({isOpen:!a.isOpen}))},openCart:()=>{a({isOpen:!0})},closeCart:()=>{a({isOpen:!1})},calculateTotal:()=>{let{items:c}=b();a({total:c.reduce((a,b)=>{let c=b.sale_price||b.price;return a+(0,g.FP)(c)*b.quantity},0),itemCount:c.reduce((a,b)=>a+b.quantity,0)})}}),{name:"filler-cart-storage",partialize:a=>({items:a.items,total:a.total,itemCount:a.itemCount}),onRehydrateStorage:()=>a=>{a?.items&&a.items.length>0&&a.calculateTotal()}}))},47570:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>q,metadata:()=>p});var d=c(5939),e=c(45218),f=c.n(e),g=c(77330),h=c.n(g);c(14276);var i=c(4415),j=c(58059),k=c(12821),l=c(88658),m=c(65215),n=c(61441),o=c(19084);let p={title:"FILLER - Profesjonalne kosmetyki i urządzenia",description:"Sklep z profesjonalnymi kosmetykami koreańskimi, mezoterapią, nićmi, peelingami, stymulatorami, urządzeniami i wypełniaczami. Najwyższa jakość w najlepszych cenach.",keywords:["kosmetyki koreańskie","mezoterapia","nici","peelingi","stymulatory","urządzenia","wypełniacz","kosmetyki profesjonalne"],authors:[{name:"FILLER Team"}],creator:"FILLER",publisher:"FILLER",formatDetection:{email:!1,address:!1,telephone:!1},metadataBase:new URL("https://qvwltjhdjw.cfolks.pl"),openGraph:{title:"FILLER - Profesjonalne kosmetyki i urządzenia",description:"Sklep z profesjonalnymi kosmetykami koreańskimi, mezoterapią, nićmi, peelingami, stymulatorami, urządzeniami i wypełniaczami.",type:"website",locale:"pl_PL"},twitter:{card:"summary_large_image",title:"FILLER - Profesjonalne kosmetyki i urządzenia",description:"Sklep z profesjonalnymi kosmetykami koreańskimi, mezoterapią, nićmi, peelingami, stymulatorami, urządzeniami i wypełniaczami."},robots:{index:!0,follow:!0,googleBot:{index:!0,follow:!0,"max-video-preview":-1,"max-image-preview":"large","max-snippet":-1}},verification:{google:process.env.NEXT_PUBLIC_GA_ID?.replace("G-","")}};function q({children:a}){return(0,d.jsxs)("html",{lang:"pl","data-scroll-behavior":"smooth",children:[(0,d.jsxs)("head",{children:[(0,d.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,d.jsx)("meta",{name:"theme-color",content:"#000000"}),(0,d.jsx)("link",{rel:"icon",href:"/favicon.ico"}),(0,d.jsx)("link",{rel:"apple-touch-icon",href:"/apple-touch-icon.png"}),(0,d.jsx)("link",{rel:"preconnect",href:"https://qvwltjhdjw.cfolks.pl",crossOrigin:""}),(0,d.jsx)("link",{rel:"dns-prefetch",href:"https://qvwltjhdjw.cfolks.pl"}),(0,d.jsx)("link",{rel:"preload",as:"image",href:"/images/hero/home.webp",type:"image/webp",fetchPriority:"high",imageSrcSet:"/images/hero/home.webp 1920w",imageSizes:"100vw"}),(0,d.jsx)("style",{dangerouslySetInnerHTML:{__html:`
          .text-white{color:#fff}
          .font-bold{font-weight:700}
          .leading-tight{line-height:1.25}
          @font-face{font-family:'Geist';font-style:normal;font-weight:400;font-display:swap;src:local('Geist')}
        `}})]}),(0,d.jsx)("body",{className:`${f().variable} ${h().variable} antialiased bg-background text-foreground`,suppressHydrationWarning:!0,children:(0,d.jsxs)(o.default,{children:[(0,d.jsx)(i.default,{}),(0,d.jsx)(j.default,{}),(0,d.jsx)("main",{children:a}),(0,d.jsx)(m.default,{}),(0,d.jsx)(n.default,{}),(0,d.jsx)(k.default,{}),(0,d.jsx)(l.default,{})]})})]})}},47991:(a,b,c)=>{"use strict";c.d(b,{default:()=>j});var d=c(78157),e=c(69798),f=c(53574),g=c(51383),h=c(79796),i=c(87930);function j(){return(0,d.jsx)("footer",{className:"bg-black text-white py-8 sm:py-12 mt-16 sm:mt-20 rounded-t-2xl sm:rounded-t-3xl",children:(0,d.jsxs)("div",{className:"max-w-[95vw] mx-auto px-4 sm:px-6",children:[(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 sm:gap-8",children:[(0,d.jsxs)("div",{className:"lg:col-span-2",children:[(0,d.jsxs)("div",{className:"flex items-center mb-4",children:[(0,d.jsx)("div",{className:"w-10 h-10 bg-white rounded-lg flex items-center justify-center mr-3",children:(0,d.jsx)("span",{className:"text-black font-bold text-xl",children:"F"})}),(0,d.jsx)("h3",{className:"text-2xl font-bold",children:"Filler"})]}),(0,d.jsx)("p",{className:"text-gray-300 mb-6 max-w-md",children:"Profesjonalne usługi kosmetyczne i medycyny estetycznej. Zapewniamy najwyższą jakość i bezpieczeństwo zabieg\xf3w."})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h4",{className:"text-lg font-semibold mb-4",children:"Kontakt"}),(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsxs)("div",{className:"flex items-start",children:[(0,d.jsx)(e.A,{className:"w-5 h-5 mt-0.5 mr-3 text-gray-400"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-gray-300",children:"ul. Partyzant\xf3w 8/101"}),(0,d.jsx)("p",{className:"text-gray-300",children:"80-254 Gdańsk"})]})]}),(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)(f.A,{className:"w-5 h-5 mr-3 text-gray-400"}),(0,d.jsx)("a",{href:"tel:+48535956932",className:"text-gray-300 hover:text-white transition-colors",children:"+48 535 956 932"})]}),(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)(g.A,{className:"w-5 h-5 mr-3 text-gray-400"}),(0,d.jsx)("a",{href:"mailto:kontakt@filler.pl",className:"text-gray-300 hover:text-white transition-colors",children:"kontakt@filler.pl"})]})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h4",{className:"text-lg font-semibold mb-4",children:"Śledź nas"}),(0,d.jsxs)("div",{className:"flex space-x-4",children:[(0,d.jsx)("a",{href:"https://facebook.com/filler",target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 bg-gray-800 rounded-lg flex items-center justify-center hover:bg-gray-700 transition-colors","aria-label":"Facebook",children:(0,d.jsx)(h.A,{className:"w-5 h-5"})}),(0,d.jsx)("a",{href:"https://instagram.com/filler",target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 bg-gray-800 rounded-lg flex items-center justify-center hover:bg-gray-700 transition-colors","aria-label":"Instagram",children:(0,d.jsx)(i.A,{className:"w-5 h-5"})})]})]})]}),(0,d.jsx)("div",{className:"border-t border-gray-800 mt-8 pt-8",children:(0,d.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[(0,d.jsx)("p",{className:"text-gray-400 text-sm",children:"\xa9 2024 Filler. Wszystkie prawa zastrzeżone."}),(0,d.jsxs)("div",{className:"flex space-x-6 mt-4 md:mt-0",children:[(0,d.jsx)("a",{href:"/polityka-prywatnosci",className:"text-gray-400 hover:text-white text-sm transition-colors",children:"Polityka prywatności"}),(0,d.jsx)("a",{href:"/regulamin",className:"text-gray-400 hover:text-white text-sm transition-colors",children:"Regulamin"}),(0,d.jsx)("a",{href:"/kontakt",className:"text-gray-400 hover:text-white text-sm transition-colors",children:"Kontakt"})]})]})})]})})}},48762:(a,b,c)=>{"use strict";c.d(b,{I:()=>g});var d=c(19154),e=c(7904);c(41921);let f=async(a,b={})=>{let c=await fetch(a,{headers:{"Content-Type":"application/json",...b.headers},...b});if(!c.ok)throw Error(`Wywołanie API nie powiodło się: ${c.statusText}`);return c.json()},g=(0,d.v)()((0,e.Zr)((a,b)=>({favorites:[],isModalOpen:!1,isLoading:!1,lastSyncTime:null,addToFavorites:async c=>{let{favorites:d}=b();if(!d.some(a=>a.id===c.id)){a({isLoading:!0});try{a({favorites:[...d,c]}),await f("/api/favorites",{method:"POST",body:JSON.stringify({userId:"anonymous",product:c})}),a({lastSyncTime:Date.now()})}catch(b){console.error("Nie udało się dodać do ulubionych:",b),a({favorites:d})}finally{a({isLoading:!1})}}},removeFromFavorites:async c=>{let{favorites:d}=b(),e=d.filter(a=>a.id!==c);a({isLoading:!0});try{a({favorites:e}),await f(`/api/favorites?userId=anonymous&productId=${c}`,{method:"DELETE"}),a({lastSyncTime:Date.now()})}catch(b){console.error("Nie udało się usunąć z ulubionych:",b),a({favorites:d})}finally{a({isLoading:!1})}},toggleFavorite:async a=>{let{favorites:c,isFavorite:d}=b();d(a.id)?await b().removeFromFavorites(a.id):(await b().addToFavorites(a),b().openFavoritesModal())},isFavorite:a=>{let{favorites:c}=b();return c.some(b=>b.id===a)},openFavoritesModal:()=>{a({isModalOpen:!0})},closeFavoritesModal:()=>{a({isModalOpen:!1})},clearFavorites:async()=>{a({isLoading:!0});try{a({favorites:[]}),await f("/api/favorites/sync",{method:"POST",body:JSON.stringify({userId:"anonymous",favorites:[]})}),a({lastSyncTime:Date.now()})}catch(a){console.error("Nie udało się wyczyścić ulubionych:",a)}finally{a({isLoading:!1})}},getFavoritesCount:()=>{let{favorites:a}=b();return a.length},syncWithAPI:async()=>{let{favorites:c}=b();a({isLoading:!0});try{await f("/api/favorites/sync",{method:"POST",body:JSON.stringify({userId:"anonymous",favorites:c})}),a({lastSyncTime:Date.now()})}catch(a){console.error("Nie udało się zsynchronizować ulubionych:",a)}finally{a({isLoading:!1})}},loadFromAPI:async()=>{a({isLoading:!0});try{let b=await f("/api/favorites?userId=anonymous");b.success&&a({favorites:b.data,lastSyncTime:Date.now()})}catch(a){console.error("Nie udało się załadować ulubionych z API:",a)}finally{a({isLoading:!1})}}}),{name:"favorites-storage",partialize:a=>({favorites:a.favorites,lastSyncTime:a.lastSyncTime})}))},49170:(a,b,c)=>{"use strict";c.d(b,{$:()=>i});var d=c(78157);c(31768);var e=c(24142),f=c(4306),g=c(10573);let h=(0,f.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function i({className:a,variant:b,size:c,asChild:f=!1,...i}){let j=f?e.DX:"button";return(0,d.jsx)(j,{"data-slot":"button",className:(0,g.cn)(h({variant:b,size:c,className:a})),...i})}},58059:(a,b,c)=>{"use strict";c.d(b,{default:()=>d});let d=(0,c(25459).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/ui/header.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/ui/header.tsx","default")},61441:(a,b,c)=>{"use strict";c.d(b,{default:()=>d});let d=(0,c(25459).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/ui/favorites-modal.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/ui/favorites-modal.tsx","default")},65215:(a,b,c)=>{"use strict";c.d(b,{default:()=>d});let d=(0,c(25459).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/ui/auth/auth-modal-manager.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/ui/auth/auth-modal-manager.tsx","default")},68655:(a,b,c)=>{Promise.resolve().then(c.bind(c,19084)),Promise.resolve().then(c.bind(c,65215)),Promise.resolve().then(c.bind(c,88658)),Promise.resolve().then(c.bind(c,61441)),Promise.resolve().then(c.bind(c,12821)),Promise.resolve().then(c.bind(c,58059)),Promise.resolve().then(c.bind(c,4415))},78656:(a,b,c)=>{"use strict";c.d(b,{n:()=>h});var d=c(19154),e=c(7904);let f={getItem:a=>null,setItem:(a,b)=>{},removeItem:a=>{}},g=(0,d.v)()((0,e.Zr)((a,b)=>({items:[],isLoading:!1,error:null,addItem:c=>{let{items:d}=b();if(d.find(a=>a.id===c.id))return;let e={id:c.id,name:c.name,price:c.price,regular_price:c.regular_price,sale_price:c.sale_price||"",images:c.images||[],slug:c.slug,stock_status:c.stock_status,addedAt:Date.now()};a(a=>({items:[...a.items,e],error:null})),b().syncWithServer()},removeItem:c=>{a(a=>({items:a.items.filter(a=>a.id!==c),error:null})),b().syncWithServer()},toggleItem:a=>{let{items:c,addItem:d,removeItem:e}=b();c.find(b=>b.id===a.id)?e(a.id):d(a)},clearWishlist:()=>{a({items:[],error:null}),b().syncWithServer()},isInWishlist:a=>{let{items:c}=b();return c.some(b=>b.id===a)},getItemCount:()=>{let{items:a}=b();return a.length},syncWithServer:async()=>{let{items:c}=b();try{if(a({isLoading:!0,error:null}),!(await fetch("/api/favorites",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:c.map(a=>({product_id:a.id,added_at:a.addedAt}))})})).ok)throw Error("Nie udało się zsynchronizować listy życzeń");a({isLoading:!1})}catch(b){console.error("Wishlist sync error:",b),a({isLoading:!1,error:b.message||"Błąd synchronizacji listy życzeń"})}},loadFromServer:async()=>{try{a({isLoading:!0,error:null});let b=await fetch("/api/favorites");if(!b.ok)throw Error("Nie udało się pobrać listy życzeń");let c=await b.json();c.success&&c.favorites?a({items:c.favorites.map(a=>({id:a.product_id,name:a.product_name||`Produkt ${a.product_id}`,price:a.product_price||"0",regular_price:a.product_regular_price||"0",sale_price:a.product_sale_price||"",images:a.product_images||[],slug:a.product_slug||"",stock_status:a.product_stock_status||"instock",addedAt:new Date(a.added_at).getTime()||Date.now()})),isLoading:!1}):a({items:[],isLoading:!1})}catch(b){console.error("Wishlist load error:",b),a({isLoading:!1,error:b.message||"Błąd ładowania listy życzeń"})}}}),{name:"wishlist-storage",storage:(0,e.KU)(()=>f),partialize:a=>({items:a.items})}));function h(){return g()}},78657:(a,b,c)=>{"use strict";c.d(b,{A:()=>u});var d=c(78157),e=c(31768),f=c(21209),g=c(90868),h=c(49170),i=c(32465),j=c(42028),k=c(76779),l=c(84879),m=c(49198),n=c(94496),o=c.n(n),p=c(91712),q=c(47169),r=c(48762),s=c(80083),t=c(18023);function u({product:a,showActions:b=!0,variant:c="default",tabType:n}){let u,v,w,x,[y,z]=(0,e.useState)(!1),[A,B]=(0,e.useState)(!1),[C,D]=(0,e.useState)(!1),[E,F]=(0,e.useState)(""),[G,H]=(0,e.useState)(!1),[I,J]=(0,e.useState)([]),[K,L]=(0,e.useState)(!1),[M,N]=(0,e.useState)(!1),[O,P]=(0,e.useState)(!1),[Q,R]=(0,e.useState)(!1),S=(0,e.useRef)(null);try{let a=(0,q.x)();u=a.addItem,v=a.openCart}catch(a){console.warn("Cart store not available:",a),u=()=>{},v=()=>{}}try{let a=(0,r.I)();w=a.toggleFavorite,x=a.isFavorite}catch(a){console.warn("Favorites store not available:",a),w=()=>{},x=()=>!1}let T=async()=>{z(!0);try{let b;if("variable"===a.type&&E){let c=await f.Ay.getProductVariations(a.id),d=c.variations?.find(a=>a.attributes?.some(a=>"pa_pojemnosc"===a.slug&&a.option===E));b=d?{id:d.id,name:`${a.name} - ${E}`,price:parseFloat(d.price),regular_price:parseFloat(d.regular_price),sale_price:parseFloat(d.sale_price),image:aa,permalink:`/produkt/${a.slug}`}:{id:a.id,name:a.name,price:parseFloat(a.price),regular_price:parseFloat(a.regular_price),sale_price:parseFloat(a.sale_price),image:aa,permalink:`/produkt/${a.slug}`}}else b={id:a.id,name:a.name,price:parseFloat(a.price),regular_price:parseFloat(a.regular_price),sale_price:parseFloat(a.sale_price),image:aa,permalink:`/produkt/${a.slug}`};u(b),v()}catch(a){console.error("Błąd dodawania do koszyka:",a)}finally{z(!1)}},U=()=>{w(a)},V=()=>{B(!0)},W=async()=>{if(!G)try{let b=await f.Ay.getProductVariations(a.id),c=Array.isArray(b)?b:b.variations||[];J([...c]),H(!0),setTimeout(()=>{},100)}catch(a){console.error("Błąd ładowania wariant\xf3w:",a)}D(!0),P(!0)},X=async()=>{if("variable"===a.type&&!E)return void W();await T()},Y=async(b,c)=>{z(!0);try{let d={id:b.id,name:`${a.name} - ${c}`,price:parseFloat(b.price),regular_price:parseFloat(b.regular_price),sale_price:parseFloat(b.sale_price),image:aa,permalink:`/produkt/${a.slug}`};u(d),v()}catch(a){console.error("Błąd dodawania wariantu do koszyka:",a)}finally{z(!1)}},Z=()=>{if(I.length>0)return I.map(a=>{let b=a.attributes?.find(a=>a.slug&&a.option);return b?.option||a.name||`Wariant ${a.id}`});if(!a.attributes)return[];let b=a.attributes.find(a=>a.options&&a.options.length>0);return b?(b.options||[]).map(a=>"string"==typeof a?a:"object"==typeof a&&a.name?a.name:"object"==typeof a&&a.slug?a.slug:String(a)).filter(Boolean):[]},$=f.Ay.isProductOnSale(a),_=f.Ay.getProductDiscount(a),aa=(()=>{if(Array.isArray(a.images)&&a.images.length>0)return f.Ay.getProductImageUrl(a,"medium");if("string"==typeof a.image&&a.image){let b=a.image;return b.includes("-300x300.")?b.replace("-300x300.","-600x600."):b.includes("-150x150.")?b.replace("-150x150.","-600x600."):b.includes("-100x100.")?b.replace("-100x100.","-600x600."):b}return"/images/placeholder-product.jpg"})(),ab=f.Ay.formatPrice(a.price),ac=f.Ay.formatPrice(a.regular_price),ad=()=>$?(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("span",{className:"text-lg font-bold text-foreground",children:ab}),(0,d.jsx)("span",{className:"text-sm text-muted-foreground line-through",children:ac}),(0,d.jsxs)(i.E,{variant:"destructive",className:"text-xs",children:["-",_,"%"]})]}):(0,d.jsx)("span",{className:"text-lg font-bold text-foreground",children:ab}),ae=()=>{let b=parseFloat(a.average_rating);return isNaN(b)||0===b?null:(0,d.jsxs)("div",{className:"flex items-center gap-1",children:[(0,d.jsx)(j.A,{className:"w-4 h-4 fill-current text-foreground"}),(0,d.jsx)("span",{className:"text-sm text-muted-foreground",children:b.toFixed(1)}),(0,d.jsxs)("span",{className:"text-xs text-muted-foreground",children:["(",a.rating_count,")"]})]})},af=()=>"outofstock"===a.stock_status?(0,d.jsx)(i.E,{variant:"secondary",className:"text-xs",children:"Niedostępny"}):"onbackorder"===a.stock_status?(0,d.jsx)(i.E,{variant:"secondary",className:"text-xs",children:"Na zam\xf3wienie"}):null;return"compact"===c?(0,d.jsx)(g.Zp,{className:"group hover:shadow-lg transition-all duration-300 border-border/50",children:(0,d.jsxs)(o(),{href:`/produkt/${a.slug}`,children:[(0,d.jsx)(g.aR,{className:"p-3 pb-0",children:(0,d.jsxs)("div",{className:"relative aspect-square overflow-hidden rounded-lg",children:[(0,d.jsx)(p.default,{src:aa,alt:a.name,width:300,height:300,sizes:"(max-width: 640px) 50vw, (max-width: 1024px) 33vw, 25vw",className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",loading:"lazy"}),$&&(0,d.jsxs)(i.E,{variant:"destructive",className:"absolute top-2 left-2 text-xs",children:["-",_,"%"]})]})}),(0,d.jsxs)(g.Wu,{className:"px-5 py-2",children:[(0,d.jsx)("h3",{className:"font-medium text-sm text-foreground line-clamp-2 mb-1",children:a.name}),ad(),ae()]})]})}):"featured"===c?(0,d.jsxs)(g.Zp,{className:"group hover:shadow-xl transition-all duration-300 border-border/50 bg-gradient-to-br from-background to-muted/20",children:[(0,d.jsxs)(o(),{href:`/produkt/${a.slug}`,children:[(0,d.jsx)(g.aR,{className:"p-4 pb-0",children:(0,d.jsxs)("div",{className:"relative aspect-square overflow-hidden rounded-lg",children:[(0,d.jsx)(p.default,{src:aa,alt:a.name,width:300,height:300,sizes:"(max-width: 640px) 50vw, (max-width: 1024px) 33vw, 25vw",className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",loading:"lazy"}),$&&(0,d.jsxs)(i.E,{variant:"destructive",className:"absolute top-3 left-3 text-sm border-2 border-destructive/20 rounded-xl px-3 py-1",children:["-",_,"%"]}),a.featured&&!$&&(0,d.jsx)(i.E,{className:"absolute top-3 right-3 text-sm bg-primary text-primary-foreground border-2 border-primary/20 rounded-xl px-3 py-1",children:"Polecany"}),$&&a.featured&&(0,d.jsx)(i.E,{className:"absolute top-3 right-3 text-sm bg-amber-600 text-white border-2 border-amber-500/20 rounded-xl px-3 py-1",children:"Promocja"})]})}),(0,d.jsxs)(g.Wu,{className:"px-6 py-3",children:[(0,d.jsx)("h3",{className:"font-semibold text-lg text-foreground line-clamp-2 mb-2",children:a.name}),(0,d.jsx)("p",{className:"text-sm text-muted-foreground line-clamp-2 mb-3",children:a.short_description}),ad(),ae(),af()]})]}),b&&(0,d.jsx)(g.wL,{className:"px-6 pt-0 pb-4",children:(0,d.jsxs)("div",{className:"flex gap-2 w-full",children:["variable"===a.type&&O?(0,d.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,d.jsx)("div",{className:"text-sm font-medium text-gray-700 mb-2",children:"Wybierz wariant:"}),(0,d.jsx)("div",{className:"flex flex-wrap gap-2",children:Z().map(a=>(0,d.jsx)("button",{onClick:()=>{F(a),D(!1)},className:`px-3 py-2 text-sm rounded-lg border transition-colors ${E===a?"bg-black text-white border-black":"bg-white text-gray-700 border-gray-300 hover:border-black"}`,children:a},a))}),E&&(0,d.jsxs)(h.$,{onClick:T,disabled:y||"outofstock"===a.stock_status,className:"w-full h-12 py-6 hover:bg-black hover:text-white transition-colors text-base",size:"sm",children:[(0,d.jsx)(k.A,{className:"w-4 h-4 mr-2"}),y?"Dodawanie...":`Dodaj ${E} do koszyka`]})]}):(0,d.jsxs)(h.$,{onClick:X,disabled:y||"outofstock"===a.stock_status,className:"flex-1 h-10 py-2 hover:bg-black hover:text-white transition-colors text-sm",size:"sm",children:[(0,d.jsx)(k.A,{className:"w-4 h-4 mr-2"}),y?"Dodawanie...":"variable"===a.type?"Wybierz wariant":"Dodaj do koszyka"]}),(0,d.jsx)(h.$,{variant:"outline",size:"sm",onClick:V,className:"px-3 h-10 hover:bg-black hover:text-white transition-colors","aria-label":"Szybki podgląd",children:(0,d.jsx)(l.A,{className:"w-4 h-4"})}),(0,d.jsx)(h.$,{variant:"outline",size:"sm",onClick:U,className:`px-3 h-10 hover:bg-black hover:text-white transition-colors ${Q&&x(a.id)?"text-destructive":""}`,"aria-label":Q&&x(a.id)?"Usuń z ulubionych":"Dodaj do ulubionych",children:(0,d.jsx)(m.A,{className:`w-4 h-4 ${Q&&x(a.id)?"fill-current":""}`})})]})}),(0,d.jsx)(s.A,{isOpen:A,onClose:()=>B(!1),product:a})]}):"list"===c?(0,d.jsxs)(g.Zp,{className:"group hover:shadow-lg transition-all duration-300 border-gray-200 rounded-xl overflow-hidden relative",onMouseEnter:()=>{L(!0),"variable"!==a.type||G||W()},onMouseLeave:()=>{L(!1)},children:[(0,d.jsxs)(o(),{href:`/produkt/${a.slug}`,className:"flex h-40",children:[(0,d.jsxs)("div",{className:"w-40 h-40 flex-shrink-0 relative",children:[(0,d.jsx)(p.default,{src:aa,alt:a.name,width:160,height:160,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),(0,d.jsx)("div",{className:"absolute top-2 left-2",children:$?(0,d.jsx)(i.E,{className:"bg-red-100 text-red-800 text-xs px-2 py-1 rounded-full border-0",children:"Promocja"}):a.featured?(0,d.jsx)(i.E,{className:"bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full border-0",children:"Polecany"}):null})]}),(0,d.jsxs)("div",{className:"flex-1 px-6 py-4 flex flex-col justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"font-semibold text-lg text-gray-900 group-hover:text-black transition-colors line-clamp-2",children:a.name}),(0,d.jsx)("div",{className:"mt-1",children:ad()}),(0,d.jsx)("div",{className:"mt-1",children:ae()}),(0,d.jsx)("div",{className:"mt-1",children:af()})]}),b&&(0,d.jsxs)("div",{className:"flex items-center gap-4 mt-4",children:["variable"===a.type?(0,d.jsx)(h.$,{onClick:a=>{a.preventDefault(),a.stopPropagation(),W()},size:"sm",className:"bg-black hover:bg-gray-800 text-white px-8 py-3 text-sm font-medium rounded-lg",children:"Wybierz wariant"}):(0,d.jsx)(h.$,{onClick:a=>{a.preventDefault(),a.stopPropagation(),T()},disabled:"outofstock"===a.stock_status||y,size:"sm",className:"bg-black hover:bg-gray-800 text-white px-8 py-3 text-sm font-medium rounded-lg",children:y?"Dodawanie...":"Dodaj do koszyka"}),(0,d.jsx)(h.$,{variant:"outline",size:"sm",onClick:a=>{a.preventDefault(),a.stopPropagation(),V()},className:"px-4 py-3 h-10 w-10 rounded-lg border-gray-200 hover:border-gray-300",children:(0,d.jsx)(l.A,{className:"w-4 h-4"})}),(0,d.jsx)(h.$,{variant:"outline",size:"sm",onClick:a=>{a.preventDefault(),a.stopPropagation(),U()},className:`px-4 py-3 h-10 w-10 rounded-lg ${Q&&x(a.id)?"text-red-500 border-red-200 bg-red-50 hover:bg-red-100":"text-gray-500 border-gray-200 hover:border-gray-300"}`,children:(0,d.jsx)(m.A,{className:`w-4 h-4 ${Q&&x(a.id)?"fill-current":""}`})})]})]})]}),"variable"===a.type&&I.length>0&&(0,d.jsx)("div",{className:`absolute inset-0 bg-white/50 backdrop-blur-sm transition-all duration-300 ${K?"opacity-100":"opacity-0 pointer-events-none"}`,children:(0,d.jsxs)("div",{className:"flex flex-col justify-center items-center h-full p-6",children:[(0,d.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-4 text-center",children:"Wybierz wariant"}),(0,d.jsx)("div",{className:"flex flex-wrap gap-3 justify-center",children:Z().map(a=>{let b=I.find(b=>{let c=b.attributes?.find(a=>a.slug&&a.option);return c?.option===a}),c=b?.price||b?.sale_price||b?.regular_price,e=b?.sale_price&&parseFloat(b.sale_price)<parseFloat(b.regular_price||"0"),f=b?.regular_price;return(0,d.jsxs)("button",{onClick:c=>{c.preventDefault(),c.stopPropagation(),b&&Y(b,a)},className:"flex flex-col items-center p-3 border border-gray-200 rounded-xl hover:border-gray-900 hover:shadow-md transition-all duration-200 bg-white",children:[(0,d.jsx)("span",{className:"text-sm font-medium text-gray-900 mb-1",children:a}),(0,d.jsx)("div",{className:"text-xs font-bold text-gray-900",children:c&&(0,d.jsx)(d.Fragment,{children:e?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("span",{className:"text-red-600",children:(0,t.$g)(parseFloat(c))}),f&&(0,d.jsx)("span",{className:"text-gray-400 line-through ml-1",children:(0,t.$g)(parseFloat(f))})]}):(0,d.jsx)("span",{children:(0,t.$g)(parseFloat(c))})})})]},a)})})]})}),(0,d.jsx)(s.A,{isOpen:A,onClose:()=>B(!1),product:a})]}):(0,d.jsxs)(g.Zp,{className:"group flex flex-col h-full hover:shadow-lg transition-all duration-300 border-gray-200 rounded-2xl sm:rounded-3xl overflow-hidden p-0 relative",onMouseEnter:()=>{L(!0),"variable"!==a.type||G||W()},onMouseLeave:()=>{L(!1)},children:[(0,d.jsxs)(o(),{href:`/produkt/${a.slug}`,className:"flex flex-col flex-grow",onClick:a=>{a.target.closest("button")&&a.preventDefault()},children:[(0,d.jsx)(g.aR,{className:"p-0 relative",children:(0,d.jsxs)("div",{className:"relative aspect-square overflow-hidden",children:[(0,d.jsx)(p.default,{src:aa,alt:a.name,width:300,height:300,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),(0,d.jsx)("div",{className:"absolute top-2 left-2",children:"promocje"===n||$?(0,d.jsx)(i.E,{className:"bg-red-100 text-red-800 text-xs px-3 py-1 rounded-full border-0",children:"Promocja"}):"nowosci"===n?(0,d.jsx)(i.E,{className:"bg-blue-100 text-blue-800 text-xs px-3 py-1 rounded-full border-0",children:"Nowość"}):"polecane"===n||a.featured?(0,d.jsx)(i.E,{className:"bg-green-100 text-green-800 text-xs px-3 py-1 rounded-full border-0",children:"Polecany"}):(0,d.jsx)(i.E,{className:"bg-blue-100 text-blue-800 text-xs px-3 py-1 rounded-full border-0",children:"Nowość"})}),(0,d.jsxs)("div",{className:"absolute top-2 right-2 flex gap-2",children:[(0,d.jsx)("button",{onClick:a=>{a.preventDefault(),a.stopPropagation(),V()},className:"w-8 h-8 bg-white/80 hover:bg-white hover:shadow-md rounded-full flex items-center justify-center transition-all duration-150","aria-label":"Szybki podgląd",children:(0,d.jsx)(l.A,{className:"w-4 h-4 text-gray-700"})}),(0,d.jsx)("button",{onClick:a=>{a.preventDefault(),a.stopPropagation(),U()},className:"w-8 h-8 bg-white/80 hover:bg-white hover:shadow-md rounded-full flex items-center justify-center transition-all duration-150","aria-label":Q&&x(a.id)?"Usuń z ulubionych":"Dodaj do ulubionych",children:(0,d.jsx)(m.A,{className:`w-4 h-4 ${Q&&x(a.id)?"fill-current text-red-500":"text-gray-700"}`})})]})]})}),(0,d.jsxs)(g.Wu,{className:"px-3 sm:px-4 py-2 flex-grow",children:[(0,d.jsx)("div",{className:"text-xs sm:text-sm text-gray-500 mb-2 flex items-center",children:(()=>{let b=a.categories;if(!b||0===b.length)return null;let c=["Mezoterapia","Peelingi","Stymulatory","Wypełniacze"],d=b.find(a=>{let b="string"==typeof a?a:a?.name;return b&&c.includes(b)});return d?"string"==typeof d?d:d?.name:null})()||"Bez kategorii"}),(0,d.jsx)("p",{className:"font-bold text-foreground text-base sm:text-lg mb-2 line-clamp-2",children:a.name}),(0,d.jsx)("div",{className:"text-lg sm:text-xl font-bold text-foreground mb-2",children:ab}),a.attributes&&a.attributes.length>0&&(0,d.jsx)("div",{className:"flex flex-wrap gap-1",children:a.attributes.map((a,b)=>a.options&&Array.isArray(a.options)?a.options.slice(0,2).map((a,c)=>{if(!a)return null;let e="string"==typeof a?a:a?.name||a?.slug||String(a?.id||"");return e?(0,d.jsx)("span",{className:"bg-gray-100 text-gray-600 text-xs font-medium px-2 py-0.5 rounded-full",children:e},`${b}-${c}`):null}):null)})]})]}),"variable"===a.type&&I.length>0&&(0,d.jsx)("div",{className:`absolute inset-0 bg-white/50 backdrop-blur-sm transition-all duration-300 ${K?"opacity-100":"opacity-0 pointer-events-none"}`,children:(0,d.jsxs)("div",{className:"flex flex-col justify-center items-center h-full p-6",children:[(0,d.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-4 text-center",children:"Wybierz wariant"}),(0,d.jsx)("div",{className:"flex flex-wrap gap-3 justify-center",children:Z().map(a=>{let b=I.find(b=>{let c=b.attributes?.find(a=>a.slug&&a.option);return c?.option===a}),c=b?.price||b?.sale_price||b?.regular_price,e=b?.sale_price&&parseFloat(b.sale_price)<parseFloat(b.regular_price||"0"),f=b?.regular_price;return(0,d.jsxs)("button",{onClick:c=>{c.preventDefault(),c.stopPropagation(),b&&Y(b,a)},className:"flex flex-col items-center p-3 border border-gray-200 rounded-xl hover:border-gray-900 hover:shadow-md transition-all duration-200 bg-white",children:[(0,d.jsx)("span",{className:"text-sm font-medium text-gray-900 mb-1",children:a}),(0,d.jsx)("div",{className:"text-xs font-bold text-gray-900",children:c&&(0,d.jsx)(d.Fragment,{children:e?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("span",{className:"text-red-600",children:(0,t.$g)(parseFloat(c))}),f&&(0,d.jsx)("span",{className:"text-gray-400 line-through ml-1",children:(0,t.$g)(parseFloat(f))})]}):(0,d.jsx)("span",{children:(0,t.$g)(parseFloat(c))})})})]},a)})})]})}),b&&(0,d.jsx)(g.wL,{className:"px-3 sm:px-4 pb-4 mt-auto",children:(0,d.jsxs)("div",{className:"w-full relative",ref:S,children:[(0,d.jsxs)(h.$,{onClick:b=>{b.preventDefault(),b.stopPropagation(),"variable"===a.type?W():T()},onMouseEnter:()=>{N(!0),"variable"!==a.type||G||W()},onMouseLeave:()=>{N(!1)},disabled:y||"outofstock"===a.stock_status,className:"w-full bg-white border border-black text-gray-900 hover:bg-gray-50 rounded-lg py-3 font-medium text-sm",size:"lg",children:[(0,d.jsx)(k.A,{className:"w-4 h-4 mr-2"}),y?"Dodawanie...":"variable"===a.type?"Wybierz wariant":"Dodaj do koszyka"]}),!1]})}),(0,d.jsx)(s.A,{isOpen:A,onClose:()=>B(!1),product:a})]})}},80083:(a,b,c)=>{"use strict";c.d(b,{A:()=>u});var d=c(78157),e=c(31768),f=c(83042),g=c(72886),h=c(42028),i=c(6046),j=c(51470),k=c(65740),l=c(76779),m=c(49198),n=c(47169),o=c(48762),p=c(49170),q=c(32465),r=c(21209),s=c(91712),t=c(18023);function u({isOpen:a,onClose:b,product:c}){let u,[v,w]=(0,e.useState)(0),[x,y]=(0,e.useState)(1),[z,A]=(0,e.useState)({}),[B,C]=(0,e.useState)(!1),[D,E]=(0,e.useState)([]),[F,G]=(0,e.useState)(""),{addItem:H,openCart:I}=(0,n.x)(),{toggleFavorite:J,isFavorite:K}=(0,o.I)();if(!c)return null;let L=async()=>{C(!0);try{let a=parseFloat(c.sale_price||c.price),d=c.name,e=c.id;if(D.length>0&&F){let b=D.find(a=>a.attributes&&a.attributes.some(a=>a.name?.toLowerCase().includes("pojemność")&&a.option===F));b&&(e=b.id,d=b.name,a=parseFloat(b.price))}await H({id:e,name:d,price:a,image:r.Ay.getProductImageUrl(c,"medium"),quantity:x,attributes:z,variant:D.length>0&&F?{id:e,name:"Pojemność",value:F}:void 0}),setTimeout(()=>{C(!1),b(),I()},500)}catch(a){C(!1),console.error("Błąd dodawania do koszyka:",a)}},M=c.sale_price&&c.sale_price!==c.regular_price,N=M&&c.regular_price?Math.round((parseFloat(c.regular_price)-parseFloat(c.sale_price))/parseFloat(c.regular_price)*100):0,O=a=>{let b="https://qvwltjhdjw.cfolks.pl/wp-content/uploads/woocommerce-placeholder.webp";if(!a||"string"!=typeof a)return b;let c=a.trim();if(!c||"/"===c||"#"===c)return b;c=/-(?:\d{2,4})x(?:\d{2,4})(?=\.[a-zA-Z]{3,4}$)/.test(c)?c.replace(/-(?:\d{2,4})x(?:\d{2,4})(?=\.[a-zA-Z]{3,4}$)/,"-600x600"):c.replace(/(\.[a-zA-Z]{3,4})$/,"-600x600$1");try{let a=new URL(c,"https://dummy-base/");a.searchParams.delete("resize"),a.searchParams.delete("fit"),a.searchParams.delete("quality"),a.search=a.search.toString(),c=a.href.replace("https://dummy-base/","")}catch(a){}return(c=c.replace(/-scaled(?=\.[a-zA-Z]{3,4}$)/,""),/^https?:\/\//i.test(c))?c:b},P=(u=[],(Array.isArray(c.images)&&(u="string"==typeof c.images[0]?c.images.map(a=>({src:a,name:c.name,alt:c.name})):c.images.filter(a=>{var b;return a&&a.src&&!(!(b=a.src)||/woocommerce-placeholder/i.test(b))})),u.length>0)?u:[{src:"https://qvwltjhdjw.cfolks.pl/wp-content/uploads/woocommerce-placeholder.webp",name:c.name,alt:c.name}]);return(0,d.jsx)(f.N,{children:a&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(g.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50",onClick:b}),(0,d.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:(0,d.jsxs)(g.P.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},transition:{type:"spring",damping:25,stiffness:300},className:"bg-white rounded-2xl shadow-2xl max-w-6xl w-full max-h-[90vh] overflow-hidden",onClick:a=>a.stopPropagation(),children:[(0,d.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-100",children:[(0,d.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Szybki podgląd"}),(0,d.jsx)(p.$,{variant:"ghost",size:"sm",onClick:b,className:"rounded-full p-2 hover:bg-gray-100",children:(0,d.jsx)(i.A,{className:"w-5 h-5"})})]}),(0,d.jsxs)("div",{className:"flex flex-col lg:flex-row max-h-[calc(90vh-80px)] overflow-hidden",children:[(0,d.jsx)("div",{className:"lg:w-1/2 p-6",children:(0,d.jsxs)("div",{className:"grid grid-cols-5 gap-4",children:[(0,d.jsx)("div",{className:"col-span-1 space-y-2",children:P.map((a,b)=>(0,d.jsx)("button",{onClick:()=>w(b),className:`w-full aspect-square rounded-lg overflow-hidden border-2 transition-colors shadow-sm ${v===b?"border-black":"border-gray-200 hover:border-gray-300"}`,children:(0,d.jsx)(s.default,{src:O(a.src),alt:a.alt||a.name||c.name||"Zdjęcie produktu",width:100,height:100,className:"w-full h-full object-cover"})},b))}),(0,d.jsxs)("div",{className:"col-span-4 relative aspect-square rounded-xl overflow-hidden bg-gray-50 shadow-lg",children:[(0,d.jsx)(g.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"absolute inset-0",children:(0,d.jsx)(s.default,{src:O(P[v]?.src),alt:P[v]?.alt||P[v]?.name||c.name||"Zdjęcie produktu",fill:!0,sizes:"(min-width: 1024px) 50vw, 100vw",quality:90,className:"object-cover",priority:!0})},v),M&&(0,d.jsxs)(q.E,{className:"absolute top-4 left-4 bg-red-500 text-white",children:["-",N,"%"]})]})]})}),(0,d.jsx)("div",{className:"lg:w-1/2 p-6 overflow-y-auto max-h-[calc(90vh-80px)]",children:(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsx)("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-900",children:c.name}),(0,d.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,d.jsx)("div",{className:"flex items-center space-x-1",children:Array.from({length:5},(a,b)=>(0,d.jsx)(h.A,{className:`w-5 h-5 ${c.average_rating&&parseFloat(c.average_rating)>0&&b<Math.floor(parseFloat(c.average_rating))?"text-yellow-400 fill-current":"text-gray-300"}`},b))}),(0,d.jsx)("div",{className:"flex items-center space-x-2",children:c.average_rating&&parseFloat(c.average_rating)>0?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("span",{className:"text-lg font-semibold text-gray-900",children:parseFloat(c.average_rating).toFixed(1)}),(0,d.jsxs)("span",{className:"text-sm text-gray-600",children:["(",c.rating_count," ",1===c.rating_count?"opinia":"opinii",")"]})]}):(0,d.jsx)("span",{className:"text-sm text-gray-500",children:"Brak opinii"})})]}),(0,d.jsxs)("div",{className:"flex items-center space-x-2 flex-wrap",children:[M&&(0,d.jsxs)("span",{className:"bg-red-100 text-red-800 text-sm font-medium px-3 py-1 rounded-full",children:["-",N,"%"]}),c.featured&&(0,d.jsx)("span",{className:"bg-blue-100 text-blue-800 text-sm font-medium px-3 py-1 rounded-full",children:"Polecany"}),"instock"===c.stock_status?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("span",{className:"bg-green-100 text-green-800 text-sm font-medium px-3 py-1 rounded-full",children:"W magazynie"}),(0,d.jsx)("span",{className:"bg-blue-100 text-blue-800 text-sm font-medium px-3 py-1 rounded-full",children:"Wysyłka w 24h"})]}):"onbackorder"===c.stock_status?(0,d.jsx)("span",{className:"bg-yellow-100 text-yellow-800 text-sm font-medium px-3 py-1 rounded-full",children:"Na zam\xf3wienie"}):(0,d.jsx)("span",{className:"bg-gray-100 text-gray-800 text-sm font-medium px-3 py-1 rounded-full",children:"Brak w magazynie"})]}),c.attributes&&c.attributes.length>0&&(0,d.jsx)("div",{className:"flex flex-wrap gap-2",children:c.attributes.map((a,b)=>a.options&&Array.isArray(a.options)?a.options.map((a,c)=>{let e="string"==typeof a?a:a?.name||a?.slug||String(a?.id||"");return e?(0,d.jsx)("span",{className:"bg-gray-100 text-gray-700 text-xs font-medium px-2 py-1 rounded-full",children:e},`${b}-${c}`):null}):null)})]}),(0,d.jsxs)("div",{className:"space-y-4",children:[c?.type==="variable"&&D.length>0&&(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Wybierz wariant"}),(0,d.jsx)("div",{className:"flex flex-wrap gap-3",children:D.map((a,b)=>{let c=a.attributes?.find(a=>"pa_pojemnosc"===a.slug||a.name?.toLowerCase().includes("pojemność")),e=c?.option||`Wariant ${a.id}`,f=F===e;return(0,d.jsx)("button",{onClick:()=>{G(e)},className:`px-4 py-3 rounded-lg text-sm font-medium transition-all duration-200 ${f?"bg-black text-white border-2 border-black":"bg-gray-100 text-gray-700 border-2 border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("div",{className:"font-semibold",children:e}),(0,d.jsx)("div",{className:`text-xs mt-1 ${f?"text-gray-200":"text-gray-500"}`,children:(0,t.$g)(parseFloat(a.price))})]})},b)})})]}),c?.attributes&&c.attributes.length>0&&0===D.length&&(0,d.jsx)("div",{className:"space-y-4",children:c.attributes.map((a,b)=>{a.name.toLowerCase().includes("pojemność");let c=a.name.toLowerCase().includes("marka");return(0,d.jsx)("div",{children:!c&&(0,d.jsx)("div",{className:"flex flex-wrap gap-3",children:a.options.map((a,b)=>(0,d.jsx)("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 text-sm font-medium rounded-full",children:"string"==typeof a?a:a&&"object"==typeof a?a.name||a.slug||String(a.id??""):String(a??"")},b))})},b)})})]}),0===D.length&&(0,d.jsx)("div",{className:"flex items-center space-x-3",children:M?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("span",{className:"text-3xl font-bold text-red-600",children:(0,t.$g)(parseFloat(c.sale_price))}),(0,d.jsx)("span",{className:"text-xl text-gray-500 line-through",children:(0,t.$g)(parseFloat(c.regular_price))})]}):(0,d.jsx)("span",{className:"text-3xl font-bold text-gray-900",children:(0,t.$g)(parseFloat(c.price))})}),(0,d.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,d.jsxs)("div",{className:"flex items-center border border-gray-200 rounded-lg h-[56px]",children:[(0,d.jsx)(p.$,{variant:"ghost",size:"sm",onClick:()=>y(Math.max(1,x-1)),className:"rounded-l-lg rounded-r-none h-full px-4",children:(0,d.jsx)(j.A,{className:"w-4 h-4"})}),(0,d.jsx)("span",{className:"px-4 py-2 min-w-[60px] text-center h-full flex items-center justify-center",children:x}),(0,d.jsx)(p.$,{variant:"ghost",size:"sm",onClick:()=>y(x+1),className:"rounded-r-lg rounded-l-none h-full px-4",children:(0,d.jsx)(k.A,{className:"w-4 h-4"})})]}),(0,d.jsx)(p.$,{onClick:L,disabled:"instock"!==c.stock_status||B||D.length>0&&!F,className:"flex-1 bg-black hover:bg-gray-800 text-white h-[56px] rounded-lg font-medium",children:B?(0,d.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(l.A,{className:"w-5 h-5 mr-2"}),D.length>0&&!F?"Wybierz wariant":"Dodaj do koszyka"]})}),(0,d.jsx)(p.$,{variant:"outline",onClick:()=>{J(c)},className:`h-[56px] px-4 rounded-lg border-2 ${K(c.id)?"text-red-500 border-red-500 hover:bg-red-50":"text-gray-600 border-gray-300 hover:bg-gray-50"}`,children:(0,d.jsx)(m.A,{className:`w-5 h-5 ${K(c.id)?"fill-current":""}`})})]})]})})]})]})})]})})}},84510:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,58671,23)),Promise.resolve().then(c.t.bind(c,56542,23)),Promise.resolve().then(c.t.bind(c,88248,23)),Promise.resolve().then(c.t.bind(c,49743,23)),Promise.resolve().then(c.t.bind(c,96231,23)),Promise.resolve().then(c.t.bind(c,10959,23)),Promise.resolve().then(c.t.bind(c,72041,23)),Promise.resolve().then(c.t.bind(c,95094,23)),Promise.resolve().then(c.t.bind(c,67487,23))},88658:(a,b,c)=>{"use strict";c.d(b,{default:()=>d});let d=(0,c(25459).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/ui/cart-drawer.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/kingbrand/Desktop/headless-woo/apps/web/src/components/ui/cart-drawer.tsx","default")},90868:(a,b,c)=>{"use strict";c.d(b,{Wu:()=>h,Zp:()=>f,aR:()=>g,wL:()=>i});var d=c(78157);c(31768);var e=c(10573);function f({className:a,...b}){return(0,d.jsx)("div",{"data-slot":"card",className:(0,e.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...b})}function g({className:a,...b}){return(0,d.jsx)("div",{"data-slot":"card-header",className:(0,e.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...b})}function h({className:a,...b}){return(0,d.jsx)("div",{"data-slot":"card-content",className:(0,e.cn)("px-6",a),...b})}function i({className:a,...b}){return(0,d.jsx)("div",{"data-slot":"card-footer",className:(0,e.cn)("flex items-center px-6 [.border-t]:pt-6",a),...b})}}};