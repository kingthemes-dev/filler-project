"use strict";exports.id=925,exports.ids=[925],exports.modules={80925:(a,b,c)=>{c.r(b),c.d(b,{GET:()=>f,runtime:()=>e});var d=c(53444);let e="nodejs";async function f(){try{let a=await fetch("https://qvwltjhdjw.cfolks.pl/wp-json/king-shop/v1/data?endpoint=shop&per_page=50",{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json","User-Agent":"Filler-Store/1.0"},next:{revalidate:300,tags:["home-feed"]}});if(!a.ok)throw Error(`API error: ${a.status}`);let b=((await a.json()).products||[]).filter(a=>a.price&&""!==a.price&&a.name&&"Produkt"!==a.name),c=b.sort((a,b)=>new Date(b.date_created).getTime()-new Date(a.date_created).getTime()),e={nowosci:c.slice(0,8),promocje:b.filter(a=>a.on_sale).slice(0,8),polecane:b.filter(a=>a.featured).slice(0,8),bestsellery:c.slice(0,8)};return d.NextResponse.json(e,{headers:{"Cache-Control":"public, s-maxage=300, stale-while-revalidate=86400","X-Cache-Status":"MISS","X-Edge-Runtime":"true"}})}catch(a){return console.error("Home feed API error:",a),d.NextResponse.json({error:"Failed to fetch home feed data",details:a instanceof Error?a.message:"Unknown error"},{status:500,headers:{"Cache-Control":"no-store"}})}}process.env.WP_BASE_URL}};