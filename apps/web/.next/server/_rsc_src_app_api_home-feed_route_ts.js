"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "_rsc_src_app_api_home-feed_route_ts";
exports.ids = ["_rsc_src_app_api_home-feed_route_ts"];
exports.modules = {

/***/ "(rsc)/./src/app/api/home-feed/route.ts":
/*!****************************************!*\
  !*** ./src/app/api/home-feed/route.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   runtime: () => (/* binding */ runtime)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/../../node_modules/next/dist/api/server.js\");\n\nconst runtime = 'nodejs';\nconst WP_BASE_URL = process.env.WP_BASE_URL || \"https://qvwltjhdjw.cfolks.pl\" || 0;\nasync function GET() {\n    try {\n        // PRO Architecture: Call WordPress King Shop API directly (same as /api/woocommerce?endpoint=shop)\n        const shopUrl = `https://qvwltjhdjw.cfolks.pl/wp-json/king-shop/v1/data?endpoint=shop&per_page=50`;\n        console.log('🏠 Home feed - calling King Shop API:', shopUrl);\n        // Fetch products using our optimized API\n        const productsResponse = await fetch(shopUrl, {\n            method: 'GET',\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json',\n                'User-Agent': 'Filler-Store/1.0'\n            },\n            next: {\n                revalidate: 300,\n                tags: [\n                    'home-feed'\n                ]\n            }\n        });\n        if (!productsResponse.ok) {\n            throw new Error(`API error: ${productsResponse.status}`);\n        }\n        const responseData = await productsResponse.json();\n        const products = responseData.products || [];\n        console.log('✅ Home feed data received:', {\n            products: products.length,\n            total: responseData.total || 0\n        });\n        // Filter out test products (products with empty prices or generic names)\n        // PRO: Don't require images - products can have placeholder images\n        const validProducts = products.filter((p)=>p.price && p.price !== '' && p.name && p.name !== 'Produkt');\n        // Sort products by date (newest first)\n        const sortedProducts = validProducts.sort((a, b)=>new Date(b.date_created).getTime() - new Date(a.date_created).getTime());\n        // Organize data into categories\n        const data = {\n            nowosci: sortedProducts.slice(0, 8),\n            promocje: validProducts.filter((p)=>p.on_sale).slice(0, 8),\n            polecane: validProducts.filter((p)=>p.featured).slice(0, 8),\n            bestsellery: sortedProducts.slice(0, 8) // For now, just show first 8 as bestsellers\n        };\n        // Return with cache headers\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(data, {\n            headers: {\n                'Cache-Control': 'public, s-maxage=300, stale-while-revalidate=86400',\n                'X-Cache-Status': 'MISS',\n                'X-Edge-Runtime': 'true'\n            }\n        });\n    } catch (error) {\n        console.error('Home feed API error:', error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: 'Failed to fetch home feed data',\n            details: error instanceof Error ? error.message : 'Unknown error'\n        }, {\n            status: 500,\n            headers: {\n                'Cache-Control': 'no-store'\n            }\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9ob21lLWZlZWQvcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTJDO0FBRXBDLE1BQU1DLFVBQVUsU0FBUztBQUVoQyxNQUFNQyxjQUFjQyxRQUFRQyxHQUFHLENBQUNGLFdBQVcsSUFBSUMsOEJBQXFDLElBQUksQ0FBOEI7QUFFL0csZUFBZUc7SUFDcEIsSUFBSTtRQUNGLG1HQUFtRztRQUNuRyxNQUFNQyxVQUFVLENBQUMsZ0ZBQWdGLENBQUM7UUFFbEdDLFFBQVFDLEdBQUcsQ0FBQyx5Q0FBeUNGO1FBRXJELHlDQUF5QztRQUN6QyxNQUFNRyxtQkFBbUIsTUFBTUMsTUFBTUosU0FBUztZQUM1Q0ssUUFBUTtZQUNSQyxTQUFTO2dCQUNQLGdCQUFnQjtnQkFDaEIsVUFBVTtnQkFDVixjQUFjO1lBQ2hCO1lBQ0FDLE1BQU07Z0JBQ0pDLFlBQVk7Z0JBQ1pDLE1BQU07b0JBQUM7aUJBQVk7WUFDckI7UUFDRjtRQUVBLElBQUksQ0FBQ04saUJBQWlCTyxFQUFFLEVBQUU7WUFDeEIsTUFBTSxJQUFJQyxNQUFNLENBQUMsV0FBVyxFQUFFUixpQkFBaUJTLE1BQU0sRUFBRTtRQUN6RDtRQUVBLE1BQU1DLGVBQWUsTUFBTVYsaUJBQWlCVyxJQUFJO1FBQ2hELE1BQU1DLFdBQVdGLGFBQWFFLFFBQVEsSUFBSSxFQUFFO1FBRTVDZCxRQUFRQyxHQUFHLENBQUMsOEJBQThCO1lBQ3hDYSxVQUFVQSxTQUFTQyxNQUFNO1lBQ3pCQyxPQUFPSixhQUFhSSxLQUFLLElBQUk7UUFDL0I7UUFFQSx5RUFBeUU7UUFDekUsbUVBQW1FO1FBQ25FLE1BQU1DLGdCQUFnQkgsU0FBU0ksTUFBTSxDQUFDLENBQUNDLElBQ3JDQSxFQUFFQyxLQUFLLElBQUlELEVBQUVDLEtBQUssS0FBSyxNQUN2QkQsRUFBRUUsSUFBSSxJQUFJRixFQUFFRSxJQUFJLEtBQUs7UUFHdkIsdUNBQXVDO1FBQ3ZDLE1BQU1DLGlCQUFpQkwsY0FBY00sSUFBSSxDQUFDLENBQUNDLEdBQVFDLElBQ2pELElBQUlDLEtBQUtELEVBQUVFLFlBQVksRUFBRUMsT0FBTyxLQUFLLElBQUlGLEtBQUtGLEVBQUVHLFlBQVksRUFBRUMsT0FBTztRQUd2RSxnQ0FBZ0M7UUFDaEMsTUFBTUMsT0FBTztZQUNYQyxTQUFTUixlQUFlUyxLQUFLLENBQUMsR0FBRztZQUNqQ0MsVUFBVWYsY0FBY0MsTUFBTSxDQUFDLENBQUNDLElBQVdBLEVBQUVjLE9BQU8sRUFBRUYsS0FBSyxDQUFDLEdBQUc7WUFDL0RHLFVBQVVqQixjQUFjQyxNQUFNLENBQUMsQ0FBQ0MsSUFBV0EsRUFBRWdCLFFBQVEsRUFBRUosS0FBSyxDQUFDLEdBQUc7WUFDaEVLLGFBQWFkLGVBQWVTLEtBQUssQ0FBQyxHQUFHLEdBQUcsNENBQTRDO1FBQ3RGO1FBRUEsNEJBQTRCO1FBQzVCLE9BQU92QyxxREFBWUEsQ0FBQ3FCLElBQUksQ0FBQ2dCLE1BQU07WUFDN0J4QixTQUFTO2dCQUNQLGlCQUFpQjtnQkFDakIsa0JBQWtCO2dCQUNsQixrQkFBa0I7WUFDcEI7UUFDRjtJQUVGLEVBQUUsT0FBT2dDLE9BQU87UUFDZHJDLFFBQVFxQyxLQUFLLENBQUMsd0JBQXdCQTtRQUV0QyxPQUFPN0MscURBQVlBLENBQUNxQixJQUFJLENBQ3RCO1lBQ0V3QixPQUFPO1lBQ1BDLFNBQVNELGlCQUFpQjNCLFFBQVEyQixNQUFNRSxPQUFPLEdBQUc7UUFDcEQsR0FDQTtZQUNFNUIsUUFBUTtZQUNSTixTQUFTO2dCQUNQLGlCQUFpQjtZQUNuQjtRQUNGO0lBRUo7QUFDRiIsInNvdXJjZXMiOlsiL1VzZXJzL2tpbmdicmFuZC9EZXNrdG9wL2hlYWRsZXNzLXdvby9hcHBzL3dlYi9zcmMvYXBwL2FwaS9ob21lLWZlZWQvcm91dGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInO1xuXG5leHBvcnQgY29uc3QgcnVudGltZSA9ICdub2RlanMnO1xuXG5jb25zdCBXUF9CQVNFX1VSTCA9IHByb2Nlc3MuZW52LldQX0JBU0VfVVJMIHx8IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1dPUkRQUkVTU19VUkwgfHwgJ2h0dHBzOi8vcXZ3bHRqaGRqdy5jZm9sa3MucGwnO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKCkge1xuICB0cnkge1xuICAgIC8vIFBSTyBBcmNoaXRlY3R1cmU6IENhbGwgV29yZFByZXNzIEtpbmcgU2hvcCBBUEkgZGlyZWN0bHkgKHNhbWUgYXMgL2FwaS93b29jb21tZXJjZT9lbmRwb2ludD1zaG9wKVxuICAgIGNvbnN0IHNob3BVcmwgPSBgaHR0cHM6Ly9xdndsdGpoZGp3LmNmb2xrcy5wbC93cC1qc29uL2tpbmctc2hvcC92MS9kYXRhP2VuZHBvaW50PXNob3AmcGVyX3BhZ2U9NTBgO1xuICAgIFxuICAgIGNvbnNvbGUubG9nKCfwn4+gIEhvbWUgZmVlZCAtIGNhbGxpbmcgS2luZyBTaG9wIEFQSTonLCBzaG9wVXJsKTtcbiAgICBcbiAgICAvLyBGZXRjaCBwcm9kdWN0cyB1c2luZyBvdXIgb3B0aW1pemVkIEFQSVxuICAgIGNvbnN0IHByb2R1Y3RzUmVzcG9uc2UgPSBhd2FpdCBmZXRjaChzaG9wVXJsLCB7XG4gICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAnVXNlci1BZ2VudCc6ICdGaWxsZXItU3RvcmUvMS4wJ1xuICAgICAgfSxcbiAgICAgIG5leHQ6IHsgXG4gICAgICAgIHJldmFsaWRhdGU6IDMwMCwgLy8gNSBtaW51dGVzXG4gICAgICAgIHRhZ3M6IFsnaG9tZS1mZWVkJ10gXG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAoIXByb2R1Y3RzUmVzcG9uc2Uub2spIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgQVBJIGVycm9yOiAke3Byb2R1Y3RzUmVzcG9uc2Uuc3RhdHVzfWApO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCByZXNwb25zZURhdGEgPSBhd2FpdCBwcm9kdWN0c1Jlc3BvbnNlLmpzb24oKTtcbiAgICBjb25zdCBwcm9kdWN0cyA9IHJlc3BvbnNlRGF0YS5wcm9kdWN0cyB8fCBbXTtcbiAgICBcbiAgICBjb25zb2xlLmxvZygn4pyFIEhvbWUgZmVlZCBkYXRhIHJlY2VpdmVkOicsIHtcbiAgICAgIHByb2R1Y3RzOiBwcm9kdWN0cy5sZW5ndGgsXG4gICAgICB0b3RhbDogcmVzcG9uc2VEYXRhLnRvdGFsIHx8IDBcbiAgICB9KTtcbiAgICBcbiAgICAvLyBGaWx0ZXIgb3V0IHRlc3QgcHJvZHVjdHMgKHByb2R1Y3RzIHdpdGggZW1wdHkgcHJpY2VzIG9yIGdlbmVyaWMgbmFtZXMpXG4gICAgLy8gUFJPOiBEb24ndCByZXF1aXJlIGltYWdlcyAtIHByb2R1Y3RzIGNhbiBoYXZlIHBsYWNlaG9sZGVyIGltYWdlc1xuICAgIGNvbnN0IHZhbGlkUHJvZHVjdHMgPSBwcm9kdWN0cy5maWx0ZXIoKHA6IGFueSkgPT4gXG4gICAgICBwLnByaWNlICYmIHAucHJpY2UgIT09ICcnICYmIFxuICAgICAgcC5uYW1lICYmIHAubmFtZSAhPT0gJ1Byb2R1a3QnXG4gICAgKTtcblxuICAgIC8vIFNvcnQgcHJvZHVjdHMgYnkgZGF0ZSAobmV3ZXN0IGZpcnN0KVxuICAgIGNvbnN0IHNvcnRlZFByb2R1Y3RzID0gdmFsaWRQcm9kdWN0cy5zb3J0KChhOiBhbnksIGI6IGFueSkgPT4gXG4gICAgICBuZXcgRGF0ZShiLmRhdGVfY3JlYXRlZCkuZ2V0VGltZSgpIC0gbmV3IERhdGUoYS5kYXRlX2NyZWF0ZWQpLmdldFRpbWUoKVxuICAgICk7XG5cbiAgICAvLyBPcmdhbml6ZSBkYXRhIGludG8gY2F0ZWdvcmllc1xuICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICBub3dvc2NpOiBzb3J0ZWRQcm9kdWN0cy5zbGljZSgwLCA4KSwgLy8gTGF0ZXN0IDggdmFsaWQgcHJvZHVjdHNcbiAgICAgIHByb21vY2plOiB2YWxpZFByb2R1Y3RzLmZpbHRlcigocDogYW55KSA9PiBwLm9uX3NhbGUpLnNsaWNlKDAsIDgpLFxuICAgICAgcG9sZWNhbmU6IHZhbGlkUHJvZHVjdHMuZmlsdGVyKChwOiBhbnkpID0+IHAuZmVhdHVyZWQpLnNsaWNlKDAsIDgpLFxuICAgICAgYmVzdHNlbGxlcnk6IHNvcnRlZFByb2R1Y3RzLnNsaWNlKDAsIDgpIC8vIEZvciBub3csIGp1c3Qgc2hvdyBmaXJzdCA4IGFzIGJlc3RzZWxsZXJzXG4gICAgfTtcblxuICAgIC8vIFJldHVybiB3aXRoIGNhY2hlIGhlYWRlcnNcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oZGF0YSwge1xuICAgICAgaGVhZGVyczoge1xuICAgICAgICAnQ2FjaGUtQ29udHJvbCc6ICdwdWJsaWMsIHMtbWF4YWdlPTMwMCwgc3RhbGUtd2hpbGUtcmV2YWxpZGF0ZT04NjQwMCcsXG4gICAgICAgICdYLUNhY2hlLVN0YXR1cyc6ICdNSVNTJyxcbiAgICAgICAgJ1gtRWRnZS1SdW50aW1lJzogJ3RydWUnXG4gICAgICB9XG4gICAgfSk7XG5cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdIb21lIGZlZWQgQVBJIGVycm9yOicsIGVycm9yKTtcbiAgICBcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICB7IFxuICAgICAgICBlcnJvcjogJ0ZhaWxlZCB0byBmZXRjaCBob21lIGZlZWQgZGF0YScsXG4gICAgICAgIGRldGFpbHM6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InXG4gICAgICB9LFxuICAgICAgeyBcbiAgICAgICAgc3RhdHVzOiA1MDAsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnQ2FjaGUtQ29udHJvbCc6ICduby1zdG9yZSdcbiAgICAgICAgfVxuICAgICAgfVxuICAgICk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJydW50aW1lIiwiV1BfQkFTRV9VUkwiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfV09SRFBSRVNTX1VSTCIsIkdFVCIsInNob3BVcmwiLCJjb25zb2xlIiwibG9nIiwicHJvZHVjdHNSZXNwb25zZSIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsIm5leHQiLCJyZXZhbGlkYXRlIiwidGFncyIsIm9rIiwiRXJyb3IiLCJzdGF0dXMiLCJyZXNwb25zZURhdGEiLCJqc29uIiwicHJvZHVjdHMiLCJsZW5ndGgiLCJ0b3RhbCIsInZhbGlkUHJvZHVjdHMiLCJmaWx0ZXIiLCJwIiwicHJpY2UiLCJuYW1lIiwic29ydGVkUHJvZHVjdHMiLCJzb3J0IiwiYSIsImIiLCJEYXRlIiwiZGF0ZV9jcmVhdGVkIiwiZ2V0VGltZSIsImRhdGEiLCJub3dvc2NpIiwic2xpY2UiLCJwcm9tb2NqZSIsIm9uX3NhbGUiLCJwb2xlY2FuZSIsImZlYXR1cmVkIiwiYmVzdHNlbGxlcnkiLCJlcnJvciIsImRldGFpbHMiLCJtZXNzYWdlIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/home-feed/route.ts\n");

/***/ })

};
;